/*! For license information please see main.9b946aea.js.LICENSE.txt */
(()=>{var e={4:(e,t,n)=>{"use strict";var o=n(853),r=n(43),a=n(950);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(i(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var p=Object.assign,h=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),w=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),j=Symbol.for("react.lazy");Symbol.for("react.scope");var N=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var C=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var P=Symbol.iterator;function T(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var O=Symbol.for("react.client.reference");function A(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===O?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case y:return"Profiler";case v:return"StrictMode";case S:return"Suspense";case _:return"SuspenseList";case N:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case w:return(e.displayName||"Context")+".Provider";case x:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:A(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return A(e(t))}catch(n){}}return null}var R=Array.isArray,M=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D={pending:!1,data:null,method:null,action:null},z=[],L=-1;function F(e){return{current:e}}function U(e){0>L||(e.current=z[L],z[L]=null,L--)}function B(e,t){L++,z[L]=e.current,e.current=t}var q=F(null),H=F(null),V=F(null),W=F(null);function K(e,t){switch(B(V,t),B(H,e),B(q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?rd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=ad(t=rd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(q),B(q,e)}function G(){U(q),U(H),U(V)}function Y(e){null!==e.memoizedState&&B(W,e);var t=q.current,n=ad(t,e.type);t!==n&&(B(H,e),B(q,n))}function X(e){H.current===e&&(U(q),U(H)),W.current===e&&(U(W),Yd._currentValue=D)}var $=Object.prototype.hasOwnProperty,J=o.unstable_scheduleCallback,Q=o.unstable_cancelCallback,Z=o.unstable_shouldYield,ee=o.unstable_requestPaint,te=o.unstable_now,ne=o.unstable_getCurrentPriorityLevel,oe=o.unstable_ImmediatePriority,re=o.unstable_UserBlockingPriority,ae=o.unstable_NormalPriority,ie=o.unstable_LowPriority,se=o.unstable_IdlePriority,le=o.log,ce=o.unstable_setDisableYieldValue,ue=null,de=null;function pe(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var he=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(fe(e)/me|0)|0},fe=Math.log,me=Math.LN2;var ge=256,ve=4194304;function ye(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var o=e.pendingLanes;if(0===o)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var s=134217727&o;return 0!==s?0!==(o=s&~a)?r=ye(o):0!==(i&=s)?r=ye(i):n||0!==(n=s&~e)&&(r=ye(n)):0!==(s=o&~a)?r=ye(s):0!==i?r=ye(i):n||0!==(n=o&~e)&&(r=ye(n)),0===r?0:0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(n=t&-t)||32===a&&0!==(4194048&n))?t:r}function xe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ke(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function Se(){var e=ve;return 0===(62914560&(ve<<=1))&&(ve=4194304),e}function _e(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ee(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function je(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var o=31-he(t);e.entangledLanes|=t,e.entanglements[o]=1073741824|e.entanglements[o]|4194090&n}function Ne(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-he(n),r=1<<o;r&t|e[o]&t&&(e[o]|=t),n&=~r}}function Ce(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Te(){var e=I.p;return 0!==e?e:void 0===(e=window.event)?32:cp(e.type)}var Oe=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Oe,Re="__reactProps$"+Oe,Me="__reactContainer$"+Oe,Ie="__reactEvents$"+Oe,De="__reactListeners$"+Oe,ze="__reactHandles$"+Oe,Le="__reactResources$"+Oe,Fe="__reactMarker$"+Oe;function Ue(e){delete e[Ae],delete e[Re],delete e[Ie],delete e[De],delete e[ze]}function Be(e){var t=e[Ae];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Me]||n[Ae]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[Ae])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function qe(e){if(e=e[Ae]||e[Me]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function He(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function Ve(e){var t=e[Le];return t||(t=e[Le]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[Fe]=!0}var Ke=new Set,Ge={};function Ye(e,t){Xe(e,t),Xe(e+"Capture",t)}function Xe(e,t){for(Ge[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var $e,Je,Qe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(r=t,$.call(et,r)||!$.call(Ze,r)&&(Qe.test(r)?et[r]=!0:(Ze[r]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var o=t.toLowerCase().slice(0,5);if("data-"!==o&&"aria-"!==o)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var r}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ot(e,t,n,o){if(null===o)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+o)}}function rt(e){if(void 0===$e)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$e=t&&t[1]||"",Je=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+$e+e+Je}var at=!1;function it(e,t){if(!e||at)return"";at=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(r){var o=r}Reflect.construct(e,[],n)}else{try{n.call()}catch(a){o=a}e.call(n.prototype)}}else{try{throw Error()}catch(i){o=i}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&o&&"string"===typeof s.stack)return[s.stack,o.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=o.DetermineComponentFrameRoot(),i=a[0],s=a[1];if(i&&s){var l=i.split("\n"),c=s.split("\n");for(r=o=0;o<l.length&&!l[o].includes("DetermineComponentFrameRoot");)o++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(o===l.length||r===c.length)for(o=l.length-1,r=c.length-1;1<=o&&0<=r&&l[o]!==c[r];)r--;for(;1<=o&&0<=r;o--,r--)if(l[o]!==c[r]){if(1!==o||1!==r)do{if(o--,0>--r||l[o]!==c[r]){var u="\n"+l[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=r);break}}}finally{at=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?rt(n):""}function st(e){switch(e.tag){case 26:case 27:case 5:return rt(e.type);case 16:return rt("Lazy");case 13:return rt("Suspense");case 19:return rt("SuspenseList");case 0:case 15:return it(e.type,!1);case 11:return it(e.type.render,!1);case 1:return it(e.type,!0);case 31:return rt("Activity");default:return""}}function lt(e){try{var t="";do{t+=st(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){o=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(e){o=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=ut(e)?e.checked?"true":"false":e.value),(e=o)!==n&&(t.setValue(e),!0)}function ht(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ft=/[\n"\\]/g;function mt(e){return e.replace(ft,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,o,r,a,i,s){e.name="",null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?yt(e,i,ct(t)):null!=n?yt(e,i,ct(n)):null!=o&&e.removeAttribute("value"),null==r&&null!=a&&(e.defaultChecked=!!a),null!=r&&(e.checked=r&&"function"!==typeof r&&"symbol"!==typeof r),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ct(s):e.removeAttribute("name")}function vt(e,t,n,o,r,a,i,s){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}o="function"!==typeof(o=null!=o?o:r)&&"symbol"!==typeof o&&!!o,e.checked=s?e.checked:!!o,e.defaultChecked=!!o,null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.name=i)}function yt(e,t,n){"number"===t&&ht(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,o){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&o&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(o&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,o){if(null==t){if(null!=o){if(null!=n)throw Error(i(92));if(R(o)){if(1<o.length)throw Error(i(93));o=o[0]}n=o}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(o=e.textContent)===n&&""!==o&&null!==o&&(e.value=o)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _t(e,t,n){var o=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?o?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":o?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Et(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(i(62));if(e=e.style,null!=n){for(var o in n)!n.hasOwnProperty(o)||null!=t&&t.hasOwnProperty(o)||(0===o.indexOf("--")?e.setProperty(o,""):"float"===o?e.cssFloat="":e[o]="");for(var r in t)o=t[r],t.hasOwnProperty(r)&&n[r]!==o&&_t(e,r,o)}else for(var a in t)t.hasOwnProperty(a)&&_t(e,a,t[a])}function jt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ct=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return Ct.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Tt=null;function Ot(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var At=null,Rt=null;function Mt(e){var t=qe(e);if(t&&(e=t.stateNode)){var n=e[Re]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var r=o[Re]||null;if(!r)throw Error(i(90));gt(o,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)(o=n[t]).form===e.form&&pt(o)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var It=!1;function Dt(e,t,n){if(It)return e(t,n);It=!0;try{return e(t)}finally{if(It=!1,(null!==At||null!==Rt)&&(Bc(),At&&(t=At,e=Rt,Rt=At=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function zt(e,t){var n=e.stateNode;if(null===n)return null;var o=n[Re]||null;if(null===o)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(o=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!o;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Lt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ft=!1;if(Lt)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){Ft=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(Rp){Ft=!1}var Bt=null,qt=null,Ht=null;function Vt(){if(Ht)return Ht;var e,t,n=qt,o=n.length,r="value"in Bt?Bt.value:Bt.textContent,a=r.length;for(e=0;e<o&&n[e]===r[e];e++);var i=o-e;for(t=1;t<=i&&n[o-t]===r[a-t];t++);return Ht=r.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Gt(){return!1}function Yt(e){function t(t,n,o,r,a){for(var i in this._reactName=t,this._targetInst=o,this.type=n,this.nativeEvent=r,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(r):r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Kt:Gt,this.isPropagationStopped=Gt,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Xt,$t,Jt,Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Yt(Qt),en=p({},Qt,{view:0,detail:0}),tn=Yt(en),nn=p({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jt&&(Jt&&"mousemove"===e.type?(Xt=e.screenX-Jt.screenX,$t=e.screenY-Jt.screenY):$t=Xt=0,Jt=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:$t}}),on=Yt(nn),rn=Yt(p({},nn,{dataTransfer:0})),an=Yt(p({},en,{relatedTarget:0})),sn=Yt(p({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Yt(p({},Qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Yt(p({},Qt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=pn[e])&&!!t[e]}function fn(){return hn}var mn=Yt(p({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Yt(p({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vn=Yt(p({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),yn=Yt(p({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Yt(p({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=Yt(p({},Qt,{newState:0,oldState:0})),wn=[9,13,27,32],kn=Lt&&"CompositionEvent"in window,Sn=null;Lt&&"documentMode"in document&&(Sn=document.documentMode);var _n=Lt&&"TextEvent"in window&&!Sn,En=Lt&&(!kn||Sn&&8<Sn&&11>=Sn),jn=String.fromCharCode(32),Nn=!1;function Cn(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Tn=!1;var On={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function An(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!On[e.type]:"textarea"===t}function Rn(e,t,n,o){At?Rt?Rt.push(o):Rt=[o]:At=o,0<(t=Vu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var Mn=null,In=null;function Dn(e){Du(e,0)}function zn(e){if(pt(He(e)))return e}function Ln(e,t){if("change"===e)return t}var Fn=!1;if(Lt){var Un;if(Lt){var Bn="oninput"in document;if(!Bn){var qn=document.createElement("div");qn.setAttribute("oninput","return;"),Bn="function"===typeof qn.oninput}Un=Bn}else Un=!1;Fn=Un&&(!document.documentMode||9<document.documentMode)}function Hn(){Mn&&(Mn.detachEvent("onpropertychange",Vn),In=Mn=null)}function Vn(e){if("value"===e.propertyName&&zn(In)){var t=[];Rn(t,In,e,Ot(e)),Dt(Dn,t)}}function Wn(e,t,n){"focusin"===e?(Hn(),In=n,(Mn=t).attachEvent("onpropertychange",Vn)):"focusout"===e&&Hn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return zn(In)}function Gn(e,t){if("click"===e)return zn(t)}function Yn(e,t){if("input"===e||"change"===e)return zn(t)}var Xn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function $n(e,t){if(Xn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var r=n[o];if(!$.call(t,r)||!Xn(e[r],t[r]))return!1}return!0}function Jn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qn(e,t){var n,o=Jn(e);for(e=0;o;){if(3===o.nodeType){if(n=e+o.textContent.length,e<=t&&n>=t)return{node:o,offset:t-e};e=n}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Jn(o)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function eo(e){for(var t=ht((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(o){n=!1}if(!n)break;t=ht((e=t.contentWindow).document)}return t}function to(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var no=Lt&&"documentMode"in document&&11>=document.documentMode,oo=null,ro=null,ao=null,io=!1;function so(e,t,n){var o=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;io||null==oo||oo!==ht(o)||("selectionStart"in(o=oo)&&to(o)?o={start:o.selectionStart,end:o.selectionEnd}:o={anchorNode:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset},ao&&$n(ao,o)||(ao=o,0<(o=Vu(ro,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=oo)))}function lo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var co={animationend:lo("Animation","AnimationEnd"),animationiteration:lo("Animation","AnimationIteration"),animationstart:lo("Animation","AnimationStart"),transitionrun:lo("Transition","TransitionRun"),transitionstart:lo("Transition","TransitionStart"),transitioncancel:lo("Transition","TransitionCancel"),transitionend:lo("Transition","TransitionEnd")},uo={},po={};function ho(e){if(uo[e])return uo[e];if(!co[e])return e;var t,n=co[e];for(t in n)if(n.hasOwnProperty(t)&&t in po)return uo[e]=n[t];return e}Lt&&(po=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);var fo=ho("animationend"),mo=ho("animationiteration"),go=ho("animationstart"),vo=ho("transitionrun"),yo=ho("transitionstart"),bo=ho("transitioncancel"),xo=ho("transitionend"),wo=new Map,ko="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function So(e,t){wo.set(e,t),Ye(t,[e])}ko.push("scrollEnd");var _o=new WeakMap;function Eo(e,t){if("object"===typeof e&&null!==e){var n=_o.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},_o.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var jo=[],No=0,Co=0;function Po(){for(var e=No,t=Co=No=0;t<e;){var n=jo[t];jo[t++]=null;var o=jo[t];jo[t++]=null;var r=jo[t];jo[t++]=null;var a=jo[t];if(jo[t++]=null,null!==o&&null!==r){var i=o.pending;null===i?r.next=r:(r.next=i.next,i.next=r),o.pending=r}0!==a&&Ro(n,r,a)}}function To(e,t,n,o){jo[No++]=e,jo[No++]=t,jo[No++]=n,jo[No++]=o,Co|=o,e.lanes|=o,null!==(e=e.alternate)&&(e.lanes|=o)}function Oo(e,t,n,o){return To(e,t,n,o),Mo(e)}function Ao(e,t){return To(e,null,null,t),Mo(e)}function Ro(e,t,n){e.lanes|=n;var o=e.alternate;null!==o&&(o.lanes|=n);for(var r=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(o=a.alternate)&&(o.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(r=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,r&&null!==t&&(r=31-he(n),null===(o=(e=a.hiddenUpdates)[r])?e[r]=[t]:o.push(t),t.lane=536870912|n),a):null}function Mo(e){if(50<Ac)throw Ac=0,Rc=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Io={};function Do(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zo(e,t,n,o){return new Do(e,t,n,o)}function Lo(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fo(e,t){var n=e.alternate;return null===n?((n=zo(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Uo(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Bo(e,t,n,o,r,a){var s=0;if(o=e,"function"===typeof e)Lo(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case N:return(e=zo(31,n,t,r)).elementType=N,e.lanes=a,e;case g:return qo(n.children,r,a,t);case v:s=8,r|=24;break;case y:return(e=zo(12,n,t,2|r)).elementType=y,e.lanes=a,e;case S:return(e=zo(13,n,t,r)).elementType=S,e.lanes=a,e;case _:return(e=zo(19,n,t,r)).elementType=_,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case w:s=10;break e;case x:s=9;break e;case k:s=11;break e;case E:s=14;break e;case j:s=16,o=null;break e}s=29,n=Error(i(130,null===e?"null":typeof e,"")),o=null}return(t=zo(s,n,t,r)).elementType=e,t.type=o,t.lanes=a,t}function qo(e,t,n,o){return(e=zo(7,e,o,t)).lanes=n,e}function Ho(e,t,n){return(e=zo(6,e,null,t)).lanes=n,e}function Vo(e,t,n){return(t=zo(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wo=[],Ko=0,Go=null,Yo=0,Xo=[],$o=0,Jo=null,Qo=1,Zo="";function er(e,t){Wo[Ko++]=Yo,Wo[Ko++]=Go,Go=e,Yo=t}function tr(e,t,n){Xo[$o++]=Qo,Xo[$o++]=Zo,Xo[$o++]=Jo,Jo=e;var o=Qo;e=Zo;var r=32-he(o)-1;o&=~(1<<r),n+=1;var a=32-he(t)+r;if(30<a){var i=r-r%5;a=(o&(1<<i)-1).toString(32),o>>=i,r-=i,Qo=1<<32-he(t)+r|n<<r|o,Zo=a+e}else Qo=1<<a|n<<r|o,Zo=e}function nr(e){null!==e.return&&(er(e,1),tr(e,1,0))}function or(e){for(;e===Go;)Go=Wo[--Ko],Wo[Ko]=null,Yo=Wo[--Ko],Wo[Ko]=null;for(;e===Jo;)Jo=Xo[--$o],Xo[$o]=null,Zo=Xo[--$o],Xo[$o]=null,Qo=Xo[--$o],Xo[$o]=null}var rr=null,ar=null,ir=!1,sr=null,lr=!1,cr=Error(i(519));function ur(e){throw gr(Eo(Error(i(418,"")),e)),cr}function dr(e){var t=e.stateNode,n=e.type,o=e.memoizedProps;switch(t[Ae]=e,t[Re]=o,n){case"dialog":zu("cancel",t),zu("close",t);break;case"iframe":case"object":case"embed":zu("load",t);break;case"video":case"audio":for(n=0;n<Mu.length;n++)zu(Mu[n],t);break;case"source":zu("error",t);break;case"img":case"image":case"link":zu("error",t),zu("load",t);break;case"details":zu("toggle",t);break;case"input":zu("invalid",t),vt(t,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),dt(t);break;case"select":zu("invalid",t);break;case"textarea":zu("invalid",t),wt(t,o.value,o.defaultValue,o.children),dt(t)}"string"!==typeof(n=o.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===o.suppressHydrationWarning||$u(t.textContent,n)?(null!=o.popover&&(zu("beforetoggle",t),zu("toggle",t)),null!=o.onScroll&&zu("scroll",t),null!=o.onScrollEnd&&zu("scrollend",t),null!=o.onClick&&(t.onclick=Ju),t=!0):t=!1,t||ur(e)}function pr(e){for(rr=e.return;rr;)switch(rr.tag){case 5:case 13:return void(lr=!1);case 27:case 3:return void(lr=!0);default:rr=rr.return}}function hr(e){if(e!==rr)return!1;if(!ir)return pr(e),ir=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||id(e.type,e.memoizedProps)),t=!t),t&&ar&&ur(e),pr(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ar=vd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ar=null}}else 27===n?(n=ar,hd(e.type)?(e=yd,yd=null,ar=e):ar=n):ar=rr?vd(e.stateNode.nextSibling):null;return!0}function fr(){ar=rr=null,ir=!1}function mr(){var e=sr;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),sr=null),e}function gr(e){null===sr?sr=[e]:sr.push(e)}var vr=F(null),yr=null,br=null;function xr(e,t,n){B(vr,t._currentValue),t._currentValue=n}function wr(e){e._currentValue=vr.current,U(vr)}function kr(e,t,n){for(;null!==e;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==o&&(o.childLanes|=t)):null!==o&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function Sr(e,t,n,o){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var a=r.dependencies;if(null!==a){var s=r.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=r;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),kr(a.return,n,e),o||(s=null);break e}a=l.next}}else if(18===r.tag){if(null===(s=r.return))throw Error(i(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),kr(s,n,e),s=null}else s=r.child;if(null!==s)s.return=r;else for(s=r;null!==s;){if(s===e){s=null;break}if(null!==(r=s.sibling)){r.return=s.return,s=r;break}s=s.return}r=s}}function _r(e,t,n,o){e=null;for(var r=t,a=!1;null!==r;){if(!a)if(0!==(524288&r.flags))a=!0;else if(0!==(262144&r.flags))break;if(10===r.tag){var s=r.alternate;if(null===s)throw Error(i(387));if(null!==(s=s.memoizedProps)){var l=r.type;Xn(r.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(r===W.current){if(null===(s=r.alternate))throw Error(i(387));s.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push(Yd):e=[Yd])}r=r.return}null!==e&&Sr(t,e,n,o),t.flags|=262144}function Er(e){for(e=e.firstContext;null!==e;){if(!Xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function jr(e){yr=e,br=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Nr(e){return Pr(yr,e)}function Cr(e,t){return null===yr&&jr(e),Pr(e,t)}function Pr(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===br){if(null===e)throw Error(i(308));br=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else br=br.next=t;return n}var Tr="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Or=o.unstable_scheduleCallback,Ar=o.unstable_NormalPriority,Rr={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mr(){return{controller:new Tr,data:new Map,refCount:0}}function Ir(e){e.refCount--,0===e.refCount&&Or(Ar,function(){e.controller.abort()})}var Dr=null,zr=0,Lr=0,Fr=null;function Ur(){if(0===--zr&&null!==Dr){null!==Fr&&(Fr.status="fulfilled");var e=Dr;Dr=null,Lr=0,Fr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Br=M.S;M.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Dr){var n=Dr=[];zr=0,Lr=Pu(),Fr={status:"pending",value:void 0,then:function(e){n.push(e)}}}zr++,t.then(Ur,Ur)}(0,t),null!==Br&&Br(e,t)};var qr=F(null);function Hr(){var e=qr.current;return null!==e?e:oc.pooledCache}function Vr(e,t){B(qr,null===t?qr.current:t.pool)}function Wr(){var e=Hr();return null===e?null:{parent:Rr._currentValue,pool:e}}var Kr=Error(i(460)),Gr=Error(i(474)),Yr=Error(i(542)),Xr={then:function(){}};function $r(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Jr(){}function Qr(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Jr,Jr),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ta(e=t.reason),e;default:if("string"===typeof t.status)t.then(Jr,Jr);else{if(null!==(e=oc)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ta(e=t.reason),e}throw Zr=t,Kr}}var Zr=null;function ea(){if(null===Zr)throw Error(i(459));var e=Zr;return Zr=null,e}function ta(e){if(e===Kr||e===Yr)throw Error(i(483))}var na=!1;function oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function aa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ia(e,t,n){var o=e.updateQueue;if(null===o)return null;if(o=o.shared,0!==(2&nc)){var r=o.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),o.pending=t,t=Mo(e),Ro(e,null,n),t}return To(e,o,t,n),Mo(e)}function sa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var o=t.lanes;n|=o&=e.pendingLanes,t.lanes=n,Ne(e,n)}}function la(e,t){var n=e.updateQueue,o=e.alternate;if(null!==o&&n===(o=o.updateQueue)){var r=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?r=a=i:a=a.next=i,n=n.next}while(null!==n);null===a?r=a=t:a=a.next=t}else r=a=t;return n={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:o.shared,callbacks:o.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ca=!1;function ua(){if(ca){if(null!==Fr)throw Fr}}function da(e,t,n,o){ca=!1;var r=e.updateQueue;na=!1;var a=r.firstBaseUpdate,i=r.lastBaseUpdate,s=r.shared.pending;if(null!==s){r.shared.pending=null;var l=s,c=l.next;l.next=null,null===i?a=c:i.next=c,i=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=r.baseState;for(i=0,u=c=l=null,s=a;;){var h=-536870913&s.lane,f=h!==s.lane;if(f?(ac&h)===h:(o&h)===h){0!==h&&h===Lr&&(ca=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=e,g=s;h=t;var v=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(v,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=g.payload)?m.call(v,d,h):m)||void 0===h)break e;d=p({},d,h);break e;case 2:na=!0}}null!==(h=s.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=r.callbacks)?r.callbacks=[h]:f.push(h))}else f={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,i|=h;if(null===(s=s.next)){if(null===(s=r.shared.pending))break;s=(f=s).next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}null===u&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null===a&&(r.shared.lanes=0),hc|=i,e.lanes=i,e.memoizedState=d}}function pa(e,t){if("function"!==typeof e)throw Error(i(191,e));e.call(t)}function ha(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)pa(n[e],t)}var fa=F(null),ma=F(0);function ga(e,t){B(ma,e=dc),B(fa,t),dc=e|t.baseLanes}function va(){B(ma,dc),B(fa,fa.current)}function ya(){dc=ma.current,U(fa),U(ma)}var ba=0,xa=null,wa=null,ka=null,Sa=!1,_a=!1,Ea=!1,ja=0,Na=0,Ca=null,Pa=0;function Ta(){throw Error(i(321))}function Oa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function Aa(e,t,n,o,r,a){return ba=a,xa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=null===e||null===e.memoizedState?Ki:Gi,Ea=!1,a=n(o,r),Ea=!1,_a&&(a=Ma(t,n,o,r)),Ra(e),a}function Ra(e){M.H=Wi;var t=null!==wa&&null!==wa.next;if(ba=0,ka=wa=xa=null,Sa=!1,Na=0,Ca=null,t)throw Error(i(300));null===e||Ns||null!==(e=e.dependencies)&&Er(e)&&(Ns=!0)}function Ma(e,t,n,o){xa=e;var r=0;do{if(_a&&(Ca=null),Na=0,_a=!1,25<=r)throw Error(i(301));if(r+=1,ka=wa=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}M.H=Yi,a=t(n,o)}while(_a);return a}function Ia(){var e=M.H,t=e.useState()[0];return t="function"===typeof t.then?Ba(t):t,e=e.useState()[0],(null!==wa?wa.memoizedState:null)!==e&&(xa.flags|=1024),t}function Da(){var e=0!==ja;return ja=0,e}function za(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function La(e){if(Sa){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Sa=!1}ba=0,ka=wa=xa=null,_a=!1,Na=ja=0,Ca=null}function Fa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ka?xa.memoizedState=ka=e:ka=ka.next=e,ka}function Ua(){if(null===wa){var e=xa.alternate;e=null!==e?e.memoizedState:null}else e=wa.next;var t=null===ka?xa.memoizedState:ka.next;if(null!==t)ka=t,wa=e;else{if(null===e){if(null===xa.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(wa=e).memoizedState,baseState:wa.baseState,baseQueue:wa.baseQueue,queue:wa.queue,next:null},null===ka?xa.memoizedState=ka=e:ka=ka.next=e}return ka}function Ba(e){var t=Na;return Na+=1,null===Ca&&(Ca=[]),e=Qr(Ca,e,t),t=xa,null===(null===ka?t.memoizedState:ka.next)&&(t=t.alternate,M.H=null===t||null===t.memoizedState?Ki:Gi),e}function qa(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Ba(e);if(e.$$typeof===w)return Nr(e)}throw Error(i(438,String(e)))}function Ha(e){var t=null,n=xa.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var o=xa.alternate;null!==o&&(null!==(o=o.updateQueue)&&(null!=(o=o.memoCache)&&(t={data:o.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},xa.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),o=0;o<e;o++)n[o]=C;return t.index++,n}function Va(e,t){return"function"===typeof t?t(e):t}function Wa(e){return Ka(Ua(),wa,e)}function Ka(e,t,n){var o=e.queue;if(null===o)throw Error(i(311));o.lastRenderedReducer=n;var r=e.baseQueue,a=o.pending;if(null!==a){if(null!==r){var s=r.next;r.next=a.next,a.next=s}t.baseQueue=r=a,o.pending=null}if(a=e.baseState,null===r)e.memoizedState=a;else{var l=s=null,c=null,u=t=r.next,d=!1;do{var p=-536870913&u.lane;if(p!==u.lane?(ac&p)===p:(ba&p)===p){var h=u.revertLane;if(0===h)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),p===Lr&&(d=!0);else{if((ba&h)===h){u=u.next,h===Lr&&(d=!0);continue}p={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,s=a):c=c.next=p,xa.lanes|=h,hc|=h}p=u.action,Ea&&n(a,p),a=u.hasEagerState?u.eagerState:n(a,p)}else h={lane:p,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,s=a):c=c.next=h,xa.lanes|=p,hc|=p;u=u.next}while(null!==u&&u!==t);if(null===c?s=a:c.next=l,!Xn(a,e.memoizedState)&&(Ns=!0,d&&null!==(n=Fr)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=c,o.lastRenderedState=a}return null===r&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Ga(e){var t=Ua(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var o=n.dispatch,r=n.pending,a=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{a=e(a,s.action),s=s.next}while(s!==r);Xn(a,t.memoizedState)||(Ns=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,o]}function Ya(e,t,n){var o=xa,r=Ua(),a=ir;if(a){if(void 0===n)throw Error(i(407));n=n()}else n=t();var s=!Xn((wa||r).memoizedState,n);if(s&&(r.memoizedState=n,Ns=!0),r=r.queue,vi(2048,8,Ja.bind(null,o,r,e),[e]),r.getSnapshot!==t||s||null!==ka&&1&ka.memoizedState.tag){if(o.flags|=2048,fi(9,{destroy:void 0,resource:void 0},$a.bind(null,o,r,n,t),null),null===oc)throw Error(i(349));a||0!==(124&ba)||Xa(o,t,n)}return n}function Xa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=xa.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},xa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function $a(e,t,n,o){t.value=n,t.getSnapshot=o,Qa(t)&&Za(e)}function Ja(e,t,n){return n(function(){Qa(t)&&Za(e)})}function Qa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch(o){return!0}}function Za(e){var t=Ao(e,2);null!==t&&Dc(t,e,2)}function ei(e){var t=Fa();if("function"===typeof e){var n=e;if(e=n(),Ea){pe(!0);try{n()}finally{pe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:e},t}function ti(e,t,n,o){return e.baseState=n,Ka(e,wa,"function"===typeof o?o:Va)}function ni(e,t,n,o,r){if(qi(e))throw Error(i(485));if(null!==(e=t.action)){var a={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==M.T?n(!0):a.isTransition=!1,o(a),null===(n=t.pending)?(a.next=t.pending=a,oi(t,a)):(a.next=n.next,t.pending=n.next=a)}}function oi(e,t){var n=t.action,o=t.payload,r=e.state;if(t.isTransition){var a=M.T,i={};M.T=i;try{var s=n(r,o),l=M.S;null!==l&&l(i,s),ri(e,t,s)}catch(c){ii(e,t,c)}finally{M.T=a}}else try{ri(e,t,a=n(r,o))}catch(u){ii(e,t,u)}}function ri(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){ai(e,t,n)},function(n){return ii(e,t,n)}):ai(e,t,n)}function ai(e,t,n){t.status="fulfilled",t.value=n,si(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,oi(e,n)))}function ii(e,t,n){var o=e.pending;if(e.pending=null,null!==o){o=o.next;do{t.status="rejected",t.reason=n,si(t),t=t.next}while(t!==o)}e.action=null}function si(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function li(e,t){return t}function ci(e,t){if(ir){var n=oc.formState;if(null!==n){e:{var o=xa;if(ir){if(ar){t:{for(var r=ar,a=lr;8!==r.nodeType;){if(!a){r=null;break t}if(null===(r=vd(r.nextSibling))){r=null;break t}}r="F!"===(a=r.data)||"F"===a?r:null}if(r){ar=vd(r.nextSibling),o="F!"===r.data;break e}}ur(o)}o=!1}o&&(t=n[0])}}return(n=Fa()).memoizedState=n.baseState=t,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:t},n.queue=o,n=Fi.bind(null,xa,o),o.dispatch=n,o=ei(!1),a=Bi.bind(null,xa,!1,o.queue),r={state:t,dispatch:null,action:e,pending:null},(o=Fa()).queue=r,n=ni.bind(null,xa,r,a,n),r.dispatch=n,o.memoizedState=e,[t,n,!1]}function ui(e){return di(Ua(),wa,e)}function di(e,t,n){if(t=Ka(e,t,li)[0],e=Wa(Va)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var o=Ba(t)}catch(i){if(i===Kr)throw Yr;throw i}else o=t;var r=(t=Ua()).queue,a=r.dispatch;return n!==t.memoizedState&&(xa.flags|=2048,fi(9,{destroy:void 0,resource:void 0},pi.bind(null,r,n),null)),[o,a,e]}function pi(e,t){e.action=t}function hi(e){var t=Ua(),n=wa;if(null!==n)return di(t,n,e);Ua(),t=t.memoizedState;var o=(n=Ua()).queue.dispatch;return n.memoizedState=e,[t,o,!1]}function fi(e,t,n,o){return e={tag:e,create:n,deps:o,inst:t,next:null},null===(t=xa.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},xa.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e),e}function mi(){return Ua().memoizedState}function gi(e,t,n,o){var r=Fa();o=void 0===o?null:o,xa.flags|=e,r.memoizedState=fi(1|t,{destroy:void 0,resource:void 0},n,o)}function vi(e,t,n,o){var r=Ua();o=void 0===o?null:o;var a=r.memoizedState.inst;null!==wa&&null!==o&&Oa(o,wa.memoizedState.deps)?r.memoizedState=fi(t,a,n,o):(xa.flags|=e,r.memoizedState=fi(1|t,a,n,o))}function yi(e,t){gi(8390656,8,e,t)}function bi(e,t){vi(2048,8,e,t)}function xi(e,t){return vi(4,2,e,t)}function wi(e,t){return vi(4,4,e,t)}function ki(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Si(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,vi(4,4,ki.bind(null,t,e),n)}function _i(){}function Ei(e,t){var n=Ua();t=void 0===t?null:t;var o=n.memoizedState;return null!==t&&Oa(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function ji(e,t){var n=Ua();t=void 0===t?null:t;var o=n.memoizedState;if(null!==t&&Oa(t,o[1]))return o[0];if(o=e(),Ea){pe(!0);try{e()}finally{pe(!1)}}return n.memoizedState=[o,t],o}function Ni(e,t,n){return void 0===n||0!==(1073741824&ba)?e.memoizedState=t:(e.memoizedState=n,e=Ic(),xa.lanes|=e,hc|=e,n)}function Ci(e,t,n,o){return Xn(n,t)?n:null!==fa.current?(e=Ni(e,n,o),Xn(e,t)||(Ns=!0),e):0===(42&ba)?(Ns=!0,e.memoizedState=n):(e=Ic(),xa.lanes|=e,hc|=e,t)}function Pi(e,t,n,o,r){var a=I.p;I.p=0!==a&&8>a?a:8;var i=M.T,s={};M.T=s,Bi(e,!1,t,n);try{var l=r(),c=M.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Ui(e,t,function(e,t){var n=[],o={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){o.status="fulfilled",o.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(o.status="rejected",o.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),o}(l,o),Mc());else Ui(e,t,o,Mc())}catch(u){Ui(e,t,{then:function(){},status:"rejected",reason:u},Mc())}finally{I.p=a,M.T=i}}function Ti(){}function Oi(e,t,n,o){if(5!==e.tag)throw Error(i(476));var r=Ai(e).queue;Pi(e,r,t,D,null===n?Ti:function(){return Ri(e),n(o)})}function Ai(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:D,baseState:D,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:D},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ri(e){Ui(e,Ai(e).next.queue,{},Mc())}function Mi(){return Nr(Yd)}function Ii(){return Ua().memoizedState}function Di(){return Ua().memoizedState}function zi(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Mc(),o=ia(t,e=aa(n),n);return null!==o&&(Dc(o,t,n),sa(o,t,n)),t={cache:Mr()},void(e.payload=t)}t=t.return}}function Li(e,t,n){var o=Mc();n={lane:o,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},qi(e)?Hi(t,n):null!==(n=Oo(e,t,n,o))&&(Dc(n,e,o),Vi(n,t,o))}function Fi(e,t,n){Ui(e,t,n,Mc())}function Ui(e,t,n,o){var r={lane:o,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(qi(e))Hi(t,r);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,s=a(i,n);if(r.hasEagerState=!0,r.eagerState=s,Xn(s,i))return To(e,t,r,0),null===oc&&Po(),!1}catch(l){}if(null!==(n=Oo(e,t,r,o)))return Dc(n,e,o),Vi(n,t,o),!0}return!1}function Bi(e,t,n,o){if(o={lane:2,revertLane:Pu(),action:o,hasEagerState:!1,eagerState:null,next:null},qi(e)){if(t)throw Error(i(479))}else null!==(t=Oo(e,n,o,2))&&Dc(t,e,2)}function qi(e){var t=e.alternate;return e===xa||null!==t&&t===xa}function Hi(e,t){_a=Sa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Vi(e,t,n){if(0!==(4194048&n)){var o=t.lanes;n|=o&=e.pendingLanes,t.lanes=n,Ne(e,n)}}var Wi={readContext:Nr,use:qa,useCallback:Ta,useContext:Ta,useEffect:Ta,useImperativeHandle:Ta,useLayoutEffect:Ta,useInsertionEffect:Ta,useMemo:Ta,useReducer:Ta,useRef:Ta,useState:Ta,useDebugValue:Ta,useDeferredValue:Ta,useTransition:Ta,useSyncExternalStore:Ta,useId:Ta,useHostTransitionStatus:Ta,useFormState:Ta,useActionState:Ta,useOptimistic:Ta,useMemoCache:Ta,useCacheRefresh:Ta},Ki={readContext:Nr,use:qa,useCallback:function(e,t){return Fa().memoizedState=[e,void 0===t?null:t],e},useContext:Nr,useEffect:yi,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,gi(4194308,4,ki.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gi(4194308,4,e,t)},useInsertionEffect:function(e,t){gi(4,2,e,t)},useMemo:function(e,t){var n=Fa();t=void 0===t?null:t;var o=e();if(Ea){pe(!0);try{e()}finally{pe(!1)}}return n.memoizedState=[o,t],o},useReducer:function(e,t,n){var o=Fa();if(void 0!==n){var r=n(t);if(Ea){pe(!0);try{n(t)}finally{pe(!1)}}}else r=t;return o.memoizedState=o.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},o.queue=e,e=e.dispatch=Li.bind(null,xa,e),[o.memoizedState,e]},useRef:function(e){return e={current:e},Fa().memoizedState=e},useState:function(e){var t=(e=ei(e)).queue,n=Fi.bind(null,xa,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:_i,useDeferredValue:function(e,t){return Ni(Fa(),e,t)},useTransition:function(){var e=ei(!1);return e=Pi.bind(null,xa,e.queue,!0,!1),Fa().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var o=xa,r=Fa();if(ir){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===oc)throw Error(i(349));0!==(124&ac)||Xa(o,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,yi(Ja.bind(null,o,a,e),[e]),o.flags|=2048,fi(9,{destroy:void 0,resource:void 0},$a.bind(null,o,a,n,t),null),n},useId:function(){var e=Fa(),t=oc.identifierPrefix;if(ir){var n=Zo;t="\xab"+t+"R"+(n=(Qo&~(1<<32-he(Qo)-1)).toString(32)+n),0<(n=ja++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Pa++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Mi,useFormState:ci,useActionState:ci,useOptimistic:function(e){var t=Fa();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Bi.bind(null,xa,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ha,useCacheRefresh:function(){return Fa().memoizedState=zi.bind(null,xa)}},Gi={readContext:Nr,use:qa,useCallback:Ei,useContext:Nr,useEffect:bi,useImperativeHandle:Si,useInsertionEffect:xi,useLayoutEffect:wi,useMemo:ji,useReducer:Wa,useRef:mi,useState:function(){return Wa(Va)},useDebugValue:_i,useDeferredValue:function(e,t){return Ci(Ua(),wa.memoizedState,e,t)},useTransition:function(){var e=Wa(Va)[0],t=Ua().memoizedState;return["boolean"===typeof e?e:Ba(e),t]},useSyncExternalStore:Ya,useId:Ii,useHostTransitionStatus:Mi,useFormState:ui,useActionState:ui,useOptimistic:function(e,t){return ti(Ua(),0,e,t)},useMemoCache:Ha,useCacheRefresh:Di},Yi={readContext:Nr,use:qa,useCallback:Ei,useContext:Nr,useEffect:bi,useImperativeHandle:Si,useInsertionEffect:xi,useLayoutEffect:wi,useMemo:ji,useReducer:Ga,useRef:mi,useState:function(){return Ga(Va)},useDebugValue:_i,useDeferredValue:function(e,t){var n=Ua();return null===wa?Ni(n,e,t):Ci(n,wa.memoizedState,e,t)},useTransition:function(){var e=Ga(Va)[0],t=Ua().memoizedState;return["boolean"===typeof e?e:Ba(e),t]},useSyncExternalStore:Ya,useId:Ii,useHostTransitionStatus:Mi,useFormState:hi,useActionState:hi,useOptimistic:function(e,t){var n=Ua();return null!==wa?ti(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ha,useCacheRefresh:Di},Xi=null,$i=0;function Ji(e){var t=$i;return $i+=1,null===Xi&&(Xi=[]),Qr(Xi,e,t)}function Qi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Zi(e,t){if(t.$$typeof===h)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function es(e){return(0,e._init)(e._payload)}function ts(e){function t(t,n){if(e){var o=t.deletions;null===o?(t.deletions=[n],t.flags|=16):o.push(n)}}function n(n,o){if(!e)return null;for(;null!==o;)t(n,o),o=o.sibling;return null}function o(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(e,t){return(e=Fo(e,t)).index=0,e.sibling=null,e}function a(t,n,o){return t.index=o,e?null!==(o=t.alternate)?(o=o.index)<n?(t.flags|=67108866,n):o:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,o){return null===t||6!==t.tag?((t=Ho(n,e.mode,o)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,o){var a=n.type;return a===g?d(e,t,n.props.children,o,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===j&&es(a)===t.type)?(Qi(t=r(t,n.props),n),t.return=e,t):(Qi(t=Bo(n.type,n.key,n.props,null,e.mode,o),n),t.return=e,t)}function u(e,t,n,o){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vo(n,e.mode,o)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,o,a){return null===t||7!==t.tag?((t=qo(n,e.mode,o,a)).return=e,t):((t=r(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Ho(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return Qi(n=Bo(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Vo(t,e.mode,n)).return=e,t;case j:return p(e,t=(0,t._init)(t._payload),n)}if(R(t)||T(t))return(t=qo(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return p(e,Ji(t),n);if(t.$$typeof===w)return p(e,Cr(e,t),n);Zi(e,t)}return null}function h(e,t,n,o){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==r?null:l(e,t,""+n,o);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===r?c(e,t,n,o):null;case m:return n.key===r?u(e,t,n,o):null;case j:return h(e,t,n=(r=n._init)(n._payload),o)}if(R(n)||T(n))return null!==r?null:d(e,t,n,o,null);if("function"===typeof n.then)return h(e,t,Ji(n),o);if(n.$$typeof===w)return h(e,t,Cr(e,n),o);Zi(e,n)}return null}function v(e,t,n,o,r){if("string"===typeof o&&""!==o||"number"===typeof o||"bigint"===typeof o)return l(t,e=e.get(n)||null,""+o,r);if("object"===typeof o&&null!==o){switch(o.$$typeof){case f:return c(t,e=e.get(null===o.key?n:o.key)||null,o,r);case m:return u(t,e=e.get(null===o.key?n:o.key)||null,o,r);case j:return v(e,t,n,o=(0,o._init)(o._payload),r)}if(R(o)||T(o))return d(t,e=e.get(n)||null,o,r,null);if("function"===typeof o.then)return v(e,t,n,Ji(o),r);if(o.$$typeof===w)return v(e,t,n,Cr(t,o),r);Zi(t,o)}return null}function y(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case f:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=r(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===j&&es(b)===c.type){n(l,c.sibling),Qi(d=r(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=qo(u.props.children,l.mode,d,u.key)).return=l,l=d):(Qi(d=Bo(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return s(l);case m:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=r(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Vo(u,l.mode,d)).return=l,l=d}return s(l);case j:return y(l,c,u=(b=u._init)(u._payload),d)}if(R(u))return function(r,i,s,l){for(var c=null,u=null,d=i,f=i=0,m=null;null!==d&&f<s.length;f++){d.index>f?(m=d,d=null):m=d.sibling;var g=h(r,d,s[f],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(r,d),i=a(g,i,f),null===u?c=g:u.sibling=g,u=g,d=m}if(f===s.length)return n(r,d),ir&&er(r,f),c;if(null===d){for(;f<s.length;f++)null!==(d=p(r,s[f],l))&&(i=a(d,i,f),null===u?c=d:u.sibling=d,u=d);return ir&&er(r,f),c}for(d=o(d);f<s.length;f++)null!==(m=v(d,r,f,s[f],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?f:m.key),i=a(m,i,f),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(r,e)}),ir&&er(r,f),c}(l,c,u,d);if(T(u)){if("function"!==typeof(b=T(u)))throw Error(i(150));return function(r,s,l,c){if(null==l)throw Error(i(151));for(var u=null,d=null,f=s,m=s=0,g=null,y=l.next();null!==f&&!y.done;m++,y=l.next()){f.index>m?(g=f,f=null):g=f.sibling;var b=h(r,f,y.value,c);if(null===b){null===f&&(f=g);break}e&&f&&null===b.alternate&&t(r,f),s=a(b,s,m),null===d?u=b:d.sibling=b,d=b,f=g}if(y.done)return n(r,f),ir&&er(r,m),u;if(null===f){for(;!y.done;m++,y=l.next())null!==(y=p(r,y.value,c))&&(s=a(y,s,m),null===d?u=y:d.sibling=y,d=y);return ir&&er(r,m),u}for(f=o(f);!y.done;m++,y=l.next())null!==(y=v(f,r,m,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?m:y.key),s=a(y,s,m),null===d?u=y:d.sibling=y,d=y);return e&&f.forEach(function(e){return t(r,e)}),ir&&er(r,m),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return y(l,c,Ji(u),d);if(u.$$typeof===w)return y(l,c,Cr(l,u),d);Zi(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=r(c,u)).return=l,l=d):(n(l,c),(d=Ho(u,l.mode,d)).return=l,l=d),s(l)):n(l,c)}return function(e,t,n,o){try{$i=0;var r=y(e,t,n,o);return Xi=null,r}catch(i){if(i===Kr||i===Yr)throw i;var a=zo(29,i,null,e.mode);return a.lanes=o,a.return=e,a}}}var ns=ts(!0),os=ts(!1),rs=F(null),as=null;function is(e){var t=e.alternate;B(us,1&us.current),B(rs,e),null===as&&(null===t||null!==fa.current||null!==t.memoizedState)&&(as=e)}function ss(e){if(22===e.tag){if(B(us,us.current),B(rs,e),null===as){var t=e.alternate;null!==t&&null!==t.memoizedState&&(as=e)}}else ls()}function ls(){B(us,us.current),B(rs,rs.current)}function cs(e){U(rs),as===e&&(as=null),U(us)}var us=F(0);function ds(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ps(e,t,n,o){n=null===(n=n(o,t=e.memoizedState))||void 0===n?t:p({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var hs={enqueueSetState:function(e,t,n){e=e._reactInternals;var o=Mc(),r=aa(o);r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=ia(e,r,o))&&(Dc(t,e,o),sa(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=Mc(),r=aa(o);r.tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=ia(e,r,o))&&(Dc(t,e,o),sa(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Mc(),o=aa(n);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=ia(e,o,n))&&(Dc(t,e,n),sa(t,e,n))}};function fs(e,t,n,o,r,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(o,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!$n(n,o)||!$n(r,a))}function ms(e,t,n,o){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,o),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&hs.enqueueReplaceState(t,t.state,null)}function gs(e,t){var n=t;if("ref"in t)for(var o in n={},t)"ref"!==o&&(n[o]=t[o]);if(e=e.defaultProps)for(var r in n===t&&(n=p({},n)),e)void 0===n[r]&&(n[r]=e[r]);return n}var vs="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function ys(e){vs(e)}function bs(e){console.error(e)}function xs(e){vs(e)}function ws(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function ks(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Ss(e,t,n){return(n=aa(n)).tag=3,n.payload={element:null},n.callback=function(){ws(e,t)},n}function _s(e){return(e=aa(e)).tag=3,e}function Es(e,t,n,o){var r=n.type.getDerivedStateFromError;if("function"===typeof r){var a=o.value;e.payload=function(){return r(a)},e.callback=function(){ks(t,n,o)}}var i=n.stateNode;null!==i&&"function"===typeof i.componentDidCatch&&(e.callback=function(){ks(t,n,o),"function"!==typeof r&&(null===_c?_c=new Set([this]):_c.add(this));var e=o.stack;this.componentDidCatch(o.value,{componentStack:null!==e?e:""})})}var js=Error(i(461)),Ns=!1;function Cs(e,t,n,o){t.child=null===e?os(t,null,n,o):ns(t,e.child,n,o)}function Ps(e,t,n,o,r){n=n.render;var a=t.ref;if("ref"in o){var i={};for(var s in o)"ref"!==s&&(i[s]=o[s])}else i=o;return jr(t),o=Aa(e,t,n,i,a,r),s=Da(),null===e||Ns?(ir&&s&&nr(t),t.flags|=1,Cs(e,t,o,r),t.child):(za(e,t,r),Xs(e,t,r))}function Ts(e,t,n,o,r){if(null===e){var a=n.type;return"function"!==typeof a||Lo(a)||void 0!==a.defaultProps||null!==n.compare?((e=Bo(n.type,null,o,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Os(e,t,a,o,r))}if(a=e.child,!$s(e,r)){var i=a.memoizedProps;if((n=null!==(n=n.compare)?n:$n)(i,o)&&e.ref===t.ref)return Xs(e,t,r)}return t.flags|=1,(e=Fo(a,o)).ref=t.ref,e.return=t,t.child=e}function Os(e,t,n,o,r){if(null!==e){var a=e.memoizedProps;if($n(a,o)&&e.ref===t.ref){if(Ns=!1,t.pendingProps=o=a,!$s(e,r))return t.lanes=e.lanes,Xs(e,t,r);0!==(131072&e.flags)&&(Ns=!0)}}return Is(e,t,n,o,r)}function As(e,t,n){var o=t.pendingProps,r=o.children,a=null!==e?e.memoizedState:null;if("hidden"===o.mode){if(0!==(128&t.flags)){if(o=null!==a?a.baseLanes|n:n,null!==e){for(r=t.child=e.child,a=0;null!==r;)a=a|r.lanes|r.childLanes,r=r.sibling;t.childLanes=a&~o}else t.childLanes=0,t.child=null;return Rs(e,t,o,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Rs(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Vr(0,null!==a?a.cachePool:null),null!==a?ga(t,a):va(),ss(t)}else null!==a?(Vr(0,a.cachePool),ga(t,a),ls(),t.memoizedState=null):(null!==e&&Vr(0,null),va(),ls());return Cs(e,t,r,n),t.child}function Rs(e,t,n,o){var r=Hr();return r=null===r?null:{parent:Rr._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},null!==e&&Vr(0,null),va(),ss(t),null!==e&&_r(e,t,o,!0),null}function Ms(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(i(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Is(e,t,n,o,r){return jr(t),n=Aa(e,t,n,o,void 0,r),o=Da(),null===e||Ns?(ir&&o&&nr(t),t.flags|=1,Cs(e,t,n,r),t.child):(za(e,t,r),Xs(e,t,r))}function Ds(e,t,n,o,r,a){return jr(t),t.updateQueue=null,n=Ma(t,o,n,r),Ra(e),o=Da(),null===e||Ns?(ir&&o&&nr(t),t.flags|=1,Cs(e,t,n,a),t.child):(za(e,t,a),Xs(e,t,a))}function zs(e,t,n,o,r){if(jr(t),null===t.stateNode){var a=Io,i=n.contextType;"object"===typeof i&&null!==i&&(a=Nr(i)),a=new n(o,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=hs,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=o,a.state=t.memoizedState,a.refs={},oa(t),i=n.contextType,a.context="object"===typeof i&&null!==i?Nr(i):Io,a.state=t.memoizedState,"function"===typeof(i=n.getDerivedStateFromProps)&&(ps(t,n,i,o),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(i=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),i!==a.state&&hs.enqueueReplaceState(a,a.state,null),da(t,o,a,r),ua(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),o=!0}else if(null===e){a=t.stateNode;var s=t.memoizedProps,l=gs(n,s);a.props=l;var c=a.context,u=n.contextType;i=Io,"object"===typeof u&&null!==u&&(i=Nr(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s||c!==i)&&ms(t,a,o,i),na=!1;var p=t.memoizedState;a.state=p,da(t,o,a,r),ua(),c=t.memoizedState,s||p!==c||na?("function"===typeof d&&(ps(t,n,d,o),c=t.memoizedState),(l=na||fs(t,n,l,o,p,c,i))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=c),a.props=o,a.state=c,a.context=i,o=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),o=!1)}else{a=t.stateNode,ra(e,t),u=gs(n,i=t.memoizedProps),a.props=u,d=t.pendingProps,p=a.context,c=n.contextType,l=Io,"object"===typeof c&&null!==c&&(l=Nr(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(i!==d||p!==l)&&ms(t,a,o,l),na=!1,p=t.memoizedState,a.state=p,da(t,o,a,r),ua();var h=t.memoizedState;i!==d||p!==h||na||null!==e&&null!==e.dependencies&&Er(e.dependencies)?("function"===typeof s&&(ps(t,n,s,o),h=t.memoizedState),(u=na||fs(t,n,u,o,p,h,l)||null!==e&&null!==e.dependencies&&Er(e.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(o,h,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(o,h,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=h),a.props=o,a.state=h,a.context=l,o=u):("function"!==typeof a.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),o=!1)}return a=o,Ms(e,t),o=0!==(128&t.flags),a||o?(a=t.stateNode,n=o&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&o?(t.child=ns(t,e.child,null,r),t.child=ns(t,null,n,r)):Cs(e,t,n,r),t.memoizedState=a.state,e=t.child):e=Xs(e,t,r),e}function Ls(e,t,n,o){return fr(),t.flags|=256,Cs(e,t,n,o),t.child}var Fs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Us(e){return{baseLanes:e,cachePool:Wr()}}function Bs(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function qs(e,t,n){var o,r=t.pendingProps,a=!1,s=0!==(128&t.flags);if((o=s)||(o=(null===e||null!==e.memoizedState)&&0!==(2&us.current)),o&&(a=!0,t.flags&=-129),o=0!==(32&t.flags),t.flags&=-33,null===e){if(ir){if(a?is(t):ls(),ir){var l,c=ar;if(l=c){e:{for(l=c,c=lr;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=vd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Jo?{id:Qo,overflow:Zo}:null,retryLane:536870912,hydrationErrors:null},(l=zo(18,null,null,0)).stateNode=c,l.return=t,t.child=l,rr=t,ar=null,l=!0):l=!1}l||ur(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;cs(t)}return c=r.children,r=r.fallback,a?(ls(),c=Vs({mode:"hidden",children:c},a=t.mode),r=qo(r,a,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,(a=t.child).memoizedState=Us(n),a.childLanes=Bs(e,o,n),t.memoizedState=Fs,r):(is(t),Hs(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(s)256&t.flags?(is(t),t.flags&=-257,t=Ws(e,t,n)):null!==t.memoizedState?(ls(),t.child=e.child,t.flags|=128,t=null):(ls(),a=r.fallback,c=t.mode,r=Vs({mode:"visible",children:r.children},c),(a=qo(a,c,n,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,ns(t,e.child,null,n),(r=t.child).memoizedState=Us(n),r.childLanes=Bs(e,o,n),t.memoizedState=Fs,t=a);else if(is(t),gd(c)){if(o=c.nextSibling&&c.nextSibling.dataset)var u=o.dgst;o=u,(r=Error(i(419))).stack="",r.digest=o,gr({value:r,source:null,stack:null}),t=Ws(e,t,n)}else if(Ns||_r(e,t,n,!1),o=0!==(n&e.childLanes),Ns||o){if(null!==(o=oc)&&(0!==(r=0!==((r=0!==(42&(r=n&-n))?1:Ce(r))&(o.suspendedLanes|n))?0:r)&&r!==l.retryLane))throw l.retryLane=r,Ao(e,r),Dc(o,e,r),js;"$?"===c.data||Gc(),t=Ws(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ar=vd(c.nextSibling),rr=t,ir=!0,sr=null,lr=!1,null!==e&&(Xo[$o++]=Qo,Xo[$o++]=Zo,Xo[$o++]=Jo,Qo=e.id,Zo=e.overflow,Jo=t),(t=Hs(t,r.children)).flags|=4096);return t}return a?(ls(),a=r.fallback,c=t.mode,u=(l=e.child).sibling,(r=Fo(l,{mode:"hidden",children:r.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?a=Fo(u,a):(a=qo(a,c,n,null)).flags|=2,a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,null===(c=e.child.memoizedState)?c=Us(n):(null!==(l=c.cachePool)?(u=Rr._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Wr(),c={baseLanes:c.baseLanes|n,cachePool:l}),a.memoizedState=c,a.childLanes=Bs(e,o,n),t.memoizedState=Fs,r):(is(t),e=(n=e.child).sibling,(n=Fo(n,{mode:"visible",children:r.children})).return=t,n.sibling=null,null!==e&&(null===(o=t.deletions)?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=n,t.memoizedState=null,n)}function Hs(e,t){return(t=Vs({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Vs(e,t){return(e=zo(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ws(e,t,n){return ns(t,e.child,null,n),(e=Hs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ks(e,t,n){e.lanes|=t;var o=e.alternate;null!==o&&(o.lanes|=t),kr(e.return,t,n)}function Gs(e,t,n,o,r){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=o,a.tail=n,a.tailMode=r)}function Ys(e,t,n){var o=t.pendingProps,r=o.revealOrder,a=o.tail;if(Cs(e,t,o.children,n),0!==(2&(o=us.current)))o=1&o|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ks(e,n,t);else if(19===e.tag)Ks(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(B(us,o),r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===ds(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Gs(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ds(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Gs(t,!0,n,null,a);break;case"together":Gs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),hc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(_r(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Fo(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fo(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $s(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Er(e))}function Js(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ns=!0;else{if(!$s(e,n)&&0===(128&t.flags))return Ns=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),xr(0,Rr,e.memoizedState.cache),fr();break;case 27:case 5:Y(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:xr(0,t.type,t.memoizedProps.value);break;case 13:var o=t.memoizedState;if(null!==o)return null!==o.dehydrated?(is(t),t.flags|=128,null):0!==(n&t.child.childLanes)?qs(e,t,n):(is(t),null!==(e=Xs(e,t,n))?e.sibling:null);is(t);break;case 19:var r=0!==(128&e.flags);if((o=0!==(n&t.childLanes))||(_r(e,t,n,!1),o=0!==(n&t.childLanes)),r){if(o)return Ys(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),B(us,us.current),o)break;return null;case 22:case 23:return t.lanes=0,As(e,t,n);case 24:xr(0,Rr,e.memoizedState.cache)}return Xs(e,t,n)}(e,t,n);Ns=0!==(131072&e.flags)}else Ns=!1,ir&&0!==(1048576&t.flags)&&tr(t,Yo,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var o=t.elementType,r=o._init;if(o=r(o._payload),t.type=o,"function"!==typeof o){if(void 0!==o&&null!==o){if((r=o.$$typeof)===k){t.tag=11,t=Ps(null,t,o,e,n);break e}if(r===E){t.tag=14,t=Ts(null,t,o,e,n);break e}}throw t=A(o)||o,Error(i(306,t,""))}Lo(o)?(e=gs(o,e),t.tag=1,t=zs(null,t,o,e,n)):(t.tag=0,t=Is(null,t,o,e,n))}return t;case 0:return Is(e,t,t.type,t.pendingProps,n);case 1:return zs(e,t,o=t.type,r=gs(o,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(i(387));o=t.pendingProps;var a=t.memoizedState;r=a.element,ra(e,t),da(t,o,null,n);var s=t.memoizedState;if(o=s.cache,xr(0,Rr,o),o!==a.cache&&Sr(t,[Rr],n,!0),ua(),o=s.element,a.isDehydrated){if(a={element:o,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ls(e,t,o,n);break e}if(o!==r){gr(r=Eo(Error(i(424)),t)),t=Ls(e,t,o,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ar=vd(e.firstChild),rr=t,ir=!0,sr=null,lr=!0,n=os(t,null,o,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fr(),o===r){t=Xs(e,t,n);break e}Cs(e,t,o,n)}t=t.child}return t;case 26:return Ms(e,t),null===e?(n=Cd(t.type,null,t.pendingProps,null))?t.memoizedState=n:ir||(n=t.type,e=t.pendingProps,(o=od(V.current).createElement(n))[Ae]=t,o[Re]=e,ed(o,n,e),We(o),t.stateNode=o):t.memoizedState=Cd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&ir&&(o=t.stateNode=xd(t.type,t.pendingProps,V.current),rr=t,lr=!0,r=ar,hd(t.type)?(yd=r,ar=vd(o.firstChild)):ar=r),Cs(e,t,t.pendingProps.children,n),Ms(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ir&&((r=o=ar)&&(null!==(o=function(e,t,n,o){for(;1===e.nodeType;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!o&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(o){if(!e[Fe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==r.rel||e.getAttribute("href")!==(null==r.href||""===r.href?null:r.href)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||e.getAttribute("title")!==(null==r.title?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==r.src?null:r.src)||e.getAttribute("type")!==(null==r.type?null:r.type)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==r.name?null:""+r.name;if("hidden"===r.type&&e.getAttribute("name")===a)return e}if(null===(e=vd(e.nextSibling)))break}return null}(o,t.type,t.pendingProps,lr))?(t.stateNode=o,rr=t,ar=vd(o.firstChild),lr=!1,r=!0):r=!1),r||ur(t)),Y(t),r=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,o=a.children,id(r,a)?o=null:null!==s&&id(r,s)&&(t.flags|=32),null!==t.memoizedState&&(r=Aa(e,t,Ia,null,null,n),Yd._currentValue=r),Ms(e,t),Cs(e,t,o,n),t.child;case 6:return null===e&&ir&&((e=n=ar)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=vd(e.nextSibling)))return null}return e}(n,t.pendingProps,lr))?(t.stateNode=n,rr=t,ar=null,e=!0):e=!1),e||ur(t)),null;case 13:return qs(e,t,n);case 4:return K(t,t.stateNode.containerInfo),o=t.pendingProps,null===e?t.child=ns(t,null,o,n):Cs(e,t,o,n),t.child;case 11:return Ps(e,t,t.type,t.pendingProps,n);case 7:return Cs(e,t,t.pendingProps,n),t.child;case 8:case 12:return Cs(e,t,t.pendingProps.children,n),t.child;case 10:return o=t.pendingProps,xr(0,t.type,o.value),Cs(e,t,o.children,n),t.child;case 9:return r=t.type._context,o=t.pendingProps.children,jr(t),o=o(r=Nr(r)),t.flags|=1,Cs(e,t,o,n),t.child;case 14:return Ts(e,t,t.type,t.pendingProps,n);case 15:return Os(e,t,t.type,t.pendingProps,n);case 19:return Ys(e,t,n);case 31:return o=t.pendingProps,n=t.mode,o={mode:o.mode,children:o.children},null===e?((n=Vs(o,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Fo(e.child,o)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return As(e,t,n);case 24:return jr(t),o=Nr(Rr),null===e?(null===(r=Hr())&&(r=oc,a=Mr(),r.pooledCache=a,a.refCount++,null!==a&&(r.pooledCacheLanes|=n),r=a),t.memoizedState={parent:o,cache:r},oa(t),xr(0,Rr,r)):(0!==(e.lanes&n)&&(ra(e,t),da(t,null,null,n),ua()),r=e.memoizedState,a=t.memoizedState,r.parent!==o?(r={parent:o,cache:o},t.memoizedState=r,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=r),xr(0,Rr,o)):(o=a.cache,xr(0,Rr,o),o!==r.cache&&Sr(t,[Rr],n,!0))),Cs(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Qs(e){e.flags|=4}function Zs(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Bd(t)){if(null!==(t=rs.current)&&((4194048&ac)===ac?null!==as:(62914560&ac)!==ac&&0===(536870912&ac)||t!==as))throw Zr=Xr,Gr;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Se():536870912,e.lanes|=t,vc|=t)}function tl(e,t){if(!ir)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;null!==n;)null!==n.alternate&&(o=n),n=n.sibling;null===o?t||null===e.tail?e.tail=null:e.tail.sibling=null:o.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,o=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,o|=65011712&r.subtreeFlags,o|=65011712&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function ol(e,t,n){var o=t.pendingProps;switch(or(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,o=null,null!==e&&(o=e.memoizedState.cache),t.memoizedState.cache!==o&&(t.flags|=2048),wr(Rr),G(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hr(t)?Qs(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,mr())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Qs(t),null!==n?(nl(t),Zs(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Qs(t),nl(t),Zs(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==o&&Qs(t),nl(t),t.flags&=-16777217),null;case 27:X(t),n=V.current;var r=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==o&&Qs(t);else{if(!o){if(null===t.stateNode)throw Error(i(166));return nl(t),null}e=q.current,hr(t)?dr(t):(e=xd(r,o,n),t.stateNode=e,Qs(t))}return nl(t),null;case 5:if(X(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==o&&Qs(t);else{if(!o){if(null===t.stateNode)throw Error(i(166));return nl(t),null}if(e=q.current,hr(t))dr(t);else{switch(r=od(V.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=r.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof o.is?r.createElement("select",{is:o.is}):r.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e="string"===typeof o.is?r.createElement(n,{is:o.is}):r.createElement(n)}}e[Ae]=t,e[Re]=o;e:for(r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&27!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;null===r.sibling;){if(null===r.return||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(ed(e,n,o),n){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Qs(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==o&&Qs(t);else{if("string"!==typeof o&&null===t.stateNode)throw Error(i(166));if(e=V.current,hr(t)){if(e=t.stateNode,n=t.memoizedProps,o=null,null!==(r=rr))switch(r.tag){case 27:case 5:o=r.memoizedProps}e[Ae]=t,(e=!!(e.nodeValue===n||null!==o&&!0===o.suppressHydrationWarning||$u(e.nodeValue,n)))||ur(t)}else(e=od(e).createTextNode(o))[Ae]=t,t.stateNode=e}return nl(t),null;case 13:if(o=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(r=hr(t),null!==o&&null!==o.dehydrated){if(null===e){if(!r)throw Error(i(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(i(317));r[Ae]=t}else fr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),r=!1}else r=mr(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return 256&t.flags?(cs(t),t):(cs(t),null)}if(cs(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==o,e=null!==e&&null!==e.memoizedState,n){r=null,null!==(o=t.child).alternate&&null!==o.alternate.memoizedState&&null!==o.alternate.memoizedState.cachePool&&(r=o.alternate.memoizedState.cachePool.pool);var a=null;null!==o.memoizedState&&null!==o.memoizedState.cachePool&&(a=o.memoizedState.cachePool.pool),a!==r&&(o.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return G(),null===e&&Uu(t.stateNode.containerInfo),nl(t),null;case 10:return wr(t.type),nl(t),null;case 19:if(U(us),null===(r=t.memoizedState))return nl(t),null;if(o=0!==(128&t.flags),null===(a=r.rendering))if(o)tl(r,!1);else{if(0!==pc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=ds(e))){for(t.flags|=128,tl(r,!1),e=a.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Uo(n,e),n=n.sibling;return B(us,1&us.current|2),t.child}e=e.sibling}null!==r.tail&&te()>kc&&(t.flags|=128,o=!0,tl(r,!1),t.lanes=4194304)}else{if(!o)if(null!==(e=ds(a))){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate&&!ir)return nl(t),null}else 2*te()-r.renderingStartTime>kc&&536870912!==n&&(t.flags|=128,o=!0,tl(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=r.last)?e.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=te(),t.sibling=null,e=us.current,B(us,o?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return cs(t),ya(),o=null!==t.memoizedState,null!==e?null!==e.memoizedState!==o&&(t.flags|=8192):o&&(t.flags|=8192),o?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),o=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(o=t.memoizedState.cachePool.pool),o!==n&&(t.flags|=2048),null!==e&&U(qr),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wr(Rr),nl(t),null;case 25:case 30:return null}throw Error(i(156,t.tag))}function rl(e,t){switch(or(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return wr(Rr),G(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return X(t),null;case 13:if(cs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(us),null;case 4:return G(),null;case 10:return wr(t.type),null;case 22:case 23:return cs(t),ya(),null!==e&&U(qr),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return wr(Rr),null;default:return null}}function al(e,t){switch(or(t),t.tag){case 3:wr(Rr),G();break;case 26:case 27:case 5:X(t);break;case 4:G();break;case 13:cs(t);break;case 19:U(us);break;case 10:wr(t.type);break;case 22:case 23:cs(t),ya(),null!==e&&U(qr);break;case 24:wr(Rr)}}function il(e,t){try{var n=t.updateQueue,o=null!==n?n.lastEffect:null;if(null!==o){var r=o.next;n=r;do{if((n.tag&e)===e){o=void 0;var a=n.create,i=n.inst;o=a(),i.destroy=o}n=n.next}while(n!==r)}}catch(s){uu(t,t.return,s)}}function sl(e,t,n){try{var o=t.updateQueue,r=null!==o?o.lastEffect:null;if(null!==r){var a=r.next;o=a;do{if((o.tag&e)===e){var i=o.inst,s=i.destroy;if(void 0!==s){i.destroy=void 0,r=t;var l=n,c=s;try{c()}catch(u){uu(r,l,u)}}}o=o.next}while(o!==a)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ha(t,n)}catch(o){uu(e,e.return,o)}}}function cl(e,t,n){n.props=gs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(o){uu(e,t,o)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;default:o=e.stateNode}"function"===typeof n?e.refCleanup=n(o):n.current=o}}catch(r){uu(e,t,r)}}function dl(e,t){var n=e.ref,o=e.refCleanup;if(null!==n)if("function"===typeof o)try{o()}catch(r){uu(e,t,r)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){uu(e,t,a)}else n.current=null}function pl(e){var t=e.type,n=e.memoizedProps,o=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&o.focus();break e;case"img":n.src?o.src=n.src:n.srcSet&&(o.srcset=n.srcSet)}}catch(r){uu(e,e.return,r)}}function hl(e,t,n){try{var o=e.stateNode;!function(e,t,n,o){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,a=null,s=null,l=null,c=null,u=null,d=null;for(f in n){var p=n[f];if(n.hasOwnProperty(f)&&null!=p)switch(f){case"checked":case"value":break;case"defaultValue":c=p;default:o.hasOwnProperty(f)||Qu(e,t,f,null,o,p)}}for(var h in o){var f=o[h];if(p=n[h],o.hasOwnProperty(h)&&(null!=f||null!=p))switch(h){case"type":a=f;break;case"name":r=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":s=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(i(137,t));break;default:f!==p&&Qu(e,t,h,f,o,p)}}return void gt(e,s,l,c,u,d,a,r);case"select":for(a in f=s=l=h=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":f=c;default:o.hasOwnProperty(a)||Qu(e,t,a,null,o,c)}for(r in o)if(a=o[r],c=n[r],o.hasOwnProperty(r)&&(null!=a||null!=c))switch(r){case"value":h=a;break;case"defaultValue":l=a;break;case"multiple":s=a;default:a!==c&&Qu(e,t,r,a,o,c)}return t=l,n=s,o=f,void(null!=h?bt(e,!!n,h,!1):!!o!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=h=null,n)if(r=n[l],n.hasOwnProperty(l)&&null!=r&&!o.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Qu(e,t,l,null,o,r)}for(s in o)if(r=o[s],a=n[s],o.hasOwnProperty(s)&&(null!=r||null!=a))switch(s){case"value":h=r;break;case"defaultValue":f=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(i(91));break;default:r!==a&&Qu(e,t,s,r,o,a)}return void xt(e,h,f);case"option":for(var m in n)if(h=n[m],n.hasOwnProperty(m)&&null!=h&&!o.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Qu(e,t,m,null,o,h);for(c in o)if(h=o[c],f=n[c],o.hasOwnProperty(c)&&h!==f&&(null!=h||null!=f))if("selected"===c)e.selected=h&&"function"!==typeof h&&"symbol"!==typeof h;else Qu(e,t,c,h,o,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)h=n[g],n.hasOwnProperty(g)&&null!=h&&!o.hasOwnProperty(g)&&Qu(e,t,g,null,o,h);for(u in o)if(h=o[u],f=n[u],o.hasOwnProperty(u)&&h!==f&&(null!=h||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(i(137,t));break;default:Qu(e,t,u,h,o,f)}return;default:if(jt(t)){for(var v in n)h=n[v],n.hasOwnProperty(v)&&void 0!==h&&!o.hasOwnProperty(v)&&Zu(e,t,v,void 0,o,h);for(d in o)h=o[d],f=n[d],!o.hasOwnProperty(d)||h===f||void 0===h&&void 0===f||Zu(e,t,d,h,o,f);return}}for(var y in n)h=n[y],n.hasOwnProperty(y)&&null!=h&&!o.hasOwnProperty(y)&&Qu(e,t,y,null,o,h);for(p in o)h=o[p],f=n[p],!o.hasOwnProperty(p)||h===f||null==h&&null==f||Qu(e,t,p,h,o,f)}(o,e.type,n,t),o[Re]=t}catch(r){uu(e,e.return,r)}}function fl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&hd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||fl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&hd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var o=e.tag;if(5===o||6===o)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ju));else if(4!==o&&(27===o&&hd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function vl(e,t,n){var o=e.tag;if(5===o||6===o)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==o&&(27===o&&hd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function yl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var o=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ed(t,o,n),t[Ae]=e,t[Re]=n}catch(a){uu(e,e.return,a)}}var bl=!1,xl=!1,wl=!1,kl="function"===typeof WeakSet?WeakSet:Set,Sl=null;function _l(e,t,n){var o=n.flags;switch(n.tag){case 0:case 11:case 15:zl(e,n),4&o&&il(5,n);break;case 1:if(zl(e,n),4&o)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(i){uu(n,n.return,i)}else{var r=gs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){uu(n,n.return,s)}}64&o&&ll(n),512&o&&ul(n,n.return);break;case 3:if(zl(e,n),64&o&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ha(e,t)}catch(i){uu(n,n.return,i)}}break;case 27:null===t&&4&o&&yl(n);case 26:case 5:zl(e,n),null===t&&4&o&&pl(n),512&o&&ul(n,n.return);break;case 12:zl(e,n);break;case 13:zl(e,n),4&o&&Tl(e,n),64&o&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var o=function(){t(),n.removeEventListener("DOMContentLoaded",o)};n.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}(e,n=fu.bind(null,n))));break;case 22:if(!(o=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||xl,r=bl;var a=xl;bl=o,(xl=t)&&!a?Fl(e,n,0!==(8772&n.subtreeFlags)):zl(e,n),bl=r,xl=a}break;case 30:break;default:zl(e,n)}}function El(e){var t=e.alternate;null!==t&&(e.alternate=null,El(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ue(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var jl=null,Nl=!1;function Cl(e,t,n){for(n=n.child;null!==n;)Pl(e,t,n),n=n.sibling}function Pl(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(a){}switch(n.tag){case 26:xl||dl(n,t),Cl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:xl||dl(n,t);var o=jl,r=Nl;hd(n.type)&&(jl=n.stateNode,Nl=!1),Cl(e,t,n),wd(n.stateNode),jl=o,Nl=r;break;case 5:xl||dl(n,t);case 6:if(o=jl,r=Nl,jl=null,Cl(e,t,n),Nl=r,null!==(jl=o))if(Nl)try{(9===jl.nodeType?jl.body:"HTML"===jl.nodeName?jl.ownerDocument.body:jl).removeChild(n.stateNode)}catch(i){uu(n,t,i)}else try{jl.removeChild(n.stateNode)}catch(i){uu(n,t,i)}break;case 18:null!==jl&&(Nl?(fd(9===(e=jl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Np(e)):fd(jl,n.stateNode));break;case 4:o=jl,r=Nl,jl=n.stateNode.containerInfo,Nl=!0,Cl(e,t,n),jl=o,Nl=r;break;case 0:case 11:case 14:case 15:xl||sl(2,n,t),xl||sl(4,n,t),Cl(e,t,n);break;case 1:xl||(dl(n,t),"function"===typeof(o=n.stateNode).componentWillUnmount&&cl(n,t,o)),Cl(e,t,n);break;case 21:Cl(e,t,n);break;case 22:xl=(o=xl)||null!==n.memoizedState,Cl(e,t,n),xl=o;break;default:Cl(e,t,n)}}function Tl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Np(e)}catch(n){uu(t,t.return,n)}}function Ol(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new kl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new kl),t;default:throw Error(i(435,e.tag))}}(e);t.forEach(function(t){var o=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(o,o))})}function Al(e,t){var n=t.deletions;if(null!==n)for(var o=0;o<n.length;o++){var r=n[o],a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(hd(l.type)){jl=l.stateNode,Nl=!1;break e}break;case 5:jl=l.stateNode,Nl=!1;break e;case 3:case 4:jl=l.stateNode.containerInfo,Nl=!0;break e}l=l.return}if(null===jl)throw Error(i(160));Pl(a,s,r),jl=null,Nl=!1,null!==(a=r.alternate)&&(a.return=null),r.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ml(t,e),t=t.sibling}var Rl=null;function Ml(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Al(t,e),Il(e),4&o&&(sl(3,e,e.return),il(3,e),sl(5,e,e.return));break;case 1:Al(t,e),Il(e),512&o&&(xl||null===n||dl(n,n.return)),64&o&&bl&&(null!==(e=e.updateQueue)&&(null!==(o=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?o:n.concat(o))));break;case 26:var r=Rl;if(Al(t,e),Il(e),512&o&&(xl||null===n||dl(n,n.return)),4&o){var a=null!==n?n.memoizedState:null;if(o=e.memoizedState,null===n)if(null===o)if(null===e.stateNode){e:{o=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(o){case"title":(!(a=r.getElementsByTagName("title")[0])||a[Fe]||a[Ae]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=r.createElement(o),r.head.insertBefore(a,r.querySelector("head > title"))),ed(a,o,n),a[Ae]=e,We(a),o=a;break e;case"link":var s=Fd("link","href",r).get(o+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((a=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}ed(a=r.createElement(o),o,n),r.head.appendChild(a);break;case"meta":if(s=Fd("meta","content",r).get(o+(n.content||"")))for(l=0;l<s.length;l++)if((a=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}ed(a=r.createElement(o),o,n),r.head.appendChild(a);break;default:throw Error(i(468,o))}a[Ae]=e,We(a),o=a}e.stateNode=o}else Ud(r,e.type,e.stateNode);else e.stateNode=Md(r,o,e.memoizedProps);else a!==o?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===o?Ud(r,e.type,e.stateNode):Md(r,o,e.memoizedProps)):null===o&&null!==e.stateNode&&hl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Al(t,e),Il(e),512&o&&(xl||null===n||dl(n,n.return)),null!==n&&4&o&&hl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Al(t,e),Il(e),512&o&&(xl||null===n||dl(n,n.return)),32&e.flags){r=e.stateNode;try{kt(r,"")}catch(f){uu(e,e.return,f)}}4&o&&null!=e.stateNode&&hl(e,r=e.memoizedProps,null!==n?n.memoizedProps:r),1024&o&&(wl=!0);break;case 6:if(Al(t,e),Il(e),4&o){if(null===e.stateNode)throw Error(i(162));o=e.memoizedProps,n=e.stateNode;try{n.nodeValue=o}catch(f){uu(e,e.return,f)}}break;case 3:if(Ld=null,r=Rl,Rl=_d(t.containerInfo),Al(t,e),Rl=r,Il(e),4&o&&null!==n&&n.memoizedState.isDehydrated)try{Np(t.containerInfo)}catch(f){uu(e,e.return,f)}wl&&(wl=!1,Dl(e));break;case 4:o=Rl,Rl=_d(e.stateNode.containerInfo),Al(t,e),Il(e),Rl=o;break;case 12:default:Al(t,e),Il(e);break;case 13:Al(t,e),Il(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(wc=te()),4&o&&(null!==(o=e.updateQueue)&&(e.updateQueue=null,Ol(e,o)));break;case 22:r=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,d=xl;if(bl=u||r,xl=d||c,Al(t,e),xl=d,bl=u,Il(e),8192&o)e:for(t=e.stateNode,t._visibility=r?-2&t._visibility:1|t._visibility,r&&(null===n||c||bl||xl||Ll(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,r)"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var p=c.memoizedProps.style,h=void 0!==p&&null!==p&&p.hasOwnProperty("display")?p.display:null;l.style.display=null==h||"boolean"===typeof h?"":(""+h).trim()}}catch(f){uu(c,c.return,f)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(f){uu(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&o&&(null!==(o=e.updateQueue)&&(null!==(n=o.retryQueue)&&(o.retryQueue=null,Ol(e,n))));break;case 19:Al(t,e),Il(e),4&o&&(null!==(o=e.updateQueue)&&(e.updateQueue=null,Ol(e,o)));case 30:case 21:}}function Il(e){var t=e.flags;if(2&t){try{for(var n,o=e.return;null!==o;){if(fl(o)){n=o;break}o=o.return}if(null==n)throw Error(i(160));switch(n.tag){case 27:var r=n.stateNode;vl(e,ml(e),r);break;case 5:var a=n.stateNode;32&n.flags&&(kt(a,""),n.flags&=-33),vl(e,ml(e),a);break;case 3:case 4:var s=n.stateNode.containerInfo;gl(e,ml(e),s);break;default:throw Error(i(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Dl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Dl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function zl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)_l(e,t.alternate,t),t=t.sibling}function Ll(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:sl(4,t,t.return),Ll(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Ll(t);break;case 27:wd(t.stateNode);case 26:case 5:dl(t,t.return),Ll(t);break;case 22:null===t.memoizedState&&Ll(t);break;default:Ll(t)}e=e.sibling}}function Fl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var o=t.alternate,r=e,a=t,i=a.flags;switch(a.tag){case 0:case 11:case 15:Fl(r,a,n),il(4,a);break;case 1:if(Fl(r,a,n),"function"===typeof(r=(o=a).stateNode).componentDidMount)try{r.componentDidMount()}catch(c){uu(o,o.return,c)}if(null!==(r=(o=a).updateQueue)){var s=o.stateNode;try{var l=r.shared.hiddenCallbacks;if(null!==l)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)pa(l[r],s)}catch(c){uu(o,o.return,c)}}n&&64&i&&ll(a),ul(a,a.return);break;case 27:yl(a);case 26:case 5:Fl(r,a,n),n&&null===o&&4&i&&pl(a),ul(a,a.return);break;case 12:Fl(r,a,n);break;case 13:Fl(r,a,n),n&&4&i&&Tl(r,a);break;case 22:null===a.memoizedState&&Fl(r,a,n),ul(a,a.return);break;case 30:break;default:Fl(r,a,n)}t=t.sibling}}function Ul(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ir(n))}function Bl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ir(e))}function ql(e,t,n,o){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Hl(e,t,n,o),t=t.sibling}function Hl(e,t,n,o){var r=t.flags;switch(t.tag){case 0:case 11:case 15:ql(e,t,n,o),2048&r&&il(9,t);break;case 1:case 13:default:ql(e,t,n,o);break;case 3:ql(e,t,n,o),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ir(e)));break;case 12:if(2048&r){ql(e,t,n,o),e=t.stateNode;try{var a=t.memoizedProps,i=a.id,s=a.onPostCommit;"function"===typeof s&&s(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else ql(e,t,n,o);break;case 23:break;case 22:a=t.stateNode,i=t.alternate,null!==t.memoizedState?2&a._visibility?ql(e,t,n,o):Wl(e,t):2&a._visibility?ql(e,t,n,o):(a._visibility|=2,Vl(e,t,n,o,0!==(10256&t.subtreeFlags))),2048&r&&Ul(i,t);break;case 24:ql(e,t,n,o),2048&r&&Bl(t.alternate,t)}}function Vl(e,t,n,o,r){for(r=r&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,i=t,s=n,l=o,c=i.flags;switch(i.tag){case 0:case 11:case 15:Vl(a,i,s,l,r),il(8,i);break;case 23:break;case 22:var u=i.stateNode;null!==i.memoizedState?2&u._visibility?Vl(a,i,s,l,r):Wl(a,i):(u._visibility|=2,Vl(a,i,s,l,r)),r&&2048&c&&Ul(i.alternate,i);break;case 24:Vl(a,i,s,l,r),r&&2048&c&&Bl(i.alternate,i);break;default:Vl(a,i,s,l,r)}t=t.sibling}}function Wl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,o=t,r=o.flags;switch(o.tag){case 22:Wl(n,o),2048&r&&Ul(o.alternate,o);break;case 24:Wl(n,o),2048&r&&Bl(o.alternate,o);break;default:Wl(n,o)}t=t.sibling}}var Kl=8192;function Gl(e){if(e.subtreeFlags&Kl)for(e=e.child;null!==e;)Yl(e),e=e.sibling}function Yl(e){switch(e.tag){case 26:Gl(e),e.flags&Kl&&null!==e.memoizedState&&function(e,t,n){if(null===qd)throw Error(i(475));var o=qd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var r=Pd(n.href),a=e.querySelector(Td(r));if(a)return null!==(e=a._p)&&"object"===typeof e&&"function"===typeof e.then&&(o.count++,o=Vd.bind(o),e.then(o,o)),t.state.loading|=4,t.instance=a,void We(a);a=e.ownerDocument||e,n=Od(n),(r=kd.get(r))&&Dd(n,r),We(a=a.createElement("link"));var s=a;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),ed(a,"link",n),t.instance=a}null===o.stylesheets&&(o.stylesheets=new Map),o.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(o.count++,t=Vd.bind(o),e.addEventListener("load",t),e.addEventListener("error",t))}}(Rl,e.memoizedState,e.memoizedProps);break;case 5:default:Gl(e);break;case 3:case 4:var t=Rl;Rl=_d(e.stateNode.containerInfo),Gl(e),Rl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kl,Kl=16777216,Gl(e),Kl=t):Gl(e))}}function Xl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function $l(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var o=t[n];Sl=o,Zl(o,e)}Xl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Jl(e),e=e.sibling}function Jl(e){switch(e.tag){case 0:case 11:case 15:$l(e),2048&e.flags&&sl(9,e,e.return);break;case 3:case 12:default:$l(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Ql(e)):$l(e)}}function Ql(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var o=t[n];Sl=o,Zl(o,e)}Xl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:sl(8,t,t.return),Ql(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Ql(t));break;default:Ql(t)}e=e.sibling}}function Zl(e,t){for(;null!==Sl;){var n=Sl;switch(n.tag){case 0:case 11:case 15:sl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var o=n.memoizedState.cachePool.pool;null!=o&&o.refCount++}break;case 24:Ir(n.memoizedState.cache)}if(null!==(o=n.child))o.return=n,Sl=o;else e:for(n=e;null!==Sl;){var r=(o=Sl).sibling,a=o.return;if(El(o),o===n){Sl=null;break e}if(null!==r){r.return=a,Sl=r;break e}Sl=a}}}var ec={getCacheForType:function(e){var t=Nr(Rr),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,oc=null,rc=null,ac=0,ic=0,sc=null,lc=!1,cc=!1,uc=!1,dc=0,pc=0,hc=0,fc=0,mc=0,gc=0,vc=0,yc=null,bc=null,xc=!1,wc=0,kc=1/0,Sc=null,_c=null,Ec=0,jc=null,Nc=null,Cc=0,Pc=0,Tc=null,Oc=null,Ac=0,Rc=null;function Mc(){if(0!==(2&nc)&&0!==ac)return ac&-ac;if(null!==M.T){return 0!==Lr?Lr:Pu()}return Te()}function Ic(){0===gc&&(gc=0===(536870912&ac)||ir?ke():536870912);var e=rs.current;return null!==e&&(e.flags|=32),gc}function Dc(e,t,n){(e!==oc||2!==ic&&9!==ic)&&null===e.cancelPendingCommit||(Hc(e,0),Uc(e,ac,gc,!1)),Ee(e,n),0!==(2&nc)&&e===oc||(e===oc&&(0===(2&nc)&&(fc|=n),4===pc&&Uc(e,ac,gc,!1)),ku(e))}function zc(e,t,n){if(0!==(6&nc))throw Error(i(327));for(var o=!n&&0===(124&t)&&0===(t&e.expiredLanes)||xe(e,t),r=o?function(e,t){var n=nc;nc|=2;var o=Wc(),r=Kc();oc!==e||ac!==t?(Sc=null,kc=te()+500,Hc(e,t)):cc=xe(e,t);e:for(;;)try{if(0!==ic&&null!==rc){t=rc;var a=sc;t:switch(ic){case 1:ic=0,sc=null,Zc(e,t,a,1);break;case 2:case 9:if($r(a)){ic=0,sc=null,Qc(t);break}t=function(){2!==ic&&9!==ic||oc!==e||(ic=7),ku(e)},a.then(t,t);break e;case 3:ic=7;break e;case 4:ic=5;break e;case 7:$r(a)?(ic=0,sc=null,Qc(t)):(ic=0,sc=null,Zc(e,t,a,7));break;case 5:var s=null;switch(rc.tag){case 26:s=rc.memoizedState;case 5:case 27:var l=rc;if(!s||Bd(s)){ic=0,sc=null;var c=l.sibling;if(null!==c)rc=c;else{var u=l.return;null!==u?(rc=u,eu(u)):rc=null}break t}}ic=0,sc=null,Zc(e,t,a,5);break;case 6:ic=0,sc=null,Zc(e,t,a,6);break;case 8:qc(),pc=6;break e;default:throw Error(i(462))}}$c();break}catch(d){Vc(e,d)}return br=yr=null,M.H=o,M.A=r,nc=n,null!==rc?0:(oc=null,ac=0,Po(),pc)}(e,t):Yc(e,t,!0),a=o;;){if(0===r){cc&&!o&&Uc(e,t,0,!1);break}if(n=e.current.alternate,!a||Fc(n)){if(2===r){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;r=yc;var c=l.current.memoizedState.isDehydrated;if(c&&(Hc(l,s).flags|=256),2!==(s=Yc(l,s,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=a,fc|=a,r=4;break e}a=bc,bc=r,null!==a&&(null===bc?bc=a:bc.push.apply(bc,a))}r=s}if(a=!1,2!==r)continue}}if(1===r){Hc(e,0),Uc(e,t,0,!0);break}e:{switch(o=e,a=r){case 0:case 1:throw Error(i(345));case 4:if((4194048&t)!==t)break;case 6:Uc(o,t,gc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(i(329))}if((62914560&t)===t&&10<(r=wc+300-te())){if(Uc(o,t,gc,!lc),0!==be(o,0,!0))break e;o.timeoutHandle=ld(Lc.bind(null,o,n,bc,Sc,xc,t,gc,fc,vc,lc,a,2,-0,0),r)}else Lc(o,n,bc,Sc,xc,t,gc,fc,vc,lc,a,0,-0,0)}break}r=Yc(e,t,!1),a=!1}ku(e)}function Lc(e,t,n,o,r,a,s,l,c,u,d,p,h,f){if(e.timeoutHandle=-1,(8192&(p=t.subtreeFlags)||16785408===(16785408&p))&&(qd={stylesheets:null,count:0,unsuspend:Hd},Yl(t),null!==(p=function(){if(null===qd)throw Error(i(475));var e=qd;return e.stylesheets&&0===e.count&&Kd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Kd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=p(nu.bind(null,e,t,a,n,o,r,s,l,c,d,1,h,f)),void Uc(e,a,s,!u);nu(e,t,a,n,o,r,s,l,c)}function Fc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var o=0;o<n.length;o++){var r=n[o],a=r.getSnapshot;r=r.value;try{if(!Xn(a(),r))return!1}catch(i){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Uc(e,t,n,o){t&=~mc,t&=~fc,e.suspendedLanes|=t,e.pingedLanes&=~t,o&&(e.warmLanes|=t),o=e.expirationTimes;for(var r=t;0<r;){var a=31-he(r),i=1<<a;o[a]=-1,r&=~i}0!==n&&je(e,n,t)}function Bc(){return 0!==(6&nc)||(Su(0,!1),!1)}function qc(){if(null!==rc){if(0===ic)var e=rc.return;else br=yr=null,La(e=rc),Xi=null,$i=0,e=rc;for(;null!==e;)al(e.alternate,e),e=e.return;rc=null}}function Hc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),qc(),oc=e,rc=n=Fo(e.current,null),ac=t,ic=0,sc=null,lc=!1,cc=xe(e,t),uc=!1,vc=gc=mc=fc=hc=pc=0,bc=yc=null,xc=!1,0!==(8&t)&&(t|=32&t);var o=e.entangledLanes;if(0!==o)for(e=e.entanglements,o&=t;0<o;){var r=31-he(o),a=1<<r;t|=e[r],o&=~a}return dc=t,Po(),n}function Vc(e,t){xa=null,M.H=Wi,t===Kr||t===Yr?(t=ea(),ic=3):t===Gr?(t=ea(),ic=4):ic=t===js?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,sc=t,null===rc&&(pc=1,ws(e,Eo(t,e.current)))}function Wc(){var e=M.H;return M.H=Wi,null===e?Wi:e}function Kc(){var e=M.A;return M.A=ec,e}function Gc(){pc=4,lc||(4194048&ac)!==ac&&null!==rs.current||(cc=!0),0===(134217727&hc)&&0===(134217727&fc)||null===oc||Uc(oc,ac,gc,!1)}function Yc(e,t,n){var o=nc;nc|=2;var r=Wc(),a=Kc();oc===e&&ac===t||(Sc=null,Hc(e,t)),t=!1;var i=pc;e:for(;;)try{if(0!==ic&&null!==rc){var s=rc,l=sc;switch(ic){case 8:qc(),i=6;break e;case 3:case 2:case 9:case 6:null===rs.current&&(t=!0);var c=ic;if(ic=0,sc=null,Zc(e,s,l,c),n&&cc){i=0;break e}break;default:c=ic,ic=0,sc=null,Zc(e,s,l,c)}}Xc(),i=pc;break}catch(u){Vc(e,u)}return t&&e.shellSuspendCounter++,br=yr=null,nc=o,M.H=r,M.A=a,null===rc&&(oc=null,ac=0,Po()),i}function Xc(){for(;null!==rc;)Jc(rc)}function $c(){for(;null!==rc&&!Z();)Jc(rc)}function Jc(e){var t=Js(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):rc=t}function Qc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ds(n,t,t.pendingProps,t.type,void 0,ac);break;case 11:t=Ds(n,t,t.pendingProps,t.type.render,t.ref,ac);break;case 5:La(t);default:al(n,t),t=Js(n,t=rc=Uo(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):rc=t}function Zc(e,t,n,o){br=yr=null,La(t),Xi=null,$i=0;var r=t.return;try{if(function(e,t,n,o,r){if(n.flags|=32768,null!==o&&"object"===typeof o&&"function"===typeof o.then){if(null!==(t=n.alternate)&&_r(t,n,r,!0),null!==(n=rs.current)){switch(n.tag){case 13:return null===as?Gc():null===n.alternate&&0===pc&&(pc=3),n.flags&=-257,n.flags|=65536,n.lanes=r,o===Xr?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([o]):t.add(o),du(e,o,r)),!1;case 22:return n.flags|=65536,o===Xr?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([o])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([o]):n.add(o),du(e,o,r)),!1}throw Error(i(435,n.tag))}return du(e,o,r),Gc(),!1}if(ir)return null!==(t=rs.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=r,o!==cr&&gr(Eo(e=Error(i(422),{cause:o}),n))):(o!==cr&&gr(Eo(t=Error(i(423),{cause:o}),n)),(e=e.current.alternate).flags|=65536,r&=-r,e.lanes|=r,o=Eo(o,n),la(e,r=Ss(e.stateNode,o,r)),4!==pc&&(pc=2)),!1;var a=Error(i(520),{cause:o});if(a=Eo(a,n),null===yc?yc=[a]:yc.push(a),4!==pc&&(pc=2),null===t)return!0;o=Eo(o,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,la(n,e=Ss(n.stateNode,o,e)),!1;case 1:if(t=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===_c||!_c.has(a))))return n.flags|=65536,r&=-r,n.lanes|=r,Es(r=_s(r),e,n,o),la(n,r),!1}n=n.return}while(null!==n);return!1}(e,r,t,n,ac))return pc=1,ws(e,Eo(n,e.current)),void(rc=null)}catch(a){if(null!==r)throw rc=r,a;return pc=1,ws(e,Eo(n,e.current)),void(rc=null)}32768&t.flags?(ir||1===o?e=!0:cc||0!==(536870912&ac)?e=!1:(lc=e=!0,(2===o||9===o||3===o||6===o)&&(null!==(o=rs.current)&&13===o.tag&&(o.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=ol(t.alternate,t,dc);if(null!==n)return void(rc=n);if(null!==(t=t.sibling))return void(rc=t);rc=t=e}while(null!==t);0===pc&&(pc=5)}function tu(e,t){do{var n=rl(e.alternate,e);if(null!==n)return n.flags&=32767,void(rc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(rc=e);rc=e=n}while(null!==e);pc=6,rc=null}function nu(e,t,n,o,r,a,s,l,c){e.cancelPendingCommit=null;do{su()}while(0!==Ec);if(0!==(6&nc))throw Error(i(327));if(null!==t){if(t===e.current)throw Error(i(177));if(a=t.lanes|t.childLanes,function(e,t,n,o,r,a){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=i&~n;0<n;){var u=31-he(n),d=1<<u;s[u]=0,l[u]=-1;var p=c[u];if(null!==p)for(c[u]=null,u=0;u<p.length;u++){var h=p[u];null!==h&&(h.lane&=-536870913)}n&=~d}0!==o&&je(e,o,0),0!==a&&0===r&&0!==e.tag&&(e.suspendedLanes|=a&~(i&~t))}(e,n,a|=Co,s,l,c),e===oc&&(rc=oc=null,ac=0),Nc=t,jc=e,Cc=n,Pc=a,Tc=r,Oc=o,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,J(ae,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),o=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||o){o=M.T,M.T=null,r=I.p,I.p=2,s=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=np,to(e=eo(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var o=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(o&&0!==o.rangeCount){n=o.anchorNode;var r=o.anchorOffset,a=o.focusNode;o=o.focusOffset;try{n.nodeType,a.nodeType}catch(g){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,p=e,h=null;t:for(;;){for(var f;p!==n||0!==r&&3!==p.nodeType||(l=s+r),p!==a||0!==o&&3!==p.nodeType||(c=s+o),3===p.nodeType&&(s+=p.nodeValue.length),null!==(f=p.firstChild);)h=p,p=f;for(;;){if(p===e)break t;if(h===n&&++u===r&&(l=s),h===a&&++d===o&&(c=s),null!==(f=p.nextSibling))break;h=(p=h).parentNode}p=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},np=!1,Sl=t;null!==Sl;)if(e=(t=Sl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Sl=e;else for(;null!==Sl;){switch(a=(t=Sl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,n=t,r=a.memoizedProps,a=a.memoizedState,o=n.stateNode;try{var m=gs(n.type,r,(n.elementType,n.type));e=o.getSnapshotBeforeUpdate(m,a),o.__reactInternalSnapshotBeforeUpdate=e}catch(v){uu(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,Sl=e;break}Sl=t.return}}(e,t)}finally{nc=s,I.p=r,M.T=o}}Ec=1,ou(),ru(),au()}}function ou(){if(1===Ec){Ec=0;var e=jc,t=Nc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=M.T,M.T=null;var o=I.p;I.p=2;var r=nc;nc|=4;try{Ml(t,e);var a=nd,i=eo(e.containerInfo),s=a.focusedElem,l=a.selectionRange;if(i!==s&&s&&s.ownerDocument&&Zn(s.ownerDocument.documentElement,s)){if(null!==l&&to(s)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,p=d&&d.defaultView||window;if(p.getSelection){var h=p.getSelection(),f=s.textContent.length,m=Math.min(l.start,f),g=void 0===l.end?m:Math.min(l.end,f);!h.extend&&m>g&&(i=g,g=m,m=i);var v=Qn(s,m),y=Qn(s,g);if(v&&y&&(1!==h.rangeCount||h.anchorNode!==v.node||h.anchorOffset!==v.offset||h.focusNode!==y.node||h.focusOffset!==y.offset)){var b=d.createRange();b.setStart(v.node,v.offset),h.removeAllRanges(),m>g?(h.addRange(b),h.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),h.addRange(b))}}}}for(d=[],h=s;h=h.parentNode;)1===h.nodeType&&d.push({element:h,left:h.scrollLeft,top:h.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<d.length;s++){var x=d[s];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}np=!!td,nd=td=null}finally{nc=r,I.p=o,M.T=n}}e.current=t,Ec=2}}function ru(){if(2===Ec){Ec=0;var e=jc,t=Nc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=M.T,M.T=null;var o=I.p;I.p=2;var r=nc;nc|=4;try{_l(e,t.alternate,t)}finally{nc=r,I.p=o,M.T=n}}Ec=3}}function au(){if(4===Ec||3===Ec){Ec=0,ee();var e=jc,t=Nc,n=Cc,o=Oc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Ec=5:(Ec=0,Nc=jc=null,iu(e,e.pendingLanes));var r=e.pendingLanes;if(0===r&&(_c=null),Pe(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==o){t=M.T,r=I.p,I.p=2,M.T=null;try{for(var a=e.onRecoverableError,i=0;i<o.length;i++){var s=o[i];a(s.value,{componentStack:s.stack})}}finally{M.T=t,I.p=r}}0!==(3&Cc)&&su(),ku(e),r=e.pendingLanes,0!==(4194090&n)&&0!==(42&r)?e===Rc?Ac++:(Ac=0,Rc=e):Ac=0,Su(0,!1)}}function iu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ir(t)))}function su(e){return ou(),ru(),au(),lu()}function lu(){if(5!==Ec)return!1;var e=jc,t=Pc;Pc=0;var n=Pe(Cc),o=M.T,r=I.p;try{I.p=32>n?32:n,M.T=null,n=Tc,Tc=null;var a=jc,s=Cc;if(Ec=0,Nc=jc=null,Cc=0,0!==(6&nc))throw Error(i(331));var l=nc;if(nc|=4,Jl(a.current),Hl(a,a.current,s,n),nc=l,Su(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,a)}catch(c){}return!0}finally{I.p=r,M.T=o,iu(e,t)}}function cu(e,t,n){t=Eo(n,t),null!==(e=ia(e,t=Ss(e.stateNode,t,2),2))&&(Ee(e,2),ku(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var o=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof o.componentDidCatch&&(null===_c||!_c.has(o))){e=Eo(n,e),null!==(o=ia(t,n=_s(2),2))&&(Es(n,o,t,e),Ee(o,2),ku(o));break}}t=t.return}}function du(e,t,n){var o=e.pingCache;if(null===o){o=e.pingCache=new tc;var r=new Set;o.set(t,r)}else void 0===(r=o.get(t))&&(r=new Set,o.set(t,r));r.has(n)||(uc=!0,r.add(n),e=pu.bind(null,e,t,n),t.then(e,e))}function pu(e,t,n){var o=e.pingCache;null!==o&&o.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,oc===e&&(ac&n)===n&&(4===pc||3===pc&&(62914560&ac)===ac&&300>te()-wc?0===(2&nc)&&Hc(e,0):mc|=n,vc===ac&&(vc=0)),ku(e)}function hu(e,t){0===t&&(t=Se()),null!==(e=Ao(e,t))&&(Ee(e,t),ku(e))}function fu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),hu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==o&&o.delete(t),hu(e,n)}var gu=null,vu=null,yu=!1,bu=!1,xu=!1,wu=0;function ku(e){e!==vu&&null===e.next&&(null===vu?gu=vu=e:vu=vu.next=e),bu=!0,yu||(yu=!0,dd(function(){0!==(6&nc)?J(oe,_u):Eu()}))}function Su(e,t){if(!xu&&bu){xu=!0;do{for(var n=!1,o=gu;null!==o;){if(!t)if(0!==e){var r=o.pendingLanes;if(0===r)var a=0;else{var i=o.suspendedLanes,s=o.pingedLanes;a=(1<<31-he(42|e)+1)-1,a=201326741&(a&=r&~(i&~s))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Cu(o,a))}else a=ac,0===(3&(a=be(o,o===oc?a:0,null!==o.cancelPendingCommit||-1!==o.timeoutHandle)))||xe(o,a)||(n=!0,Cu(o,a));o=o.next}}while(n);xu=!1}}function _u(){Eu()}function Eu(){bu=yu=!1;var e=0;0!==wu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==sd&&(sd=e,!0);return sd=null,!1}()&&(e=wu),wu=0);for(var t=te(),n=null,o=gu;null!==o;){var r=o.next,a=ju(o,t);0===a?(o.next=null,null===n?gu=r:n.next=r,null===r&&(vu=n)):(n=o,(0!==e||0!==(3&a))&&(bu=!0)),o=r}Su(e,!1)}function ju(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,r=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var i=31-he(a),s=1<<i,l=r[i];-1===l?0!==(s&n)&&0===(s&o)||(r[i]=we(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}if(n=ac,n=be(e,e===(t=oc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),o=e.callbackNode,0===n||e===t&&(2===ic||9===ic)||null!==e.cancelPendingCommit)return null!==o&&null!==o&&Q(o),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||xe(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==o&&Q(o),Pe(n)){case 2:case 8:n=re;break;case 32:default:n=ae;break;case 268435456:n=se}return o=Nu.bind(null,e),n=J(n,o),e.callbackPriority=t,e.callbackNode=n,t}return null!==o&&null!==o&&Q(o),e.callbackPriority=2,e.callbackNode=null,2}function Nu(e,t){if(0!==Ec&&5!==Ec)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(su()&&e.callbackNode!==n)return null;var o=ac;return 0===(o=be(e,e===oc?o:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(zc(e,o,t),ju(e,te()),null!=e.callbackNode&&e.callbackNode===n?Nu.bind(null,e):null)}function Cu(e,t){if(su())return null;zc(e,t,!0)}function Pu(){return 0===wu&&(wu=ke()),wu}function Tu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function Ou(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Au=0;Au<ko.length;Au++){var Ru=ko[Au];So(Ru.toLowerCase(),"on"+(Ru[0].toUpperCase()+Ru.slice(1)))}So(fo,"onAnimationEnd"),So(mo,"onAnimationIteration"),So(go,"onAnimationStart"),So("dblclick","onDoubleClick"),So("focusin","onFocus"),So("focusout","onBlur"),So(vo,"onTransitionRun"),So(yo,"onTransitionStart"),So(bo,"onTransitionCancel"),So(xo,"onTransitionEnd"),Xe("onMouseEnter",["mouseout","mouseover"]),Xe("onMouseLeave",["mouseout","mouseover"]),Xe("onPointerEnter",["pointerout","pointerover"]),Xe("onPointerLeave",["pointerout","pointerover"]),Ye("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ye("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ye("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ye("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mu));function Du(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var o=e[n],r=o.event;o=o.listeners;e:{var a=void 0;if(t)for(var i=o.length-1;0<=i;i--){var s=o[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&r.isPropagationStopped())break e;a=s,r.currentTarget=c;try{a(r)}catch(u){vs(u)}r.currentTarget=null,a=l}else for(i=0;i<o.length;i++){if(l=(s=o[i]).instance,c=s.currentTarget,s=s.listener,l!==a&&r.isPropagationStopped())break e;a=s,r.currentTarget=c;try{a(r)}catch(u){vs(u)}r.currentTarget=null,a=l}}}}function zu(e,t){var n=t[Ie];void 0===n&&(n=t[Ie]=new Set);var o=e+"__bubble";n.has(o)||(Bu(t,e,2,!1),n.add(o))}function Lu(e,t,n){var o=0;t&&(o|=4),Bu(n,e,o,t)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function Uu(e){if(!e[Fu]){e[Fu]=!0,Ke.forEach(function(t){"selectionchange"!==t&&(Iu.has(t)||Lu(t,!1,e),Lu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fu]||(t[Fu]=!0,Lu("selectionchange",!1,t))}}function Bu(e,t,n,o){switch(cp(t)){case 2:var r=op;break;case 8:r=rp;break;default:r=ap}n=r.bind(null,t,n,e),r=void 0,!Ft||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),o?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function qu(e,t,n,o,r){var a=o;if(0===(1&t)&&0===(2&t)&&null!==o)e:for(;;){if(null===o)return;var i=o.tag;if(3===i||4===i){var s=o.stateNode.containerInfo;if(s===r)break;if(4===i)for(i=o.return;null!==i;){var c=i.tag;if((3===c||4===c)&&i.stateNode.containerInfo===r)return;i=i.return}for(;null!==s;){if(null===(i=Be(s)))return;if(5===(c=i.tag)||6===c||26===c||27===c){o=a=i;continue e}s=s.parentNode}}o=o.return}Dt(function(){var o=a,r=Ot(n),i=[];e:{var s=wo.get(e);if(void 0!==s){var c=Zt,u=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=an;break;case"focusout":u="blur",c=an;break;case"beforeblur":case"afterblur":c=an;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=on;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=vn;break;case fo:case mo:case go:c=sn;break;case xo:c=yn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=xn}var d=0!==(4&t),p=!d&&("scroll"===e||"scrollend"===e),h=d?null!==s?s+"Capture":null:s;d=[];for(var f,m=o;null!==m;){var g=m;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===h||null!=(g=zt(m,h))&&d.push(Hu(m,g,f)),p)break;m=m.return}0<d.length&&(s=new c(s,u,null,n,r),i.push({event:s,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Tt||!(u=n.relatedTarget||n.fromElement)||!Be(u)&&!u[Me])&&(c||s)&&(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=o,null!==(u=(u=n.relatedTarget||n.toElement)?Be(u):null)&&(p=l(u),d=u.tag,u!==p||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=o),c!==u)){if(d=on,g="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",h="onPointerEnter",m="pointer"),p=null==c?s:He(c),f=null==u?s:He(u),(s=new d(g,m+"leave",c,n,r)).target=p,s.relatedTarget=f,g=null,Be(r)===o&&((d=new d(h,m+"enter",u,n,r)).target=f,d.relatedTarget=p,g=d),p=g,c&&u)e:{for(h=u,m=0,f=d=c;f;f=Wu(f))m++;for(f=0,g=h;g;g=Wu(g))f++;for(;0<m-f;)d=Wu(d),m--;for(;0<f-m;)h=Wu(h),f--;for(;m--;){if(d===h||null!==h&&d===h.alternate)break e;d=Wu(d),h=Wu(h)}d=null}else d=null;null!==c&&Ku(i,s,c,d,!1),null!==u&&null!==p&&Ku(i,p,u,d,!0)}if("select"===(c=(s=o?He(o):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var v=Ln;else if(An(s))if(Fn)v=Yn;else{v=Kn;var y=Wn}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?o&&jt(o.elementType)&&(v=Ln):v=Gn;switch(v&&(v=v(e,o))?Rn(i,v,n,r):(y&&y(e,s,o),"focusout"===e&&o&&"number"===s.type&&null!=o.memoizedProps.value&&yt(s,"number",s.value)),y=o?He(o):window,e){case"focusin":(An(y)||"true"===y.contentEditable)&&(oo=y,ro=o,ao=null);break;case"focusout":ao=ro=oo=null;break;case"mousedown":io=!0;break;case"contextmenu":case"mouseup":case"dragend":io=!1,so(i,n,r);break;case"selectionchange":if(no)break;case"keydown":case"keyup":so(i,n,r)}var b;if(kn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Tn?Cn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(En&&"ko"!==n.locale&&(Tn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Tn&&(b=Vt()):(qt="value"in(Bt=r)?Bt.value:Bt.textContent,Tn=!0)),0<(y=Vu(o,x)).length&&(x=new cn(x,e,null,n,r),i.push({event:x,listeners:y}),b?x.data=b:null!==(b=Pn(n))&&(x.data=b))),(b=_n?function(e,t){switch(e){case"compositionend":return Pn(t);case"keypress":return 32!==t.which?null:(Nn=!0,jn);case"textInput":return(e=t.data)===jn&&Nn?null:e;default:return null}}(e,n):function(e,t){if(Tn)return"compositionend"===e||!kn&&Cn(e,t)?(e=Vt(),Ht=qt=Bt=null,Tn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return En&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=Vu(o,"onBeforeInput")).length&&(y=new cn("onBeforeInput","beforeinput",null,n,r),i.push({event:y,listeners:x}),y.data=b)),function(e,t,n,o,r){if("submit"===t&&n&&n.stateNode===r){var a=Tu((r[Re]||null).action),i=o.submitter;i&&null!==(t=(t=i[Re]||null)?Tu(t.formAction):i.getAttribute("formAction"))&&(a=t,i=null);var s=new Zt("action","action",null,o,r);e.push({event:s,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(0!==wu){var e=i?Ou(r,i):new FormData(r);Oi(n,{pending:!0,data:e,method:r.method,action:a},null,e)}}else"function"===typeof a&&(s.preventDefault(),e=i?Ou(r,i):new FormData(r),Oi(n,{pending:!0,data:e,method:r.method,action:a},a,e))},currentTarget:r}]})}}(i,e,o,n,r)}Du(i,t)})}function Hu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vu(e,t){for(var n=t+"Capture",o=[];null!==e;){var r=e,a=r.stateNode;if(5!==(r=r.tag)&&26!==r&&27!==r||null===a||(null!=(r=zt(e,n))&&o.unshift(Hu(e,r,a)),null!=(r=zt(e,t))&&o.push(Hu(e,r,a))),3===e.tag)return o;e=e.return}return[]}function Wu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Ku(e,t,n,o,r){for(var a=t._reactName,i=[];null!==n&&n!==o;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===o)break;5!==s&&26!==s&&27!==s||null===c||(l=c,r?null!=(c=zt(n,a))&&i.unshift(Hu(n,c,l)):r||null!=(c=zt(n,a))&&i.push(Hu(n,c,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Gu=/\r\n?/g,Yu=/\u0000|\uFFFD/g;function Xu(e){return("string"===typeof e?e:""+e).replace(Gu,"\n").replace(Yu,"")}function $u(e,t){return t=Xu(t),Xu(e)===t}function Ju(){}function Qu(e,t,n,o,r,a){switch(n){case"children":"string"===typeof o?"body"===t||"textarea"===t&&""===o||kt(e,o):("number"===typeof o||"bigint"===typeof o)&&"body"!==t&&kt(e,""+o);break;case"className":nt(e,"class",o);break;case"tabIndex":nt(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,o);break;case"style":Et(e,o,a);break;case"data":if("object"!==t){nt(e,"data",o);break}case"src":case"href":if(""===o&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==o||"function"===typeof o||"symbol"===typeof o||"boolean"===typeof o){e.removeAttribute(n);break}o=Pt(""+o),e.setAttribute(n,o);break;case"action":case"formAction":if("function"===typeof o){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==t&&Qu(e,t,"name",r.name,r,null),Qu(e,t,"formEncType",r.formEncType,r,null),Qu(e,t,"formMethod",r.formMethod,r,null),Qu(e,t,"formTarget",r.formTarget,r,null)):(Qu(e,t,"encType",r.encType,r,null),Qu(e,t,"method",r.method,r,null),Qu(e,t,"target",r.target,r,null))),null==o||"symbol"===typeof o||"boolean"===typeof o){e.removeAttribute(n);break}o=Pt(""+o),e.setAttribute(n,o);break;case"onClick":null!=o&&(e.onclick=Ju);break;case"onScroll":null!=o&&zu("scroll",e);break;case"onScrollEnd":null!=o&&zu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=o){if("object"!==typeof o||!("__html"in o))throw Error(i(61));if(null!=(n=o.__html)){if(null!=r.children)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=o&&"function"!==typeof o&&"symbol"!==typeof o;break;case"muted":e.muted=o&&"function"!==typeof o&&"symbol"!==typeof o;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==o||"function"===typeof o||"boolean"===typeof o||"symbol"===typeof o){e.removeAttribute("xlink:href");break}n=Pt(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=o&&"function"!==typeof o&&"symbol"!==typeof o?e.setAttribute(n,""+o):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&"function"!==typeof o&&"symbol"!==typeof o?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===o?e.setAttribute(n,""):!1!==o&&null!=o&&"function"!==typeof o&&"symbol"!==typeof o?e.setAttribute(n,o):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&!isNaN(o)&&1<=o?e.setAttribute(n,o):e.removeAttribute(n);break;case"rowSpan":case"start":null==o||"function"===typeof o||"symbol"===typeof o||isNaN(o)?e.removeAttribute(n):e.setAttribute(n,o);break;case"popover":zu("beforetoggle",e),zu("toggle",e),tt(e,"popover",o);break;case"xlinkActuate":ot(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ot(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ot(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ot(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ot(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ot(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ot(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ot(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ot(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":tt(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Nt.get(n)||n,o)}}function Zu(e,t,n,o,r,a){switch(n){case"style":Et(e,o,a);break;case"dangerouslySetInnerHTML":if(null!=o){if("object"!==typeof o||!("__html"in o))throw Error(i(61));if(null!=(n=o.__html)){if(null!=r.children)throw Error(i(60));e.innerHTML=n}}break;case"children":"string"===typeof o?kt(e,o):("number"===typeof o||"bigint"===typeof o)&&kt(e,""+o);break;case"onScroll":null!=o&&zu("scroll",e);break;case"onScrollEnd":null!=o&&zu("scrollend",e);break;case"onClick":null!=o&&(e.onclick=Ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ge.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),"function"===typeof(a=null!=(a=e[Re]||null)?a[n]:null)&&e.removeEventListener(t,a,r),"function"!==typeof o)?n in e?e[n]=o:!0===o?e.setAttribute(n,""):tt(e,n,o):("function"!==typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,o,r)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zu("error",e),zu("load",e);var o,r=!1,a=!1;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(null!=s)switch(o){case"src":r=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Qu(e,t,o,s,n,null)}}return a&&Qu(e,t,"srcSet",n.srcSet,n,null),void(r&&Qu(e,t,"src",n.src,n,null));case"input":zu("invalid",e);var l=o=s=a=null,c=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(null!=d)switch(r){case"name":a=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":o=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(i(137,t));break;default:Qu(e,t,r,d,n,null)}}return vt(e,o,l,c,u,s,a,!1),void dt(e);case"select":for(a in zu("invalid",e),r=s=o=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":o=l;break;case"defaultValue":s=l;break;case"multiple":r=l;default:Qu(e,t,a,l,n,null)}return t=o,n=s,e.multiple=!!r,void(null!=t?bt(e,!!r,t,!1):null!=n&&bt(e,!!r,n,!0));case"textarea":for(s in zu("invalid",e),o=a=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":a=l;break;case"children":o=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(i(91));break;default:Qu(e,t,s,l,n,null)}return wt(e,r,a,o),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(r=n[c]))if("selected"===c)e.selected=r&&"function"!==typeof r&&"symbol"!==typeof r;else Qu(e,t,c,r,n,null);return;case"dialog":zu("beforetoggle",e),zu("toggle",e),zu("cancel",e),zu("close",e);break;case"iframe":case"object":zu("load",e);break;case"video":case"audio":for(r=0;r<Mu.length;r++)zu(Mu[r],e);break;case"image":zu("error",e),zu("load",e);break;case"details":zu("toggle",e);break;case"embed":case"source":case"link":zu("error",e),zu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(r=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Qu(e,t,u,r,n,null)}return;default:if(jt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(r=n[d])&&Zu(e,t,d,r,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(r=n[l])&&Qu(e,t,l,r,n,null))}var td=null,nd=null;function od(e){return 9===e.nodeType?e:e.ownerDocument}function rd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ad(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function id(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sd=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(pd)}:ld;function pd(e){setTimeout(function(){throw e})}function hd(e){return"head"===e}function fd(e,t){var n=t,o=0,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0<o&&8>o){n=o;var i=e.ownerDocument;if(1&n&&wd(i.documentElement),2&n&&wd(i.body),4&n)for(wd(n=i.head),i=n.firstChild;i;){var s=i.nextSibling,l=i.nodeName;i[Fe]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===i.rel.toLowerCase()||n.removeChild(i),i=s}}if(0===r)return e.removeChild(a),void Np(t);r--}else"$"===n||"$?"===n||"$!"===n?r++:o=n.charCodeAt(0)-48;else o=0;n=a}while(n);Np(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),Ue(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var yd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function xd(e,t,n){switch(t=od(n),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}function wd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ue(e)}var kd=new Map,Sd=new Set;function _d(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Ed=I.d;I.d={f:function(){var e=Ed.f(),t=Bc();return e||t},r:function(e){var t=qe(e);null!==t&&5===t.tag&&"form"===t.type?Ri(t):Ed.r(e)},D:function(e){Ed.D(e),Nd("dns-prefetch",e,null)},C:function(e,t){Ed.C(e,t),Nd("preconnect",e,t)},L:function(e,t,n){Ed.L(e,t,n);var o=jd;if(o&&e&&t){var r='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(r+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(r+='[imagesizes="'+mt(n.imageSizes)+'"]')):r+='[href="'+mt(e)+'"]';var a=r;switch(t){case"style":a=Pd(e);break;case"script":a=Ad(e)}kd.has(a)||(e=p({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),kd.set(a,e),null!==o.querySelector(r)||"style"===t&&o.querySelector(Td(a))||"script"===t&&o.querySelector(Rd(a))||(ed(t=o.createElement("link"),"link",e),We(t),o.head.appendChild(t)))}},m:function(e,t){Ed.m(e,t);var n=jd;if(n&&e){var o=t&&"string"===typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+mt(o)+'"][href="'+mt(e)+'"]',a=r;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Ad(e)}if(!kd.has(a)&&(e=p({rel:"modulepreload",href:e},t),kd.set(a,e),null===n.querySelector(r))){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Rd(a)))return}ed(o=n.createElement("link"),"link",e),We(o),n.head.appendChild(o)}}},X:function(e,t){Ed.X(e,t);var n=jd;if(n&&e){var o=Ve(n).hoistableScripts,r=Ad(e),a=o.get(r);a||((a=n.querySelector(Rd(r)))||(e=p({src:e,async:!0},t),(t=kd.get(r))&&zd(e,t),We(a=n.createElement("script")),ed(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},o.set(r,a))}},S:function(e,t,n){Ed.S(e,t,n);var o=jd;if(o&&e){var r=Ve(o).hoistableStyles,a=Pd(e);t=t||"default";var i=r.get(a);if(!i){var s={loading:0,preload:null};if(i=o.querySelector(Td(a)))s.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},n),(n=kd.get(a))&&Dd(e,n);var l=i=o.createElement("link");We(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Id(i,t,o)}i={type:"stylesheet",instance:i,count:1,state:s},r.set(a,i)}}},M:function(e,t){Ed.M(e,t);var n=jd;if(n&&e){var o=Ve(n).hoistableScripts,r=Ad(e),a=o.get(r);a||((a=n.querySelector(Rd(r)))||(e=p({src:e,async:!0,type:"module"},t),(t=kd.get(r))&&zd(e,t),We(a=n.createElement("script")),ed(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},o.set(r,a))}}};var jd="undefined"===typeof document?null:document;function Nd(e,t,n){var o=jd;if(o&&"string"===typeof t&&t){var r=mt(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"===typeof n&&(r+='[crossorigin="'+n+'"]'),Sd.has(r)||(Sd.add(r),e={rel:e,crossOrigin:n,href:t},null===o.querySelector(r)&&(ed(t=o.createElement("link"),"link",e),We(t),o.head.appendChild(t)))}}function Cd(e,t,n,o){var r,a,s,l,c=(c=V.current)?_d(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Pd(n.href),(o=(n=Ve(c).hoistableStyles).get(t))||(o={type:"style",instance:null,count:0,state:null},n.set(t,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Pd(n.href);var u=Ve(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Td(e)))&&!u._p&&(d.instance=u,d.state.loading=5),kd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},kd.set(e,n),u||(r=c,a=e,s=n,l=d.state,r.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=r.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),ed(a,"link",s),We(a),r.head.appendChild(a))))),t&&null===o)throw Error(i(528,""));return d}if(t&&null!==o)throw Error(i(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Ad(n),(o=(n=Ve(c).hoistableScripts).get(t))||(o={type:"script",instance:null,count:0,state:null},n.set(t,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Pd(e){return'href="'+mt(e)+'"'}function Td(e){return'link[rel="stylesheet"]['+e+"]"}function Od(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function Ad(e){return'[src="'+mt(e)+'"]'}function Rd(e){return"script[async]"+e}function Md(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var o=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(o)return t.instance=o,We(o),o;var r=p({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return We(o=(e.ownerDocument||e).createElement("style")),ed(o,"style",r),Id(o,n.precedence,e),t.instance=o;case"stylesheet":r=Pd(n.href);var a=e.querySelector(Td(r));if(a)return t.state.loading|=4,t.instance=a,We(a),a;o=Od(n),(r=kd.get(r))&&Dd(o,r),We(a=(e.ownerDocument||e).createElement("link"));var s=a;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),ed(a,"link",o),t.state.loading|=4,Id(a,n.precedence,e),t.instance=a;case"script":return a=Ad(n.src),(r=e.querySelector(Rd(a)))?(t.instance=r,We(r),r):(o=n,(r=kd.get(a))&&zd(o=p({},n),r),We(r=(e=e.ownerDocument||e).createElement("script")),ed(r,"link",o),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(o=t.instance,t.state.loading|=4,Id(o,n.precedence,e));return t.instance}function Id(e,t,n){for(var o=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=o.length?o[o.length-1]:null,a=r,i=0;i<o.length;i++){var s=o[i];if(s.dataset.precedence===t)a=s;else if(a!==r)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Dd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function zd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Ld=null;function Fd(e,t,n){if(null===Ld){var o=new Map,r=Ld=new Map;r.set(n,o)}else(o=(r=Ld).get(n))||(o=new Map,r.set(n,o));if(o.has(e))return o;for(o.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var a=n[r];if(!(a[Fe]||a[Ae]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var i=a.getAttribute(t)||"";i=e+i;var s=o.get(i);s?s.push(a):o.set(i,[a])}}return o}function Ud(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Bd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var qd=null;function Hd(){}function Vd(){if(this.count--,0===this.count)if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Wd=null;function Kd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Wd=new Map,t.forEach(Gd,e),Wd=null,Vd.call(e))}function Gd(e,t){if(!(4&t.state.loading)){var n=Wd.get(e);if(n)var o=n.get(null);else{n=new Map,Wd.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<r.length;a++){var i=r[a];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(n.set(i.dataset.precedence,i),o=i)}o&&n.set(null,o)}i=(r=t.instance).getAttribute("data-precedence"),(a=n.get(i)||o)===o&&n.set(null,r),n.set(i,r),this.count++,o=Vd.bind(this),r.addEventListener("load",o),r.addEventListener("error",o),a?a.parentNode.insertBefore(r,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),t.state.loading|=4}}var Yd={$$typeof:w,Provider:null,Consumer:null,_currentValue:D,_currentValue2:D,_threadCount:0};function Xd(e,t,n,o,r,a,i,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_e(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_e(0),this.hiddenUpdates=_e(null),this.identifierPrefix=o,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function $d(e,t,n,o,r,a,i,s,l,c,u,d){return e=new Xd(e,t,n,i,s,l,c,d),t=1,!0===a&&(t|=24),a=zo(3,null,null,t),e.current=a,a.stateNode=e,(t=Mr()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:o,isDehydrated:n,cache:t},oa(a),e}function Jd(e){return e?e=Io:Io}function Qd(e,t,n,o,r,a){r=Jd(r),null===o.context?o.context=r:o.pendingContext=r,(o=aa(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(o.callback=a),null!==(n=ia(e,o,t))&&(Dc(n,0,t),sa(n,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ep(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function tp(e){if(13===e.tag){var t=Ao(e,67108864);null!==t&&Dc(t,0,67108864),ep(e,67108864)}}var np=!0;function op(e,t,n,o){var r=M.T;M.T=null;var a=I.p;try{I.p=2,ap(e,t,n,o)}finally{I.p=a,M.T=r}}function rp(e,t,n,o){var r=M.T;M.T=null;var a=I.p;try{I.p=8,ap(e,t,n,o)}finally{I.p=a,M.T=r}}function ap(e,t,n,o){if(np){var r=ip(o);if(null===r)qu(e,t,o,sp,n),yp(e,o);else if(function(e,t,n,o,r){switch(t){case"focusin":return dp=bp(dp,e,t,n,o,r),!0;case"dragenter":return pp=bp(pp,e,t,n,o,r),!0;case"mouseover":return hp=bp(hp,e,t,n,o,r),!0;case"pointerover":var a=r.pointerId;return fp.set(a,bp(fp.get(a)||null,e,t,n,o,r)),!0;case"gotpointercapture":return a=r.pointerId,mp.set(a,bp(mp.get(a)||null,e,t,n,o,r)),!0}return!1}(r,e,t,n,o))o.stopPropagation();else if(yp(e,o),4&t&&-1<vp.indexOf(e)){for(;null!==r;){var a=qe(r);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var i=ye(a.pendingLanes);if(0!==i){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;i;){var l=1<<31-he(i);s.entanglements[1]|=l,i&=~l}ku(a),0===(6&nc)&&(kc=te()+500,Su(0,!1))}}break;case 13:null!==(s=Ao(a,2))&&Dc(s,0,2),Bc(),ep(a,2)}if(null===(a=ip(o))&&qu(e,t,o,sp,n),a===r)break;r=a}null!==r&&o.stopPropagation()}else qu(e,t,o,null,n)}}function ip(e){return lp(e=Ot(e))}var sp=null;function lp(e){if(sp=null,null!==(e=Be(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return sp=e,null}function cp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case oe:return 2;case re:return 8;case ae:case ie:return 32;case se:return 268435456;default:return 32}default:return 32}}var up=!1,dp=null,pp=null,hp=null,fp=new Map,mp=new Map,gp=[],vp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yp(e,t){switch(e){case"focusin":case"focusout":dp=null;break;case"dragenter":case"dragleave":pp=null;break;case"mouseover":case"mouseout":hp=null;break;case"pointerover":case"pointerout":fp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mp.delete(t.pointerId)}}function bp(e,t,n,o,r,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:a,targetContainers:[r]},null!==t&&(null!==(t=qe(t))&&tp(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function xp(e){var t=Be(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=I.p;try{return I.p=e,t()}finally{I.p=n}}(e.priority,function(){if(13===n.tag){var e=Mc();e=Ce(e);var t=Ao(n,e);null!==t&&Dc(t,0,e),ep(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wp(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=ip(e.nativeEvent);if(null!==n)return null!==(t=qe(n))&&tp(t),e.blockedOn=n,!1;var o=new(n=e.nativeEvent).constructor(n.type,n);Tt=o,n.target.dispatchEvent(o),Tt=null,t.shift()}return!0}function kp(e,t,n){wp(e)&&n.delete(t)}function Sp(){up=!1,null!==dp&&wp(dp)&&(dp=null),null!==pp&&wp(pp)&&(pp=null),null!==hp&&wp(hp)&&(hp=null),fp.forEach(kp),mp.forEach(kp)}function _p(e,t){e.blockedOn===t&&(e.blockedOn=null,up||(up=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Sp)))}var Ep=null;function jp(e){Ep!==e&&(Ep=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){Ep===e&&(Ep=null);for(var t=0;t<e.length;t+=3){var n=e[t],o=e[t+1],r=e[t+2];if("function"!==typeof o){if(null===lp(o||n))continue;break}var a=qe(n);null!==a&&(e.splice(t,3),t-=3,Oi(a,{pending:!0,data:r,method:n.method,action:o},o,r))}}))}function Np(e){function t(t){return _p(t,e)}null!==dp&&_p(dp,e),null!==pp&&_p(pp,e),null!==hp&&_p(hp,e),fp.forEach(t),mp.forEach(t);for(var n=0;n<gp.length;n++){var o=gp[n];o.blockedOn===e&&(o.blockedOn=null)}for(;0<gp.length&&null===(n=gp[0]).blockedOn;)xp(n),null===n.blockedOn&&gp.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(o=0;o<n.length;o+=3){var r=n[o],a=n[o+1],i=r[Re]||null;if("function"===typeof a)i||jp(n);else if(i){var s=null;if(a&&a.hasAttribute("formAction")){if(r=a,i=a[Re]||null)s=i.formAction;else if(null!==lp(r))continue}else s=i.action;"function"===typeof s?n[o+1]=s:(n.splice(o,3),o-=3),jp(n)}}}function Cp(e){this._internalRoot=e}function Pp(e){this._internalRoot=e}Pp.prototype.render=Cp.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Qd(t.current,Mc(),e,t,null,null)},Pp.prototype.unmount=Cp.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Qd(e.current,2,null,e,null,null),Bc(),t[Me]=null}},Pp.prototype.unstable_scheduleHydration=function(e){if(e){var t=Te();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gp.length&&0!==t&&t<gp[n].priority;n++);gp.splice(n,0,e),0===n&&xp(e)}};var Tp=r.version;if("19.1.1"!==Tp)throw Error(i(527,Tp,"19.1.1"));I.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,o=t;;){var r=n.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(o=r.return)){n=o;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return u(r),e;if(a===o)return u(r),t;a=a.sibling}throw Error(i(188))}if(n.return!==o.return)n=r,o=a;else{for(var s=!1,c=r.child;c;){if(c===n){s=!0,n=r,o=a;break}if(c===o){s=!0,o=r,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,o=r;break}if(c===o){s=!0,o=a,n=r;break}c=c.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==o)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Op={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ap=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ap.isDisabled&&Ap.supportsFiber)try{ue=Ap.inject(Op),de=Ap}catch(Mp){}}t.createRoot=function(e,t){if(!s(e))throw Error(i(299));var n=!1,o="",r=ys,a=bs,l=xs;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(o=t.identifierPrefix),void 0!==t.onUncaughtError&&(r=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=$d(e,1,!1,null,0,n,o,r,a,l,0,null),e[Me]=t.current,Uu(e),new Cp(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(i(299));var o=!1,r="",a=ys,l=bs,c=xs,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=$d(e,1,!0,t,0,o,r,a,l,c,0,u)).context=Jd(null),n=t.current,(r=aa(o=Ce(o=Mc()))).callback=null,ia(n,r,o),n=o,t.current.lanes=n,Ee(t,n),ku(t),e[Me]=t.current,Uu(e),new Pp(t)},t.version="19.1.1"},43:(e,t,n)=>{"use strict";e.exports=n(288)},173:(e,t,n)=>{e.exports=n(497)()},210:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(n(829)),a=o(n(736));class i{constructor(e){let{headers:t={},schema:n,fetch:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=new Headers(t),this.schemaName=n,this.fetch=o}from(e){const t=new URL("".concat(this.url,"/").concat(e));return new r.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new i(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:n=!1,get:o=!1,count:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var i;let s;const l=new URL("".concat(this.url,"/rpc/").concat(e));let c;n||o?(s=n?"HEAD":"GET",Object.entries(t).filter(e=>{let[t,n]=e;return void 0!==n}).map(e=>{let[t,n]=e;return[t,Array.isArray(n)?"{".concat(n.join(","),"}"):"".concat(n)]}).forEach(e=>{let[t,n]=e;l.searchParams.append(t,n)})):(s="POST",c=t);const u=new Headers(this.headers);return r&&u.set("Prefer","count=".concat(r)),new a.default({method:s,url:l,headers:u,schema:this.schemaName,body:c,fetch:null!==(i=this.fetch)&&void 0!==i?i:fetch})}}t.default=i},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},286:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(n(630)),a=o(n(611));t.default=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(n=e.isMaybeSingle)&&void 0!==n&&n,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,n,o,r;let i=null,s=null,l=null,c=e.status,u=e.statusText;if(e.ok){if("HEAD"!==this.method){const n=await e.text();""===n||(s="text/csv"===this.headers.get("Accept")||this.headers.get("Accept")&&(null===(t=this.headers.get("Accept"))||void 0===t?void 0:t.includes("application/vnd.pgrst.plan+text"))?n:JSON.parse(n))}const r=null===(n=this.headers.get("Prefer"))||void 0===n?void 0:n.match(/count=(exact|planned|estimated)/),a=null===(o=e.headers.get("content-range"))||void 0===o?void 0:o.split("/");r&&a&&a.length>1&&(l=parseInt(a[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(s)&&(s.length>1?(i={code:"PGRST116",details:"Results contain ".concat(s.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,l=null,c=406,u="Not Acceptable"):s=1===s.length?s[0]:null)}else{const t=await e.text();try{i=JSON.parse(t),Array.isArray(i)&&404===e.status&&(s=[],i=null,c=200,u="OK")}catch(d){404===e.status&&""===t?(c=204,u="No Content"):i={message:t}}if(i&&this.isMaybeSingle&&(null===(r=null===i||void 0===i?void 0:i.details)||void 0===r?void 0:r.includes("0 rows"))&&(i=null,c=200,u="OK"),i&&this.shouldThrowOnError)throw new a.default(i)}return{error:i,data:s,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(n=n.catch(e=>{var t,n,o;return{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:"".concat(null!==(n=null===e||void 0===e?void 0:e.stack)&&void 0!==n?n:""),hint:"",code:"".concat(null!==(o=null===e||void 0===e?void 0:e.code)&&void 0!==o?o:"")},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}}},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,m(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},S=Object.prototype.hasOwnProperty;function _(e,t,o,r,a,i){return o=i.ref,{$$typeof:n,type:e,key:t,ref:void 0!==o?o:null,props:i}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var j=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function C(){}function P(e,t,r,a,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case o:u=!0;break;case p:return P((u=e._init)(e._payload),t,r,a,i)}}if(u)return i=i(e),u=""===a?"."+N(e,0):a,w(i)?(r="",null!=u&&(r=u.replace(j,"$&/")+"/"),P(i,t,r,"",function(e){return e})):null!=i&&(E(i)&&(l=i,c=r+(null==i.key||e&&e.key===i.key?"":(""+i.key).replace(j,"$&/")+"/")+u,i=_(l.type,c,void 0,0,0,l.props)),t.push(i)),1;u=0;var d,f=""===a?".":a+":";if(w(e))for(var m=0;m<e.length;m++)u+=P(a=e[m],t,r,s=f+N(a,m),i);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=h&&d[h]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(a=e.next()).done;)u+=P(a=a.value,t,r,s=f+N(a,m++),i);else if("object"===s){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(C,C):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,r,a,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function T(e,t,n){if(null==e)return e;var o=[],r=0;return P(e,o,"","",function(e){return t.call(n,e,r++)}),o}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function R(){}t.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=r,t.Profiler=i,t.PureComponent=b,t.StrictMode=a,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var o=m({},e.props),r=e.key;if(null!=t)for(a in void 0!==t.ref&&void 0,void 0!==t.key&&(r=""+t.key),t)!S.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(o[a]=t[a]);var a=arguments.length-2;if(1===a)o.children=n;else if(1<a){for(var i=Array(a),s=0;s<a;s++)i[s]=arguments[s+2];o.children=i}return _(e.type,r,void 0,0,0,o)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var o,r={},a=null;if(null!=t)for(o in void 0!==t.key&&(a=""+t.key),t)S.call(t,o)&&"key"!==o&&"__self"!==o&&"__source"!==o&&(r[o]=t[o]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var s=Array(i),l=0;l<i;l++)s[l]=arguments[l+2];r.children=s}if(e&&e.defaultProps)for(o in i=e.defaultProps)void 0===r[o]&&(r[o]=i[o]);return _(e,a,void 0,0,0,r)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,n={};k.T=n;try{var o=e(),r=k.S;null!==r&&r(n,o),"object"===typeof o&&null!==o&&"function"===typeof o.then&&o.then(R,A)}catch(a){A(a)}finally{k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,n){return k.H.useActionState(e,t,n)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var o=k.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return o.useEffect(e,t)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,n){return k.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return k.H.useReducer(e,t,n)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return k.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return k.H.useTransition()},t.version="19.1.1"},330:(e,t,n)=>{"use strict";var o=n(43);var r="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=o.useState,i=o.useEffect,s=o.useLayoutEffect,l=o.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch(o){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),o=a({inst:{value:n,getSnapshot:t}}),r=o[0].inst,u=o[1];return s(function(){r.value=n,r.getSnapshot=t,c(r)&&u({inst:r})},[e,n,t]),i(function(){return c(r)&&u({inst:r}),e(function(){c(r)&&u({inst:r})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==o.useSyncExternalStore?o.useSyncExternalStore:u},374:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(n(286));class a extends r.default{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:o,referencedTable:r=o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=r?"".concat(r,".order"):"order",i=this.url.searchParams.get(a);return this.url.searchParams.set(a,"".concat(i?"".concat(i,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===n?"":n?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(o,"".concat(e)),this}range(e,t){let{foreignTable:n,referencedTable:o=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r="undefined"===typeof o?"offset":"".concat(o,".offset"),a="undefined"===typeof o?"limit":"".concat(o,".limit");return this.url.searchParams.set(r,"".concat(e)),this.url.searchParams.set(a,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:o=!1,wal:r=!1,format:a="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var i;const s=[e?"analyze":null,t?"verbose":null,n?"settings":null,o?"buffers":null,r?"wal":null].filter(Boolean).join("|"),l=null!==(i=this.headers.get("Accept"))&&void 0!==i?i:"application/json";return this.headers.set("Accept","application/vnd.pgrst.plan+".concat(a,'; for="').concat(l,'"; options=').concat(s,";")),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer","max-affected=".concat(e)),this}}t.default=a},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},443:(e,t,n)=>{"use strict";e.exports=n(717)},461:(e,t,n)=>{"use strict";e.exports=n(330)},497:(e,t,n)=>{"use strict";var o=n(218);function r(){}function a(){}a.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,a,i){if(i!==o){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:r};return n.PropTypes=n,n}},579:(e,t,n)=>{"use strict";e.exports=n(799)},611:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=n},628:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(0===n.length)return!0;var o=e.name||"",r=(e.type||"").toLowerCase(),a=r.replace(/\/.*$/,"");return n.some(function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?o.toLowerCase().endsWith(t):t.endsWith("/*")?a===t.replace(/\/.*$/,""):r===t})}return!0}},630:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Headers:()=>i,Request:()=>s,Response:()=>l,default:()=>a,fetch:()=>r});var o=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}();const r=o.fetch,a=o.fetch.bind(o),i=o.Headers,s=o.Request,l=o.Response},672:(e,t,n)=>{"use strict";var o=n(43);function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(r(299));return function(e,t,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==o?null:""+o,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=i.p;try{if(l.T=null,i.p=2,e)return e()}finally{l.T=t,i.p=n,i.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,i.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&i.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,o=c(n,t.crossOrigin),r="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?i.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:o,integrity:r,fetchPriority:a}):"script"===n&&i.d.X(e,{crossOrigin:o,integrity:r,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&i.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,o=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:o,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else i.d.m(e)},t.requestFormReset=function(e){i.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},717:(e,t,n)=>{"use strict";var o=n(43),r=n(461);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=r.useSyncExternalStore,s=o.useRef,l=o.useEffect,c=o.useMemo,u=o.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,o,r){var d=s(null);if(null===d.current){var p={hasValue:!1,value:null};d.current=p}else p=d.current;d=c(function(){function e(e){if(!l){if(l=!0,i=e,e=o(e),void 0!==r&&p.hasValue){var t=p.value;if(r(t,e))return s=t}return s=e}if(t=s,a(i,e))return t;var n=o(e);return void 0!==r&&r(t,n)?(i=e,t):(i=e,s=n)}var i,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,o,r]);var h=i(e,d[0],d[1]);return l(function(){p.hasValue=!0,p.value=h},[h]),u(h),h}},736:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(n(374));class a extends r.default{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}in(e,t){const n=Array.from(new Set(t)).map(e=>"string"===typeof e&&new RegExp("[,()]").test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"in.(".concat(n,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:n,type:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="";"plain"===o?r="pl":"phrase"===o?r="ph":"websearch"===o&&(r="w");const a=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append(e,"".concat(r,"fts").concat(a,".").concat(t)),this}match(e){return Object.entries(e).forEach(e=>{let[t,n]=e;this.url.searchParams.append(t,"eq.".concat(n))}),this}not(e,t,n){return this.url.searchParams.append(e,"not.".concat(t,".").concat(n)),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=n?"".concat(n,".or"):"or";return this.url.searchParams.append(o,"(".concat(e,")")),this}filter(e,t,n){return this.url.searchParams.append(e,"".concat(t,".").concat(n)),this}}t.default=a},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function r(e,t,o){var r=null;if(void 0!==o&&(r=""+o),void 0!==t.key&&(r=""+t.key),"key"in t)for(var a in o={},t)"key"!==a&&(o[a]=t[a]);else o=t;return t=o.ref,{$$typeof:n,type:e,key:r,ref:void 0!==t?t:null,props:o}}t.Fragment=o,t.jsx=r,t.jsxs=r},829:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(n(736));t.default=class{constructor(e,t){let{headers:n={},schema:o,fetch:r}=t;this.url=e,this.headers=new Headers(n),this.schema=o,this.fetch=r}select(e){let{head:t=!1,count:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=t?"HEAD":"GET";let a=!1;const i=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!a?"":('"'===e&&(a=!a),e)).join("");return this.url.searchParams.set("select",i),n&&this.headers.append("Prefer","count=".concat(n)),new r.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var o;if(t&&this.headers.append("Prefer","count=".concat(t)),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new r.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(o=this.fetch)&&void 0!==o?o:fetch})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:o,defaultToNull:a=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var i;if(this.headers.append("Prefer","resolution=".concat(n?"ignore":"merge","-duplicates")),void 0!==t&&this.url.searchParams.set("on_conflict",t),o&&this.headers.append("Prefer","count=".concat(o)),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new r.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(i=this.fetch)&&void 0!==i?i:fetch})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return t&&this.headers.append("Prefer","count=".concat(t)),new r.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(n=this.fetch)&&void 0!==n?n:fetch})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return e&&this.headers.append("Prefer","count=".concat(e)),new r.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch})}}},853:(e,t,n)=>{"use strict";e.exports=n(896)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var o=n-1>>>1,r=e[o];if(!(0<a(r,t)))break e;e[o]=t,e[n]=r,n=o}}function o(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var o=0,r=e.length,i=r>>>1;o<i;){var s=2*(o+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<r&&0>a(u,l)?(e[o]=u,e[c]=n,o=c):(e[o]=l,e[s]=n,o=s);else{if(!(c<r&&0>a(u,n)))break e;e[o]=u,e[c]=n,o=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,p=null,h=3,f=!1,m=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=o(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=o(u)}}function k(e){if(g=!1,w(e),!m)if(null!==o(c))m=!0,_||(_=!0,S());else{var t=o(u);null!==t&&A(k,t.startTime-e)}}var S,_=!1,E=-1,j=5,N=-1;function C(){return!!v||!(t.unstable_now()-N<j)}function P(){if(v=!1,_){var e=t.unstable_now();N=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(E),E=-1),f=!0;var a=h;try{t:{for(w(e),p=o(c);null!==p&&!(p.expirationTime>e&&C());){var i=p.callback;if("function"===typeof i){p.callback=null,h=p.priorityLevel;var s=i(p.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){p.callback=s,w(e),n=!0;break t}p===o(c)&&r(c),w(e)}else r(c);p=o(c)}if(null!==p)n=!0;else{var l=o(u);null!==l&&A(k,l.startTime-e),n=!1}}break e}finally{p=null,h=a,f=!1}n=void 0}}finally{n?S():_=!1}}}if("function"===typeof x)S=function(){x(P)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,O=T.port2;T.port1.onmessage=P,S=function(){O.postMessage(null)}}else S=function(){y(P,0)};function A(e,n){E=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,r,a){var i=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>i?(e.sortIndex=a,n(u,e),null===o(c)&&e===o(u)&&(g?(b(E),E=-1):g=!0,A(k,a-i))):(e.sortIndex=s,n(c,e),m||f||(m=!0,_||(_=!0,S()))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},980:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const r=o(n(210));t.PostgrestClient=r.default;const a=o(n(829));t.PostgrestQueryBuilder=a.default;const i=o(n(736));t.PostgrestFilterBuilder=i.default;const s=o(n(374));t.PostgrestTransformBuilder=s.default;const l=o(n(286));t.PostgrestBuilder=l.default;const c=o(n(611));t.PostgrestError=c.default,t.default={PostgrestClient:r.default,PostgrestQueryBuilder:a.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:l.default,PostgrestError:c.default}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,o)=>(n.f[o](e,t),t),[])),n.u=e=>"static/js/"+e+".047ba5e3.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="briefy:";n.l=(o,r,a,i)=>{if(e[o])e[o].push(r);else{var s,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==t+a){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=o),e[o]=[r];var p=(t,n)=>{s.onerror=s.onload=null,clearTimeout(h);var r=e[o];if(delete e[o],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach(e=>e(n)),t)return t(n)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,o)=>{var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)o.push(r[2]);else{var a=new Promise((n,o)=>r=e[t]=[n,o]);o.push(r[2]=a);var i=n.p+n.u(t),s=new Error;n.l(i,o=>{if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var a=o&&("load"===o.type?"missing":o.type),i=o&&o.target&&o.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",s.name="ChunkLoadError",s.type=a,s.request=i,r[1](s)}},"chunk-"+t,t)}};var t=(t,o)=>{var r,a,i=o[0],s=o[1],l=o[2],c=0;if(i.some(t=>0!==e[t])){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(l)l(n)}for(t&&t(o);c<i.length;c++)a=i[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},o=self.webpackChunkbriefy=self.webpackChunkbriefy||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})(),(()=>{"use strict";var e=n(43),t=n(391);function o(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;n[o]=e[o]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function i(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const c=["sri"],u=["page"],d=["page","matches"],p=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],h=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],f=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var m="popstate";function g(){return S(function(e,t){let{pathname:n,search:o,hash:r}=e.location;return x("",{pathname:n,search:o,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:w(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function v(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function y(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function b(e,t){return{usr:e.state,key:e.key,idx:t}}function x(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3?arguments[3]:void 0;return l(l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?k(t):t),{},{state:n,key:t&&t.key||o||Math.random().toString(36).substring(2,10)})}function w(e){let{pathname:t="/",search:n="",hash:o=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),o&&"#"!==o&&(t+="#"===o.charAt(0)?o:"#"+o),t}function k(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let o=e.indexOf("?");o>=0&&(t.search=e.substring(o),e=e.substring(0,o)),e&&(t.pathname=e)}return t}function S(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:r=document.defaultView,v5Compat:a=!1}=o,i=r.history,s="POP",c=null,u=d();function d(){return(i.state||{idx:null}).idx}function p(){s="POP";let e=d(),t=null==e?null:e-u;u=e,c&&c({action:s,location:f.location,delta:t})}function h(e){return _(e)}null==u&&(u=0,i.replaceState(l(l({},i.state),{},{idx:u}),""));let f={get action(){return s},get location(){return e(r,i)},listen(e){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(m,p),c=e,()=>{r.removeEventListener(m,p),c=null}},createHref:e=>t(r,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s="PUSH";let o=x(f.location,e,t);n&&n(o,e),u=d()+1;let l=b(o,u),p=f.createHref(o);try{i.pushState(l,"",p)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;r.location.assign(p)}a&&c&&c({action:s,location:f.location,delta:1})},replace:function(e,t){s="REPLACE";let o=x(f.location,e,t);n&&n(o,e),u=d();let r=b(o,u),l=f.createHref(o);i.replaceState(r,"",l),a&&c&&c({action:s,location:f.location,delta:0})},go:e=>i.go(e)};return f}function _(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),v(n,"No window.location.(origin|href) available to create URL");let o="string"===typeof e?e:w(e);return o=o.replace(/ $/,"%20"),!t&&o.startsWith("//")&&(o=n+o),new URL(o,n)}new WeakMap;function E(e,t){return j(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function j(e,t,n,o){let r=B(("string"===typeof t?k(t):t).pathname||"/",n);if(null==r)return null;let a=N(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let i=null;for(let s=0;null==i&&s<a.length;++s){let e=U(r);i=z(a[s],e,o)}return i}function N(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=function(e,a){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,s=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(o)&&i)return;v(l.relativePath.startsWith(o),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(o,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(o.length)}let c=K([o,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(v(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),N(e.children,t,u,c,i)),(null!=e.path||e.index)&&t.push({path:c,score:D(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let o of C(e.path))a(e,t,!0,o);else a(e,t)}),t}function C(e){let t=e.split("/");if(0===t.length)return[];let[n,...o]=t,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===o.length)return r?[a,""]:[a];let i=C(o.join("/")),s=[];return s.push(...i.map(e=>""===e?a:[a,e].join("/"))),r&&s.push(...i),s.map(t=>e.startsWith("/")&&""===t?"/":t)}var P=/^:[\w-]+$/,T=3,O=2,A=1,R=10,M=-2,I=e=>"*"===e;function D(e,t){let n=e.split("/"),o=n.length;return n.some(I)&&(o+=M),t&&(o+=O),n.filter(e=>!I(e)).reduce((e,t)=>e+(P.test(t)?T:""===t?A:R),o)}function z(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:o}=e,r={},a="/",i=[];for(let s=0;s<o.length;++s){let e=o[s],l=s===o.length-1,c="/"===a?t:t.slice(a.length)||"/",u=L({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!o[o.length-1].route.index&&(u=L({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(r,u.params),i.push({params:r,pathname:K([a,u.pathname]),pathnameBase:G(K([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=K([a,u.pathnameBase]))}return i}function L(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,o]=F(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let a=r[0],i=a.replace(/(.)\/+$/,"$1"),s=r.slice(1);return{params:o.reduce((e,t,n)=>{let{paramName:o,isOptional:r}=t;if("*"===o){let e=s[n]||"";i=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[o]=r&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:a,pathnameBase:i,pattern:e}}function F(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];y("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let o=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(o.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(o.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),o]}function U(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return y(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function B(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,o=e.charAt(n);return o&&"/"!==o?null:e.slice(n)||"/"}function q(e,t,n,o){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(o),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function H(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function V(e){let t=H(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function W(e,t,n){let o,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?o=k(e):(o=l({},e),v(!o.pathname||!o.pathname.includes("?"),q("?","pathname","search",o)),v(!o.pathname||!o.pathname.includes("#"),q("#","pathname","hash",o)),v(!o.search||!o.search.includes("#"),q("#","search","hash",o)));let a,i=""===e||""===o.pathname,s=i?"/":o.pathname;if(null==s)a=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}a=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:o="",hash:r=""}="string"===typeof e?k(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:Y(o),hash:X(r)}}(o,a),u=s&&"/"!==s&&s.endsWith("/"),d=(i||"."===s)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!d||(c.pathname+="/"),c}var K=e=>e.join("/").replace(/\/\/+/g,"/"),G=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Y=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",X=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function $(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var J=["POST","PUT","PATCH","DELETE"],Q=(new Set(J),["GET",...J]);new Set(Q),Symbol("ResetLoaderData");var Z=e.createContext(null);Z.displayName="DataRouter";var ee=e.createContext(null);ee.displayName="DataRouterState";var te=e.createContext(!1);var ne=e.createContext({isTransitioning:!1});ne.displayName="ViewTransition";var oe=e.createContext(new Map);oe.displayName="Fetchers";var re=e.createContext(null);re.displayName="Await";var ae=e.createContext(null);ae.displayName="Navigation";var ie=e.createContext(null);ie.displayName="Location";var se=e.createContext({outlet:null,matches:[],isDataRoute:!1});se.displayName="Route";var le=e.createContext(null);le.displayName="RouteError";function ce(){return null!=e.useContext(ie)}function ue(){return v(ce(),"useLocation() may be used only in the context of a <Router> component."),e.useContext(ie).location}var de="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pe(t){e.useContext(ae).static||e.useLayoutEffect(t)}function he(){let{isDataRoute:t}=e.useContext(se);return t?function(){let{router:t}=ke("useNavigate"),n=_e("useNavigate"),o=e.useRef(!1);pe(()=>{o.current=!0});let r=e.useCallback(async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y(o.current,de),o.current&&("number"===typeof e?t.navigate(e):await t.navigate(e,l({fromRouteId:n},r)))},[t,n]);return r}():function(){v(ce(),"useNavigate() may be used only in the context of a <Router> component.");let t=e.useContext(Z),{basename:n,navigator:o}=e.useContext(ae),{matches:r}=e.useContext(se),{pathname:a}=ue(),i=JSON.stringify(V(r)),s=e.useRef(!1);pe(()=>{s.current=!0});let l=e.useCallback(function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(y(s.current,de),!s.current)return;if("number"===typeof e)return void o.go(e);let l=W(e,JSON.parse(i),a,"path"===r.relative);null==t&&"/"!==n&&(l.pathname="/"===l.pathname?n:K([n,l.pathname])),(r.replace?o.replace:o.push)(l,r.state,r)},[n,o,i,a,t]);return l}()}e.createContext(null);function fe(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:o}=e.useContext(se),{pathname:r}=ue(),a=JSON.stringify(V(o));return e.useMemo(()=>W(t,JSON.parse(a),r,"path"===n),[t,a,r,n])}function me(t,n,o,r){v(ce(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=e.useContext(ae),{matches:i}=e.useContext(se),s=i[i.length-1],c=s?s.params:{},u=s?s.pathname:"/",d=s?s.pathnameBase:"/",p=s&&s.route;{let e=p&&p.path||"";Ne(u,!p||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(u,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let h,f=ue();if(n){var m;let e="string"===typeof n?k(n):n;v("/"===d||(null===(m=e.pathname)||void 0===m?void 0:m.startsWith(d)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(d,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),h=e}else h=f;let g=h.pathname||"/",b=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");b="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=E(t,{pathname:b});y(p||null!=x,'No routes matched location "'.concat(h.pathname).concat(h.search).concat(h.hash,'" ')),y(null==x||void 0!==x[x.length-1].route.element||void 0!==x[x.length-1].route.Component||void 0!==x[x.length-1].route.lazy,'Matched leaf route at location "'.concat(h.pathname).concat(h.search).concat(h.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let w=xe(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:K([d,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:K([d,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),i,o,r);return n&&w?e.createElement(ie.Provider,{value:{location:l({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:"POP"}},w):w}function ge(){let t=Ee(),n=$(t)?"".concat(t.status," ").concat(t.statusText):t instanceof Error?t.message:JSON.stringify(t),o=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=e.createElement(e.Fragment,null,e.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",e.createElement("code",{style:i},"ErrorBoundary")," or"," ",e.createElement("code",{style:i},"errorElement")," prop on your route.")),e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),o?e.createElement("pre",{style:a},o):null,s)}var ve=e.createElement(ge,null),ye=class extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?e.createElement(se.Provider,{value:this.props.routeContext},e.createElement(le.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function be(t){let{routeContext:n,match:o,children:r}=t,a=e.useContext(Z);return a&&a.static&&a.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=o.route.id),e.createElement(se.Provider,{value:n},r)}function xe(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==t){if(!o)return null;if(o.errors)t=o.matches;else{if(0!==n.length||o.initialized||!(o.matches.length>0))return null;t=o.matches}}let r=t,a=null===o||void 0===o?void 0:o.errors;if(null!=a){let e=r.findIndex(e=>e.route.id&&void 0!==(null===a||void 0===a?void 0:a[e.route.id]));v(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(a).join(","))),r=r.slice(0,Math.min(r.length,e+1))}let i=!1,s=-1;if(o)for(let e=0;e<r.length;e++){let t=r[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(s=e),t.route.id){let{loaderData:e,errors:n}=o,a=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!n||void 0===n[t.route.id]);if(t.route.lazy||a){i=!0,r=s>=0?r.slice(0,s+1):[r[0]];break}}}return r.reduceRight((t,l,c)=>{let u,d=!1,p=null,h=null;o&&(u=a&&l.route.id?a[l.route.id]:void 0,p=l.route.errorElement||ve,i&&(s<0&&0===c?(Ne("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,h=null):s===c&&(d=!0,h=l.route.hydrateFallbackElement||null)));let f=n.concat(r.slice(0,c+1)),m=()=>{let n;return n=u?p:d?h:l.route.Component?e.createElement(l.route.Component,null):l.route.element?l.route.element:t,e.createElement(be,{match:l,routeContext:{outlet:t,matches:f,isDataRoute:null!=o},children:n})};return o&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?e.createElement(ye,{location:o.location,revalidation:o.revalidation,component:p,error:u,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()},null)}function we(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function ke(t){let n=e.useContext(Z);return v(n,we(t)),n}function Se(t){let n=e.useContext(ee);return v(n,we(t)),n}function _e(t){let n=function(t){let n=e.useContext(se);return v(n,we(t)),n}(t),o=n.matches[n.matches.length-1];return v(o.route.id,"".concat(t,' can only be used on routes that contain a unique "id"')),o.route.id}function Ee(){var t;let n=e.useContext(le),o=Se("useRouteError"),r=_e("useRouteError");return void 0!==n?n:null===(t=o.errors)||void 0===t?void 0:t[r]}var je={};function Ne(e,t,n){t||je[e]||(je[e]=!0,y(!1,n))}var Ce={};function Pe(e,t){e||Ce[t]||(Ce[t]=!0,console.warn(t))}e.memo(function(e){let{routes:t,future:n,state:o}=e;return me(t,void 0,o,n)});function Te(t){let{to:n,replace:o,state:r,relative:a}=t;v(ce(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=e.useContext(ae);y(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=e.useContext(se),{pathname:l}=ue(),c=he(),u=W(n,V(s),l,"path"===a),d=JSON.stringify(u);return e.useEffect(()=>{c(JSON.parse(d),{replace:o,state:r,relative:a})},[c,d,a,o,r]),null}function Oe(e){v(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ae(t){let{basename:n="/",children:o=null,location:r,navigationType:a="POP",navigator:i,static:s=!1}=t;v(!ce(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=e.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);"string"===typeof r&&(r=k(r));let{pathname:u="/",search:d="",hash:p="",state:h=null,key:f="default"}=r,m=e.useMemo(()=>{let e=B(u,l);return null==e?null:{location:{pathname:e,search:d,hash:p,state:h,key:f},navigationType:a}},[l,u,d,p,h,f,a]);return y(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(d).concat(p,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:e.createElement(ae.Provider,{value:c},e.createElement(ie.Provider,{children:o,value:m}))}function Re(e){let{children:t,location:n}=e;return me(Me(t),n)}e.Component;function Me(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=[];return e.Children.forEach(t,(t,r)=>{if(!e.isValidElement(t))return;let a=[...n,r];if(t.type===e.Fragment)return void o.push.apply(o,Me(t.props.children,a));v(t.type===Oe,"[".concat("string"===typeof t.type?t.type:t.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),v(!t.props.index||!t.props.children,"An index route cannot have child routes.");let i={id:t.props.id||a.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(i.children=Me(t.props.children,a)),o.push(i)}),o}var Ie="get",De="application/x-www-form-urlencoded";function ze(e){return null!=e&&"string"===typeof e.tagName}var Le=null;var Fe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ue(e){return null==e||Fe.has(e)?e:(y(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(De,'"')),null)}function Be(e,t){let n,o,r,a,i;if(ze(s=e)&&"form"===s.tagName.toLowerCase()){let i=e.getAttribute("action");o=i?B(i,t):null,n=e.getAttribute("method")||Ie,r=Ue(e.getAttribute("enctype"))||De,a=new FormData(e)}else if(function(e){return ze(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return ze(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let i=e.form;if(null==i)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||i.getAttribute("action");if(o=s?B(s,t):null,n=e.getAttribute("formmethod")||i.getAttribute("method")||Ie,r=Ue(e.getAttribute("formenctype"))||Ue(i.getAttribute("enctype"))||De,a=new FormData(i,e),!function(){if(null===Le)try{new FormData(document.createElement("form"),0),Le=!1}catch(e){Le=!0}return Le}()){let{name:t,type:n,value:o}=e;if("image"===n){let e=t?"".concat(t,"."):"";a.append("".concat(e,"x"),"0"),a.append("".concat(e,"y"),"0")}else t&&a.append(t,o)}}else{if(ze(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ie,o=null,r=De,i=e}var s;return a&&"text/plain"===r&&(i=a,a=void 0),{action:o,method:n.toLowerCase(),encType:r,formData:a,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function qe(e){return{__html:e}}function He(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Ve(e,t,n){let o="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===o.pathname?o.pathname="_root.".concat(n):t&&"/"===B(o.pathname,t)?o.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):o.pathname="".concat(o.pathname.replace(/\/$/,""),".").concat(n),o}async function We(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ke(e){return null!=e&&"string"===typeof e.page}function Ge(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ye(e,t,n,o,r,a){let i=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>{var o;return n[t].pathname!==e.pathname||(null===(o=n[t].route.path)||void 0===o?void 0:o.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===a?t.filter((e,t)=>i(e,t)||s(e,t)):"data"===a?t.filter((t,a)=>{let l=o.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(i(t,a)||s(t,a))return!0;if(t.route.shouldRevalidate){var c;let o=t.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof o)return o}return!0}):[]}function Xe(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o=e.map(e=>{let o=t.routes[e.route.id];if(!o)return[];let r=[o.module];return o.clientActionModule&&(r=r.concat(o.clientActionModule)),o.clientLoaderModule&&(r=r.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(r=r.concat(o.hydrateFallbackModule)),o.imports&&(r=r.concat(o.imports)),r}).flat(1),[...new Set(o)];var o}function $e(e,t){let n=new Set,o=new Set(t);return e.reduce((e,r)=>{if(t&&!Ke(r)&&"script"===r.as&&r.href&&o.has(r.href))return e;let a=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let o of n)t[o]=e[o];return t}(r));return n.has(a)||(n.add(a),e.push({key:a,link:r})),e},[])}function Je(e,t){return"lazy"===e.mode&&!0===t}function Qe(){let t=e.useContext(Z);return He(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Ze(){let t=e.useContext(ee);return He(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var et=e.createContext(void 0);function tt(){let t=e.useContext(et);return He(t,"You must render this element inside a <HydratedRouter> element"),t}function nt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function ot(e,t,n){if(n&&!st)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}et.displayName="FrameworkContext";function rt(t){let{page:n}=t,r=o(t,u),{router:a}=Qe(),i=e.useMemo(()=>E(a.routes,n,a.basename),[a.routes,n,a.basename]);return i?e.createElement(it,l({page:n,matches:i},r)):null}function at(t){let{manifest:n,routeModules:o}=tt(),[r,a]=e.useState([]);return e.useEffect(()=>{let e=!1;return async function(e,t,n){return $e((await Promise.all(e.map(async e=>{let o=t.routes[e.route.id];if(o){let e=await We(o,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Ge).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?l(l({},e),{},{rel:"prefetch",as:"style"}):l(l({},e),{},{rel:"prefetch"})))}(t,n,o).then(t=>{e||a(t)}),()=>{e=!0}},[t,n,o]),r}function it(t){let{page:n,matches:r}=t,a=o(t,d),i=ue(),{manifest:s,routeModules:c}=tt(),{basename:u}=Qe(),{loaderData:p,matches:h}=Ze(),f=e.useMemo(()=>Ye(n,r,h,s,i,"data"),[n,r,h,s,i]),m=e.useMemo(()=>Ye(n,r,h,s,i,"assets"),[n,r,h,s,i]),g=e.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let e=new Set,t=!1;if(r.forEach(n=>{var o;let r=s.routes[n.route.id];r&&r.hasLoader&&(!f.some(e=>e.route.id===n.route.id)&&n.route.id in p&&null!==(o=c[n.route.id])&&void 0!==o&&o.shouldRevalidate||r.hasClientLoader?t=!0:e.add(n.route.id))}),0===e.size)return[];let o=Ve(n,u,"data");return t&&e.size>0&&o.searchParams.set("_routes",r.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[o.pathname+o.search]},[u,p,i,s,f,r,n,c]),v=e.useMemo(()=>Xe(m,s),[m,s]),y=at(m);return e.createElement(e.Fragment,null,g.map(t=>e.createElement("link",l({key:t,rel:"prefetch",as:"fetch",href:t},a))),v.map(t=>e.createElement("link",l({key:t,rel:"modulepreload",href:t},a))),y.map(t=>{let{key:n,link:o}=t;return e.createElement("link",l({key:n,nonce:a.nonce},o))}))}var st=!1;function lt(t){let{manifest:n,serverHandoffString:r,isSpaMode:a,renderMeta:i,routeDiscovery:s,ssr:u}=tt(),{router:d,static:p,staticContext:h}=Qe(),{matches:f}=Ze(),m=e.useContext(te),g=Je(s,u);i&&(i.didRenderScripts=!0);let v=ot(f,null,a);e.useEffect(()=>{0},[]);let y=e.useMemo(()=>{var a;if(m)return null;let i=h?"window.__reactRouterContext = ".concat(r,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",s=p?"".concat(null!==n.hmr&&void 0!==a&&a.runtime?"import ".concat(JSON.stringify(n.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(n.url)),";\n").concat(v.map((e,t)=>{let o="route".concat(t),r=n.routes[e.route.id];He(r,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:a,clientLoaderModule:i,clientMiddlewareModule:s,hydrateFallbackModule:l,module:c}=r,u=[...a?[{module:a,varName:"".concat(o,"_clientAction")}]:[],...i?[{module:i,varName:"".concat(o,"_clientLoader")}]:[],...s?[{module:s,varName:"".concat(o,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(o,"_HydrateFallback")}]:[],{module:c,varName:"".concat(o,"_main")}];return 1===u.length?"import * as ".concat(o," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(o," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=o(e,c),a=new Set(t.state.matches.map(e=>e.route.id)),i=t.state.location.pathname.split("/").filter(Boolean),s=["/"];for(i.pop();i.length>0;)s.push("/".concat(i.join("/"))),i.pop();s.forEach(e=>{let n=E(t.routes,e,t.basename);n&&n.forEach(e=>a.add(e.route.id))});let u=[...a].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return l(l({},r),{},{routes:u,sri:!!n||void 0})}(n,d),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(v.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(n.entry.module),");"):" ";return e.createElement(e.Fragment,null,e.createElement("script",l(l({},t),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:qe(i),type:void 0})),e.createElement("script",l(l({},t),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:qe(s),type:"module",async:!0})))},[]),b=st||m?[]:function(e){return[...new Set(e)]}(n.entry.imports.concat(Xe(v,n,{includeHydrateFallback:!0}))),x="object"===typeof n.sri?n.sri:{};return Pe(!m,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),st||m?null:e.createElement(e.Fragment,null,"object"===typeof n.sri?e.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:x})}}):null,g?null:e.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:t.crossOrigin,integrity:x[n.url],suppressHydrationWarning:!0}),e.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:t.crossOrigin,integrity:x[n.entry.module],suppressHydrationWarning:!0}),b.map(n=>e.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:t.crossOrigin,integrity:x[n],suppressHydrationWarning:!0})),y)}function ct(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}e.Component;function ut(t){let{error:n,isOutsideRemixApp:o}=t;console.error(n);let r,a=e.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if($(n))return e.createElement(dt,{title:"Unhandled Thrown Response!"},e.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),a);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return e.createElement(dt,{title:"Application Error!",isOutsideRemixApp:o},e.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),e.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),a)}function dt(t){var n;let{title:o,renderScripts:r,isOutsideRemixApp:a,children:i}=t,{routeModules:s}=tt();return null!==s.root&&void 0!==n&&n.Layout&&!a?i:e.createElement("html",{lang:"en"},e.createElement("head",null,e.createElement("meta",{charSet:"utf-8"}),e.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),e.createElement("title",null,o)),e.createElement("body",null,e.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,r?e.createElement(lt,null):null)))}var pt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{pt&&(window.__reactRouterVersion="7.8.1")}catch(Mg){}function ht(t){let{basename:n,children:o,window:r}=t,a=e.useRef();null==a.current&&(a.current=g({window:r,v5Compat:!0}));let i=a.current,[s,l]=e.useState({action:i.action,location:i.location}),c=e.useCallback(t=>{e.startTransition(()=>l(t))},[l]);return e.useLayoutEffect(()=>i.listen(c),[i,c]),e.createElement(Ae,{basename:n,children:o,location:s.location,navigationType:s.action,navigator:i})}var ft=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mt=e.forwardRef(function(t,n){let r,{onClick:a,discover:i="render",prefetch:s="none",relative:c,reloadDocument:u,replace:d,state:h,target:f,to:m,preventScrollReset:g,viewTransition:b}=t,x=o(t,p),{basename:k}=e.useContext(ae),S="string"===typeof m&&ft.test(m),_=!1;if("string"===typeof m&&S&&(r=m,pt))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=B(t.pathname,k);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:_=!0}catch(Mg){y(!1,'<Link to="'.concat(m,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let E=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v(ce(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:r}=e.useContext(ae),{hash:a,pathname:i,search:s}=fe(t,{relative:n}),l=i;return"/"!==o&&(l="/"===i?o:K([o,i])),r.createHref({pathname:l,search:s,hash:a})}(m,{relative:c}),[j,N,C]=function(t,n){let o=e.useContext(et),[r,a]=e.useState(!1),[i,s]=e.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:p}=n,h=e.useRef(null);e.useEffect(()=>{if("render"===t&&s(!0),"viewport"===t){let e=new IntersectionObserver(e=>{e.forEach(e=>{s(e.isIntersecting)})},{threshold:.5});return h.current&&e.observe(h.current),()=>{e.disconnect()}}},[t]),e.useEffect(()=>{if(r){let e=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(e)}}},[r]);let f=()=>{a(!0)},m=()=>{a(!1),s(!1)};return o?"intent"!==t?[i,h,{}]:[i,h,{onFocus:nt(l,f),onBlur:nt(c,m),onMouseEnter:nt(u,f),onMouseLeave:nt(d,m),onTouchStart:nt(p,f)}]:[!1,h,{}]}(s,x),P=function(t){let{target:n,replace:o,state:r,preventScrollReset:a,relative:i,viewTransition:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=he(),c=ue(),u=fe(t,{relative:i});return e.useCallback(e=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,n)){e.preventDefault();let n=void 0!==o?o:w(c)===w(u);l(t,{replace:n,state:r,preventScrollReset:a,relative:i,viewTransition:s})}},[c,l,u,o,r,n,t,a,i,s])}(m,{replace:d,state:h,target:f,preventScrollReset:g,relative:c,viewTransition:b});let T=e.createElement("a",l(l(l({},x),C),{},{href:r||E,onClick:_||u?a:function(e){a&&a(e),e.defaultPrevented||P(e)},ref:ct(n,N),target:f,"data-discover":S||"render"!==i?void 0:"true"}));return j&&!S?e.createElement(e.Fragment,null,T,e.createElement(rt,{page:E})):T});mt.displayName="Link";var gt=e.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:a=!1,className:i="",end:s=!1,style:c,to:u,viewTransition:d,children:p}=t,f=o(t,h),m=fe(u,{relative:f.relative}),g=ue(),y=e.useContext(ee),{navigator:b,basename:x}=e.useContext(ae),w=null!=y&&function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.useContext(ne);v(null!=o,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=bt("useViewTransitionState"),a=fe(t,{relative:n});if(!o.isTransitioning)return!1;let i=B(o.currentLocation.pathname,r)||o.currentLocation.pathname,s=B(o.nextLocation.pathname,r)||o.nextLocation.pathname;return null!=L(a.pathname,s)||null!=L(a.pathname,i)}(m)&&!0===d,k=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,S=g.pathname,_=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;a||(S=S.toLowerCase(),_=_?_.toLowerCase():null,k=k.toLowerCase()),_&&x&&(_=B(_,x)||_);const E="/"!==k&&k.endsWith("/")?k.length-1:k.length;let j,N=S===k||!s&&S.startsWith(k)&&"/"===S.charAt(E),C=null!=_&&(_===k||!s&&_.startsWith(k)&&"/"===_.charAt(k.length)),P={isActive:N,isPending:C,isTransitioning:w},T=N?r:void 0;j="function"===typeof i?i(P):[i,N?"active":null,C?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let O="function"===typeof c?c(P):c;return e.createElement(mt,l(l({},f),{},{"aria-current":T,className:j,ref:n,style:O,to:u,viewTransition:d}),"function"===typeof p?p(P):p)});gt.displayName="NavLink";var vt=e.forwardRef((t,n)=>{let{discover:r="render",fetcherKey:a,navigate:i,reloadDocument:s,replace:c,state:u,method:d=Ie,action:p,onSubmit:h,relative:m,preventScrollReset:g,viewTransition:y}=t,b=o(t,f),x=kt(),k=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:o}=e.useContext(ae),r=e.useContext(se);v(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),i=l({},fe(t||".",{relative:n})),s=ue();if(null==t){i.search=s.search;let e=new URLSearchParams(i.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();i.search=n?"?".concat(n):""}}t&&"."!==t||!a.route.index||(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index");"/"!==o&&(i.pathname="/"===i.pathname?o:K([o,i.pathname]));return w(i)}(p,{relative:m}),S="get"===d.toLowerCase()?"get":"post",_="string"===typeof p&&ft.test(p);return e.createElement("form",l(l({ref:n,method:S,action:k,onSubmit:s?h:e=>{if(h&&h(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;x(t||e.currentTarget,{fetcherKey:a,method:n,navigate:i,replace:c,state:u,relative:m,preventScrollReset:g,viewTransition:y})}},b),{},{"data-discover":_||"render"!==r?void 0:"true"}))});function yt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function bt(t){let n=e.useContext(Z);return v(n,yt(t)),n}vt.displayName="Form";var xt=0,wt=()=>"__".concat(String(++xt),"__");function kt(){let{router:t}=bt("useSubmit"),{basename:n}=e.useContext(ae),o=_e("useRouteId");return e.useCallback(async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:a,method:i,encType:s,formData:l,body:c}=Be(e,n);if(!1===r.navigate){let e=r.fetcherKey||wt();await t.fetch(e,o,r.action||a,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||i,formEncType:r.encType||s,flushSync:r.flushSync})}else await t.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||i,formEncType:r.encType||s,replace:r.replace,state:r.state,fromRouteId:o,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,n,o])}class St extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class _t extends St{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Et extends St{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class jt extends St{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Nt;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(Nt||(Nt={}));var Ct=function(e,t,n,o){return new(n||(n=Promise))(function(r,a){function i(e){try{l(o.next(e))}catch(Mg){a(Mg)}}function s(e){try{l(o.throw(e))}catch(Mg){a(Mg)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,s)}l((o=o.apply(e,t||[])).next())})};class Pt{constructor(e){let{headers:t={},customFetch:o,region:r=Nt.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=r,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}})(o)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return Ct(this,void 0,void 0,function*(){try{const{headers:o,method:r,body:a}=t;let i={},{region:s}=t;s||(s=this.region);const l=new URL("".concat(this.url,"/").concat(e));let c;s&&"any"!==s&&(i["x-region"]=s,l.searchParams.set("forceFunctionRegion",s)),a&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&("undefined"!==typeof Blob&&a instanceof Blob||a instanceof ArrayBuffer?(i["Content-Type"]="application/octet-stream",c=a):"string"===typeof a?(i["Content-Type"]="text/plain",c=a):"undefined"!==typeof FormData&&a instanceof FormData?c=a:(i["Content-Type"]="application/json",c=JSON.stringify(a)));const u=yield this.fetch(l.toString(),{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},i),this.headers),o),body:c}).catch(e=>{throw new _t(e)}),d=u.headers.get("x-relay-error");if(d&&"true"===d)throw new Et(u);if(!u.ok)throw new jt(u);let p,h=(null!==(n=u.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return p="application/json"===h?yield u.json():"application/octet-stream"===h?yield u.blob():"text/event-stream"===h?u:"multipart/form-data"===h?yield u.formData():yield u.text(),{data:p,error:null,response:u}}catch(o){return{data:null,error:o,response:o instanceof jt||o instanceof Et?o.context:void 0}}})}}var Tt=n(980);const{PostgrestClient:Ot,PostgrestQueryBuilder:At,PostgrestFilterBuilder:Rt,PostgrestTransformBuilder:Mt,PostgrestBuilder:It,PostgrestError:Dt}=Tt;const zt=class{static detectEnvironment(){var e;if("undefined"!==typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!==typeof n.g&&"undefined"!==typeof n.g.WebSocket)return{type:"native",constructor:n.g.WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocketPair&&"undefined"===typeof globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!==typeof globalThis&&globalThis.EdgeRuntime||"undefined"!==typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!==typeof process&&process.versions&&process.versions.node){const e=parseInt(process.versions.node.split(".")[0]);return e>=22?"undefined"!==typeof globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:"Node.js ".concat(e," detected but native WebSocket not found."),workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:"Node.js ".concat(e," detected without native WebSocket support."),workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+="\n\nSuggested solution: ".concat(e.workaround)),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}},Lt="realtime-js/".concat("2.15.1"),Ft=1e4;var Ut,Bt,qt,Ht,Vt,Wt;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(Ut||(Ut={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(Bt||(Bt={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(qt||(qt={})),function(e){e.websocket="websocket"}(Ht||(Ht={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(Vt||(Vt={}));class Kt{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const o=t.getUint8(1),r=t.getUint8(2);let a=this.HEADER_LENGTH+2;const i=n.decode(e.slice(a,a+o));a+=o;const s=n.decode(e.slice(a,a+r));a+=r;return{ref:null,topic:i,event:s,payload:JSON.parse(n.decode(e.slice(a,e.byteLength)))}}}class Gt{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(Wt||(Wt={}));const Yt=function(e,t){var n;const o=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce((n,r)=>(n[r]=Xt(r,e,t,o),n),{})},Xt=(e,t,n,o)=>{const r=t.find(t=>t.name===e),a=null===r||void 0===r?void 0:r.type,i=n[e];return a&&!o.includes(a)?$t(a,i):Jt(i)},$t=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return tn(t,n)}switch(e){case Wt.bool:return Qt(t);case Wt.float4:case Wt.float8:case Wt.int2:case Wt.int4:case Wt.int8:case Wt.numeric:case Wt.oid:return Zt(t);case Wt.json:case Wt.jsonb:return en(t);case Wt.timestamp:return nn(t);case Wt.abstime:case Wt.date:case Wt.daterange:case Wt.int4range:case Wt.int8range:case Wt.money:case Wt.reltime:case Wt.text:case Wt.time:case Wt.timestamptz:case Wt.timetz:case Wt.tsrange:case Wt.tstzrange:default:return Jt(t)}},Jt=e=>e,Qt=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Zt=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},en=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log("JSON parse error: ".concat(t)),e}return e},tn=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,o=e[n];if("{"===e[0]&&"}"===o){let o;const a=e.slice(1,n);try{o=JSON.parse("["+a+"]")}catch(r){o=a?a.split(","):[]}return o.map(e=>$t(t,e))}return e},nn=e=>"string"===typeof e?e.replace(" ","T"):e,on=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class rn{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ft;this.channel=e,this.event=t,this.payload=n,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var an,sn,ln,cn;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(an||(an={}));class un{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{const{onJoin:t,onLeave:n,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=un.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=un.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},e=>{const{onJoin:t,onLeave:n,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=un.syncDiff(this.state,e,t,n),o())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,o){const r=this.cloneDeep(e),a=this.transformState(t),i={},s={};return this.map(r,(e,t)=>{a[e]||(s[e]=t)}),this.map(a,(e,t)=>{const n=r[e];if(n){const o=t.map(e=>e.presence_ref),r=n.map(e=>e.presence_ref),a=t.filter(e=>r.indexOf(e.presence_ref)<0),l=n.filter(e=>o.indexOf(e.presence_ref)<0);a.length>0&&(i[e]=a),l.length>0&&(s[e]=l)}else i[e]=t}),this.syncDiff(r,{joins:i,leaves:s},n,o)}static syncDiff(e,t,n,o){const{joins:r,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),o||(o=()=>{}),this.map(r,(t,o)=>{var r;const a=null!==(r=e[t])&&void 0!==r?r:[];if(e[t]=this.cloneDeep(o),a.length>0){const n=e[t].map(e=>e.presence_ref),o=a.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...o)}n(t,a,o)}),this.map(a,(t,n)=>{let r=e[t];if(!r)return;const a=n.map(e=>e.presence_ref);r=r.filter(e=>a.indexOf(e.presence_ref)<0),e[t]=r,o(t,r,n),0===r.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const o=e[n];return t[n]="metas"in o?o.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):o,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(sn||(sn={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(ln||(ln={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(cn||(cn={}));class dn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new rn(this,qt.join,this.params,this.timeout),this.rejoinTimer=new Gt(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=Bt.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qt.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new un(this),this.broadcastEndpointURL=on(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Bt.closed){const{config:{broadcast:r,presence:a,private:i}}=this.params,s=null!==(o=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==o?o:[],l=!!this.bindings[ln.PRESENCE]&&this.bindings[ln.PRESENCE].length>0,c={},u={broadcast:r,presence:Object.assign(Object.assign({},a),{enabled:l}),postgres_changes:s,private:i};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this._onError(t=>null===e||void 0===e?void 0:e(cn.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(cn.CLOSED)),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:n}=t;var o;if(this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,r=null!==(o=null===t||void 0===t?void 0:t.length)&&void 0!==o?o:0,a=[];for(let o=0;o<r;o++){const r=t[o],{filter:{event:i,schema:s,table:l,filter:c}}=r,u=n&&n[o];if(!u||u.event!==i||u.schema!==s||u.table!==l||u.filter!==c)return this.unsubscribe(),this.state=Bt.errored,void(null===e||void 0===e||e(cn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));a.push(Object.assign(Object.assign({},r),{id:u.id}))}return this.bindings.postgres_changes=a,void(e&&e(cn.SUBSCRIBED))}null===e||void 0===e||e(cn.SUBSCRIBED)}).receive("error",t=>{this.state=Bt.errored,null===e||void 0===e||e(cn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(cn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===Bt.joined&&e===ln.PRESENCE&&(this.socket.log("channel","resubscribe to ".concat(this.topic," due to change in presence callbacks on joined channel")),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,n)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,o;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var o,r,a;const i=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(a=null===(r=null===(o=this.params)||void 0===o?void 0:o.config)||void 0===r?void 0:r.broadcast)||void 0===a?void 0:a.ack)||n("ok"),i.receive("ok",()=>n("ok")),i.receive("error",()=>n("error")),i.receive("timeout",()=>n("timed out"))});{const{event:a,payload:i}=e,s={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,s,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(o=e.body)||void 0===o?void 0:o.cancel()),e.ok?"ok":"error"}catch(r){return"AbortError"===r.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=Bt.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(qt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(o=>{n=new rn(this,qt.leave,{},e),n.receive("ok",()=>{t(),o("ok")}).receive("timeout",()=>{t(),o("timed out")}).receive("error",()=>{o("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{null===n||void 0===n||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Bt.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const o=new AbortController,r=setTimeout(()=>o.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(r),a}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let o=new rn(this,e,t,n);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel","discarded push due to buffer overflow: ".concat(e.event),e.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var o,r;const a=e.toLocaleLowerCase(),{close:i,error:s,leave:l,join:c}=qt;if(n&&[i,s,l,c].indexOf(a)>=0&&n!==this._joinRef())return;let u=this._onMessage(a,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?null===(o=this.bindings.postgres_changes)||void 0===o||o.filter(e=>{var t,n,o;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(o=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===o?void 0:o.toLocaleLowerCase())===a}).map(e=>e.callback(u,n)):null===(r=this.bindings[a])||void 0===r||r.filter(e=>{var n,o,r,i,s,l;if(["broadcast","presence","postgres_changes"].includes(a)){if("id"in e){const a=e.id,i=null===(n=e.filter)||void 0===n?void 0:n.event;return a&&(null===(o=t.ids)||void 0===o?void 0:o.includes(a))&&("*"===i||(null===i||void 0===i?void 0:i.toLocaleLowerCase())===(null===(r=t.data)||void 0===r?void 0:r.type.toLocaleLowerCase()))}{const n=null===(s=null===(i=null===e||void 0===e?void 0:e.filter)||void 0===i?void 0:i.event)||void 0===s?void 0:s.toLocaleLowerCase();return"*"===n||n===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===a}).map(e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:o,type:r,errors:a}=e,i={schema:t,table:n,commit_timestamp:o,eventType:r,new:{},old:{},errors:a};u=Object.assign(Object.assign({},i),this._getPayloadRecords(e))}e.callback(u,n)})}_isClosed(){return this.state===Bt.closed}_isJoined(){return this.state===Bt.joined}_isJoining(){return this.state===Bt.joining}_isLeaving(){return this.state===Bt.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,n){const o=e.toLocaleLowerCase(),r={type:o,filter:t,callback:n};return this.bindings[o]?this.bindings[o].push(r):this.bindings[o]=[r],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(e=>{var o;return!((null===(o=e.type)||void 0===o?void 0:o.toLocaleLowerCase())===n&&dn.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(qt.close,{},e)}_onError(e){this._on(qt.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Bt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=Yt(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=Yt(e.columns,e.old_record)),t}}const pn=()=>{},hn=25e3,fn=10,mn=100,gn=[1e3,2e3,5e3,1e4];class vn{constructor(e,t){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ft,this.transport=null,this.heartbeatIntervalMs=hn,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=pn,this.ref=0,this.reconnectTimer=null,this.logger=pn,this.conn=null,this.sendBuffer=[],this.serializer=new Kt,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)}).catch(e=>{throw new Error("Failed to load @supabase/node-fetch: ".concat(e.message,". ")+"This is required for HTTP requests in Node.js environments without native fetch.")})}:fetch),function(){return t(...arguments)}},!(null===(o=null===t||void 0===t?void 0:t.params)||void 0===o?void 0:o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint="".concat(e,"/").concat(Ht.websocket),this.httpEndpoint=on(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=zt.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error("".concat(t,"\n\n")+'To use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })');throw new Error("WebSocket not available: ".concat(t))}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ut.connecting:return Vt.Connecting;case Ut.open:return Vt.Open;case Ut.closing:return Vt.Closing;default:return Vt.Closed}}isConnected(){return this.connectionState()===Vt.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const n="realtime:".concat(e),o=this.getChannels().find(e=>e.topic===n);if(o)return o;{const n=new dn("realtime:".concat(e),t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:n,payload:o,ref:r}=e,a=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push","".concat(t," ").concat(n," (").concat(r,")"),o),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},mn);this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}else this.heartbeatCallback("disconnected")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{"phoenix"===e.topic&&"phx_reply"===e.event&&this.heartbeatCallback("ok"===e.payload.status?"ok":"error"),e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:n,payload:o,ref:r}=e,a=r?"(".concat(r,")"):"",i=o.status||"";this.log("receive","".concat(i," ").concat(t," ").concat(n," ").concat(a).trim(),o),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,o,r)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport","connected to ".concat(this.endpointURL())),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport","".concat(e)),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(qt.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?",o=new URLSearchParams(t);return"".concat(e).concat(n).concat(o)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=t||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const n={access_token:e,version:Lt};e&&t.updateJoinPayload(n),t.joinedOnce&&t._isJoined()&&t._push(qt.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";this.setAuth().catch(t=>{this.log("error","error setting auth in ".concat(e),t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(Mg){this.log("error","error in ".concat(e," callback"),Mg)}})}catch(Mg){this.log("error","error triggering ".concat(e," callbacks"),Mg)}}_setupReconnectionTimer(){this.reconnectTimer=new Gt(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},fn)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,o,r,a,i,s,l;if(this.transport=null!==(t=null===e||void 0===e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(n=null===e||void 0===e?void 0:e.timeout)&&void 0!==n?n:Ft,this.heartbeatIntervalMs=null!==(o=null===e||void 0===e?void 0:e.heartbeatIntervalMs)&&void 0!==o?o:hn,this.worker=null!==(r=null===e||void 0===e?void 0:e.worker)&&void 0!==r&&r,this.accessToken=null!==(a=null===e||void 0===e?void 0:e.accessToken)&&void 0!==a?a:null,(null===e||void 0===e?void 0:e.params)&&(this.params=e.params),(null===e||void 0===e?void 0:e.logger)&&(this.logger=e.logger),((null===e||void 0===e?void 0:e.logLevel)||(null===e||void 0===e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(i=null===e||void 0===e?void 0:e.reconnectAfterMs)&&void 0!==i?i:e=>gn[e-1]||1e4,this.encode=null!==(s=null===e||void 0===e?void 0:e.encode)&&void 0!==s?s:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(l=null===e||void 0===e?void 0:e.decode)&&void 0!==l?l:this.serializer.decode.bind(this.serializer),this.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null===e||void 0===e?void 0:e.workerUrl}}}class yn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function bn(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class xn extends yn{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class wn extends yn{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var kn=function(e,t,n,o){return new(n||(n=Promise))(function(r,a){function i(e){try{l(o.next(e))}catch(Mg){a(Mg)}}function s(e){try{l(o.throw(e))}catch(Mg){a(Mg)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,s)}l((o=o.apply(e,t||[])).next())})};const Sn=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},_n=e=>{if(Array.isArray(e))return e.map(e=>_n(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[n,o]=e;const r=n.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[r]=_n(o)}),t};var En=function(e,t,n,o){return new(n||(n=Promise))(function(r,a){function i(e){try{l(o.next(e))}catch(Mg){a(Mg)}}function s(e){try{l(o.throw(e))}catch(Mg){a(Mg)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,s)}l((o=o.apply(e,t||[])).next())})};const jn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Nn=(e,t,o)=>En(void 0,void 0,void 0,function*(){const r=yield kn(void 0,void 0,void 0,function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(n.bind(n,630))).Response:Response});e instanceof r&&!(null===o||void 0===o?void 0:o.noResolveJson)?e.json().then(n=>{const o=e.status||500,r=(null===n||void 0===n?void 0:n.statusCode)||o+"";t(new xn(jn(n),o,r))}).catch(e=>{t(new wn(jn(e),e))}):t(new wn(jn(e),e))}),Cn=(e,t,n,o)=>{const r={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&o?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(o)?(r.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),r.body=JSON.stringify(o)):r.body=o,(null===t||void 0===t?void 0:t.duplex)&&(r.duplex=t.duplex),Object.assign(Object.assign({},r),n)):r};function Pn(e,t,n,o,r,a){return En(this,void 0,void 0,function*(){return new Promise((i,s)=>{e(n,Cn(t,o,r,a)).then(e=>{if(!e.ok)throw e;return(null===o||void 0===o?void 0:o.noResolveJson)?e:e.json()}).then(e=>i(e)).catch(e=>Nn(e,s,o))})})}function Tn(e,t,n,o){return En(this,void 0,void 0,function*(){return Pn(e,"GET",t,n,o)})}function On(e,t,n,o,r){return En(this,void 0,void 0,function*(){return Pn(e,"POST",t,o,r,n)})}function An(e,t,n,o,r){return En(this,void 0,void 0,function*(){return Pn(e,"PUT",t,o,r,n)})}function Rn(e,t,n,o,r){return En(this,void 0,void 0,function*(){return Pn(e,"DELETE",t,o,r,n)})}var Mn=function(e,t,n,o){return new(n||(n=Promise))(function(r,a){function i(e){try{l(o.next(e))}catch(Mg){a(Mg)}}function s(e){try{l(o.throw(e))}catch(Mg){a(Mg)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,s)}l((o=o.apply(e,t||[])).next())})};const In={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Dn={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class zn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=n,this.fetch=Sn(o)}uploadOrUpdate(e,t,n,o){return Mn(this,void 0,void 0,function*(){try{let r;const a=Object.assign(Object.assign({},Dn),o);let i=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(a.upsert)});const s=a.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(r=new FormData,r.append("cacheControl",a.cacheControl),s&&r.append("metadata",this.encodeMetadata(s)),r.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(r=n,r.append("cacheControl",a.cacheControl),s&&r.append("metadata",this.encodeMetadata(s))):(r=n,i["cache-control"]="max-age=".concat(a.cacheControl),i["content-type"]=a.contentType,s&&(i["x-metadata"]=this.toBase64(this.encodeMetadata(s)))),(null===o||void 0===o?void 0:o.headers)&&(i=Object.assign(Object.assign({},i),o.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield("PUT"==e?An:On)(this.fetch,"".concat(this.url,"/object/").concat(c),r,Object.assign({headers:i},(null===a||void 0===a?void 0:a.duplex)?{duplex:a.duplex}:{}));return{data:{path:l,id:u.Id,fullPath:u.Key},error:null}}catch(r){if(bn(r))return{data:null,error:r};throw r}})}upload(e,t,n){return Mn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,o){return Mn(this,void 0,void 0,function*(){const r=this._removeEmptyFolders(e),a=this._getFinalPath(r),i=new URL(this.url+"/object/upload/sign/".concat(a));i.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:Dn.upsert},o),a=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,a["cache-control"]="max-age=".concat(t.cacheControl),a["content-type"]=t.contentType);return{data:{path:r,fullPath:(yield An(this.fetch,i.toString(),e,{headers:a})).Key},error:null}}catch(s){if(bn(s))return{data:null,error:s};throw s}})}createSignedUploadUrl(e,t){return Mn(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const o=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(o["x-upsert"]="true");const r=yield On(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(n),{},{headers:o}),a=new URL(this.url+r.url),i=a.searchParams.get("token");if(!i)throw new yn("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:i},error:null}}catch(n){if(bn(n))return{data:null,error:n};throw n}})}update(e,t,n){return Mn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return Mn(this,void 0,void 0,function*(){try{return{data:yield On(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(bn(o))return{data:null,error:o};throw o}})}copy(e,t,n){return Mn(this,void 0,void 0,function*(){try{return{data:{path:(yield On(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(bn(o))return{data:null,error:o};throw o}})}createSignedUrl(e,t,n){return Mn(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),r=yield On(this.fetch,"".concat(this.url,"/object/sign/").concat(o),Object.assign({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const a=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return r={signedUrl:encodeURI("".concat(this.url).concat(r.signedURL).concat(a))},{data:r,error:null}}catch(o){if(bn(o))return{data:null,error:o};throw o}})}createSignedUrls(e,t,n){return Mn(this,void 0,void 0,function*(){try{const o=yield On(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:t,paths:e},{headers:this.headers}),r=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return{data:o.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI("".concat(this.url).concat(e.signedURL).concat(r)):null})),error:null}}catch(o){if(bn(o))return{data:null,error:o};throw o}})}download(e,t){return Mn(this,void 0,void 0,function*(){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",o=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),r=o?"?".concat(o):"";try{const t=this._getFinalPath(e),o=yield Tn(this.fetch,"".concat(this.url,"/").concat(n,"/").concat(t).concat(r),{headers:this.headers,noResolveJson:!0});return{data:yield o.blob(),error:null}}catch(a){if(bn(a))return{data:null,error:a};throw a}})}info(e){return Mn(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield Tn(this.fetch,"".concat(this.url,"/object/info/").concat(t),{headers:this.headers});return{data:_n(e),error:null}}catch(n){if(bn(n))return{data:null,error:n};throw n}})}exists(e){return Mn(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,o){return En(this,void 0,void 0,function*(){return Pn(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),o)})}(this.fetch,"".concat(this.url,"/object/").concat(t),{headers:this.headers}),{data:!0,error:null}}catch(n){if(bn(n)&&n instanceof wn){const e=n.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),o=[],r=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==r&&o.push(r);const a="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",i=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==i&&o.push(i);let s=o.join("&");return""!==s&&(s="?".concat(s)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(a,"/public/").concat(n).concat(s))}}}remove(e){return Mn(this,void 0,void 0,function*(){try{return{data:yield Rn(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(bn(t))return{data:null,error:t};throw t}})}list(e,t,n){return Mn(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},In),t),{prefix:e||""});return{data:yield On(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),o,{headers:this.headers},n),error:null}}catch(o){if(bn(o))return{data:null,error:o};throw o}})}listV2(e,t){return Mn(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield On(this.fetch,"".concat(this.url,"/object/list-v2/").concat(this.bucketId),n,{headers:this.headers},t),error:null}}catch(n){if(bn(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e.replace(/^\/+/,""))}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}}const Ln={"X-Client-Info":"storage-js/".concat("2.11.0")};var Fn=function(e,t,n,o){return new(n||(n=Promise))(function(r,a){function i(e){try{l(o.next(e))}catch(Mg){a(Mg)}}function s(e){try{l(o.throw(e))}catch(Mg){a(Mg)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,s)}l((o=o.apply(e,t||[])).next())})};class Un{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;const r=new URL(e);if(null===o||void 0===o?void 0:o.useNewHostname){/supabase\.(co|in|red)$/.test(r.hostname)&&!r.hostname.includes("storage.supabase.")&&(r.hostname=r.hostname.replace("supabase.","storage.supabase."))}this.url=r.href,this.headers=Object.assign(Object.assign({},Ln),t),this.fetch=Sn(n)}listBuckets(){return Fn(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers}),error:null}}catch(e){if(bn(e))return{data:null,error:e};throw e}})}getBucket(e){return Fn(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers}),error:null}}catch(t){if(bn(t))return{data:null,error:t};throw t}})}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return Fn(this,void 0,void 0,function*(){try{return{data:yield On(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(bn(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return Fn(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(bn(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Fn(this,void 0,void 0,function*(){try{return{data:yield On(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers}),error:null}}catch(t){if(bn(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Fn(this,void 0,void 0,function*(){try{return{data:yield Rn(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(t){if(bn(t))return{data:null,error:t};throw t}})}}class Bn extends Un{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)}from(e){return new zn(this.url,this.headers,e,this.fetch)}}let qn="";qn="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const Hn={headers:{"X-Client-Info":"supabase-js-".concat(qn,"/").concat("2.56.0")}},Vn={schema:"public"},Wn={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Kn={};var Gn=n(630),Yn=function(e,t,n,o){return new(n||(n=Promise))(function(r,a){function i(e){try{l(o.next(e))}catch(Mg){a(Mg)}}function s(e){try{l(o.throw(e))}catch(Mg){a(Mg)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,s)}l((o=o.apply(e,t||[])).next())})};const Xn=e=>{let t;return t=e||("undefined"===typeof fetch?Gn.default:fetch),function(){return t(...arguments)}},$n=(e,t,n)=>{const o=Xn(n),r="undefined"===typeof Headers?Gn.Headers:Headers;return(n,a)=>Yn(void 0,void 0,void 0,function*(){var i;const s=null!==(i=yield t())&&void 0!==i?i:e;let l=new r(null===a||void 0===a?void 0:a.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(s)),o(n,Object.assign(Object.assign({},a),{headers:l}))})};var Jn=function(e,t,n,o){return new(n||(n=Promise))(function(r,a){function i(e){try{l(o.next(e))}catch(Mg){a(Mg)}}function s(e){try{l(o.throw(e))}catch(Mg){a(Mg)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,s)}l((o=o.apply(e,t||[])).next())})};const Qn="2.71.1",Zn=3e4,eo=9e4,to={"X-Client-Info":"gotrue-js/".concat(Qn)},no="X-Supabase-Api-Version",oo={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},ro=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class ao extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function io(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class so extends ao{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class lo extends ao{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class co extends ao{constructor(e,t,n,o){super(e,n,o),this.name=t,this.status=n}}class uo extends co{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class po extends co{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ho extends co{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class fo extends co{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class mo extends co{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class go extends co{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function vo(e){return io(e)&&"AuthRetryableFetchError"===e.name}class yo extends co{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class bo extends co{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const xo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),wo=" \t\n\r=".split(""),ko=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<wo.length;t+=1)e[wo[t].charCodeAt(0)]=-2;for(let t=0;t<xo.length;t+=1)e[xo[t].charCodeAt(0)]=t;return e})();function So(e,t,n){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(xo[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(xo[e]),t.queuedBits-=6}}function _o(e,t,n){const o=ko[e];if(!(o>-1)){if(-2===o)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|o,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Eo(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},o={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},a=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,o,n)};for(let i=0;i<e.length;i+=1)_o(e.charCodeAt(i),r,a);return t.join("")}function jo(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function No(e,t){for(let n=0;n<e.length;n+=1){let o=e.charCodeAt(n);if(o>55295&&o<=56319){const t=1024*(o-55296)&65535;o=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}jo(o,t)}}function Co(e){const t=[],n={queue:0,queuedBits:0},o=e=>{t.push(e)};for(let r=0;r<e.length;r+=1)_o(e.charCodeAt(r),n,o);return new Uint8Array(t)}function Po(e){const t=[],n={queue:0,queuedBits:0},o=e=>{t.push(e)};return e.forEach(e=>So(e,n,o)),So(null,n,o),t.join("")}const To=()=>"undefined"!==typeof window&&"undefined"!==typeof document,Oo={tested:!1,writable:!1},Ao=()=>{if(!To())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(Mg){return!1}if(Oo.tested)return Oo.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Oo.tested=!0,Oo.writable=!0}catch(Mg){Oo.tested=!0,Oo.writable=!1}return Oo.writable};const Ro=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},Mo=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Io=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(o){return n}},Do=async(e,t)=>{await e.removeItem(t)};class zo{constructor(){this.promise=new zo.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function Lo(e){const t=e.split(".");if(3!==t.length)throw new bo("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!ro.test(t[n]))throw new bo("JWT not in base64url format");return{header:JSON.parse(Eo(t[0])),payload:JSON.parse(Eo(t[1])),signature:Co(t[2]),raw:{header:t[0],payload:t[1]}}}function Fo(e){return("0"+e.toString(16)).substr(-2)}async function Uo(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),o=new Uint8Array(n);return Array.from(o).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Bo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let o=0;o<56;o++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,Fo).join("")}();let r=o;n&&(r+="/PASSWORD_RECOVERY"),await Mo(e,"".concat(t,"-code-verifier"),r);const a=await Uo(o);return[a,o===a?"plain":"s256"]}zo.promiseConstructor=Promise;const qo=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const Ho=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Vo(e){if(!Ho.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Wo(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "'.concat(t,'" property of the session object is not supported. Please use getUser() instead.'))},set:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))},deleteProperty:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))}})}function Ko(e){return JSON.parse(JSON.stringify(e))}var Go=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const Yo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Xo=[502,503,504];async function $o(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new go(Yo(e),0);if(Xo.includes(e.status))throw new go(Yo(e),e.status);let o,r;try{o=await e.json()}catch(Mg){throw new lo(Yo(Mg),Mg)}const a=function(e){const t=e.headers.get(no);if(!t)return null;if(!t.match(qo))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(Mg){return null}}(e);if(a&&a.getTime()>=oo.timestamp&&"object"===typeof o&&o&&"string"===typeof o.code?r=o.code:"object"===typeof o&&o&&"string"===typeof o.error_code&&(r=o.error_code),r){if("weak_password"===r)throw new yo(Yo(o),e.status,(null===(t=o.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===r)throw new uo}else if("object"===typeof o&&o&&"object"===typeof o.weak_password&&o.weak_password&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new yo(Yo(o),e.status,o.weak_password.reasons);throw new so(Yo(o),e.status||500,r)}async function Jo(e,t,n,o){var r;const a=Object.assign({},null===o||void 0===o?void 0:o.headers);a[no]||(a[no]=oo.name),(null===o||void 0===o?void 0:o.jwt)&&(a.Authorization="Bearer ".concat(o.jwt));const i=null!==(r=null===o||void 0===o?void 0:o.query)&&void 0!==r?r:{};(null===o||void 0===o?void 0:o.redirectTo)&&(i.redirect_to=o.redirectTo);const s=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await async function(e,t,n,o,r,a){const i=((e,t,n,o)=>{const r={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),r.body=JSON.stringify(o),Object.assign(Object.assign({},r),n))})(t,o,r,a);let s;try{s=await e(n,Object.assign({},i))}catch(Mg){throw console.error(Mg),new go(Yo(Mg),0)}s.ok||await $o(s);if(null===o||void 0===o?void 0:o.noResolveJson)return s;try{return await s.json()}catch(Mg){await $o(Mg)}}(e,t,n+s,{headers:a,noResolveJson:null===o||void 0===o?void 0:o.noResolveJson},{},null===o||void 0===o?void 0:o.body);return(null===o||void 0===o?void 0:o.xform)?null===o||void 0===o?void 0:o.xform(l):{data:Object.assign({},l),error:null}}function Qo(e){var t;let n=null;var o;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(o=e.expires_in,Math.round(Date.now()/1e3)+o)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Zo(e){const t=Qo(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function er(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function tr(e){return{data:e,error:null}}function nr(e){const{action_link:t,email_otp:n,hashed_token:o,redirect_to:r,verification_type:a}=e,i=Go(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:o,redirect_to:r,verification_type:a},user:Object.assign({},i)},error:null}}function or(e){return e}const rr=["global","local","others"];var ar=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};class ir{constructor(e){let{url:t="",headers:n={},fetch:o}=e;this.url=t,this.headers=n,this.fetch=Ro(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rr[0];if(rr.indexOf(t)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(rr.join(", ")));try{return await Jo(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(io(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await Jo(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:er})}catch(n){if(io(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=ar(e,["options"]),o=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(o.new_email=null===n||void 0===n?void 0:n.newEmail,delete o.newEmail),await Jo(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:o,headers:this.headers,xform:nr,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(io(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Jo(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:er})}catch(t){if(io(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,o,r,a,i,s;try{const l={nextPage:null,lastPage:0,total:0},c=await Jo(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(r=null===(o=null===e||void 0===e?void 0:e.perPage)||void 0===o?void 0:o.toString())&&void 0!==r?r:""},xform:or});if(c.error)throw c.error;const u=await c.json(),d=null!==(a=c.headers.get("x-total-count"))&&void 0!==a?a:0,p=null!==(s=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==s?s:[];return p.length>0&&(p.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(n,"Page")]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(io(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){Vo(e);try{return await Jo(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:er})}catch(t){if(io(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Vo(e);try{return await Jo(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:er})}catch(n){if(io(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Vo(e);try{return await Jo(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:er})}catch(n){if(io(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Vo(e.userId);try{const{data:t,error:n}=await Jo(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(io(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Vo(e.userId),Vo(e.id);try{return{data:await Jo(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(io(t))return{data:null,error:t};throw t}}}function sr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const lr=!!(globalThis&&Ao()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class cr extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ur extends cr{}async function dr(e,t,n){lr&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const o=new globalThis.AbortController;return t>0&&setTimeout(()=>{o.abort(),lr&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async o=>{if(!o){if(0===t)throw lr&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ur('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(lr)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(Mg){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",Mg)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}lr&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await n()}finally{lr&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(Mg){"undefined"!==typeof self&&(self.globalThis=self)}}();const pr={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:to,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function hr(e,t,n){return await n()}const fr={};class mr{constructor(e){var t,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=mr.nextInstanceID,mr.nextInstanceID+=1,this.instanceID>0&&To()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},pr),e);if(this.logDebugMessages=!!o.debug,"function"===typeof o.debug&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new ir({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Ro(o.fetch),this.lock=o.lock||hr,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:To()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=dr:this.lock=hr,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Ao()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=sr(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=sr(this.memoryStorage)),To()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(Mg){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",Mg)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}get jwks(){var e,t;return null!==(t=null===(e=fr[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){fr[this.storageKey]=Object.assign(Object.assign({},fr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=fr[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){fr[this.storageKey]=Object.assign(Object.assign({},fr[this.storageKey]),{cachedAt:e})}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger("GoTrueClient@".concat(this.instanceID," (").concat(Qn,") ").concat((new Date).toISOString()),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch(Mg){}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),To()&&this.detectSessionInUrl&&"none"!==n){const{data:o,error:r}=await this._getSessionFromURL(t,n);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),function(e){return io(e)&&"AuthImplicitGrantRedirectError"===e.name}(r)){const t=null===(e=r.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:r}}return await this._removeSession(),{error:r}}const{session:a,redirectType:i}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",i),await this._saveSession(a),setTimeout(async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return io(t)?{error:t}:{error:new lo("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,o;try{const r=await Jo(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(o=null===e||void 0===e?void 0:e.options)||void 0===o?void 0:o.captchaToken}},xform:Qo}),{data:a,error:i}=r;if(i||!a)return{data:{user:null,session:null},error:i};const s=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:l,session:s},error:null}}catch(r){if(io(r))return{data:{user:null,session:null},error:r};throw r}}async signUp(e){var t,n,o;try{let r;if("email"in e){const{email:n,password:o,options:a}=e;let i=null,s=null;"pkce"===this.flowType&&([i,s]=await Bo(this.storage,this.storageKey)),r=await Jo(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo,body:{email:n,password:o,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:i,code_challenge_method:s},xform:Qo})}else{if(!("phone"in e))throw new ho("You must provide either an email or phone number and a password");{const{phone:t,password:a,options:i}=e;r=await Jo(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:a,data:null!==(n=null===i||void 0===i?void 0:i.data)&&void 0!==n?n:{},channel:null!==(o=null===i||void 0===i?void 0:i.channel)&&void 0!==o?o:"sms",gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:Qo})}}const{data:a,error:i}=r;if(i||!a)return{data:{user:null,session:null},error:i};const s=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:l,session:s},error:null}}catch(r){if(io(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:o,options:r}=e;t=await Jo(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:n,password:o,gotrue_meta_security:{captcha_token:null===r||void 0===r?void 0:r.captchaToken}},xform:Zo})}else{if(!("phone"in e))throw new ho("You must provide either an email or phone number and a password");{const{phone:n,password:o,options:r}=e;t=await Jo(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:n,password:o,gotrue_meta_security:{captcha_token:null===r||void 0===r?void 0:r.captchaToken}},xform:Zo})}}const{data:n,error:o}=t;return o?{data:{user:null,session:null},error:o}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:o}):{data:{user:null,session:null},error:new po}}catch(t){if(io(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,o,r;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(o=e.options)||void 0===o?void 0:o.queryParams,skipBrowserRedirect:null===(r=e.options)||void 0===r?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if("solana"===t)return await this.signInWithSolana(e);throw new Error('@supabase/auth-js: Unsupported chain "'.concat(t,'"'))}async signInWithSolana(e){var t,n,o,r,a,i,s,l,c,u,d,p;let h,f;if("message"in e)h=e.message,f=e.signature;else{const{chain:d,wallet:p,statement:m,options:g}=e;let v;if(To())if("object"===typeof p)v=p;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");v=e.solana}else{if("object"!==typeof p||!(null===g||void 0===g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=p}const y=new URL(null!==(t=null===g||void 0===g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in v&&v.signIn){const e=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===g||void 0===g?void 0:g.signInWithSolana),{version:"1",domain:y.host,uri:y.href}),m?{statement:m}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");h="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),f=t.signature}else{if(!("signMessage"in v)||"function"!==typeof v.signMessage||!("publicKey"in v)||"object"!==typeof v||!v.publicKey||!("toBase58"in v.publicKey)||"function"!==typeof v.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");h=["".concat(y.host," wants you to sign in with your Solana account:"),v.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1","URI: ".concat(y.href),"Issued At: ".concat(null!==(o=null===(n=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===n?void 0:n.issuedAt)&&void 0!==o?o:(new Date).toISOString()),...(null===(r=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===r?void 0:r.notBefore)?["Not Before: ".concat(g.signInWithSolana.notBefore)]:[],...(null===(a=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===a?void 0:a.expirationTime)?["Expiration Time: ".concat(g.signInWithSolana.expirationTime)]:[],...(null===(i=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===i?void 0:i.chainId)?["Chain ID: ".concat(g.signInWithSolana.chainId)]:[],...(null===(s=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===s?void 0:s.nonce)?["Nonce: ".concat(g.signInWithSolana.nonce)]:[],...(null===(l=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?["Request ID: ".concat(g.signInWithSolana.requestId)]:[],...(null===(u=null===(c=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...g.signInWithSolana.resources.map(e=>"- ".concat(e))]:[]].join("\n");const e=await v.signMessage((new TextEncoder).encode(h),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");f=e}}try{const{data:t,error:n}=await Jo(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:h,signature:Po(f)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(p=e.options)||void 0===p?void 0:p.captchaToken}}:null),xform:Qo});if(n)throw n;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:n}):{data:{user:null,session:null},error:new po}}catch(m){if(io(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(e){const t=await Io(this.storage,"".concat(this.storageKey,"-code-verifier")),[n,o]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:r}=await Jo(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Qo});if(await Do(this.storage,"".concat(this.storageKey,"-code-verifier")),r)throw r;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==o&&void 0!==o?o:null}),error:r}):{data:{user:null,session:null,redirectType:null},error:new po}}catch(r){if(io(r))return{data:{user:null,session:null,redirectType:null},error:r};throw r}}async signInWithIdToken(e){try{const{options:t,provider:n,token:o,access_token:r,nonce:a}=e,i=await Jo(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:n,id_token:o,access_token:r,nonce:a,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:Qo}),{data:s,error:l}=i;return l?{data:{user:null,session:null},error:l}:s&&s.session&&s.user?(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:s,error:l}):{data:{user:null,session:null},error:new po}}catch(t){if(io(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,o,r,a;try{if("email"in e){const{email:o,options:r}=e;let a=null,i=null;"pkce"===this.flowType&&([a,i]=await Bo(this.storage,this.storageKey));const{error:s}=await Jo(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:o,data:null!==(t=null===r||void 0===r?void 0:r.data)&&void 0!==t?t:{},create_user:null===(n=null===r||void 0===r?void 0:r.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===r||void 0===r?void 0:r.captchaToken},code_challenge:a,code_challenge_method:i},redirectTo:null===r||void 0===r?void 0:r.emailRedirectTo});return{data:{user:null,session:null},error:s}}if("phone"in e){const{phone:t,options:n}=e,{data:i,error:s}=await Jo(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(o=null===n||void 0===n?void 0:n.data)&&void 0!==o?o:{},create_user:null===(r=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(a=null===n||void 0===n?void 0:n.channel)&&void 0!==a?a:"sms"}});return{data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:s}}throw new ho("You must provide either an email or phone number.")}catch(i){if(io(i))return{data:{user:null,session:null},error:i};throw i}}async verifyOtp(e){var t,n;try{let o,r;"options"in e&&(o=null===(t=e.options)||void 0===t?void 0:t.redirectTo,r=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:a,error:i}=await Jo(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:r}}),redirectTo:o,xform:Qo});if(i)throw i;if(!a)throw new Error("An error occurred on token verification.");const s=a.session,l=a.user;return(null===s||void 0===s?void 0:s.access_token)&&(await this._saveSession(s),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",s)),{data:{user:l,session:s},error:null}}catch(o){if(io(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var t,n,o;try{let r=null,a=null;return"pkce"===this.flowType&&([r,a]=await Bo(this.storage,this.storageKey)),await Jo(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(o=null===e||void 0===e?void 0:e.options)||void 0===o?void 0:o.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:r,code_challenge_method:a}),headers:this.headers,xform:tr})}catch(r){if(io(r))return{data:null,error:r};throw r}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new uo;const{error:o}=await Jo(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(io(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:n,type:o,options:r}=e,{error:a}=await Jo(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:o,gotrue_meta_security:{captcha_token:null===r||void 0===r?void 0:r.captchaToken}},redirectTo:null===r||void 0===r?void 0:r.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in e){const{phone:n,type:o,options:r}=e,{data:a,error:i}=await Jo(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:o,gotrue_meta_security:{captcha_token:null===r||void 0===r?void 0:r.captchaToken}}});return{data:{user:null,session:null,messageId:null===a||void 0===a?void 0:a.message_id},error:i}}throw new ho("You must provide either an email or phone number and a type")}catch(t){if(io(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(Mg){}})()),n}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(Mg){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await Io(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<eo;if(this._debug("#__loadSession()","session has".concat(n?"":" not"," expired"),"expires_at",e.expires_at),!n){if(this.userStorage){const t=await Io(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=Wo()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,o)=>(t||"user"!==n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,o))})}return{data:{session:e},error:null}}const{session:o,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{session:null},error:r}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await Jo(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:er}):await this._useSession(async e=>{var t,n,o;const{data:r,error:a}=e;if(a)throw a;return(null===(t=r.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await Jo(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(o=null===(n=r.session)||void 0===n?void 0:n.access_token)&&void 0!==o?o:void 0,xform:er}):{data:{user:null},error:new uo}})}catch(t){if(io(t))return function(e){return io(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await Do(this.storage,"".concat(this.storageKey,"-code-verifier"))),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async n=>{const{data:o,error:r}=n;if(r)throw r;if(!o.session)throw new uo;const a=o.session;let i=null,s=null;"pkce"===this.flowType&&null!=e.email&&([i,s]=await Bo(this.storage,this.storageKey));const{data:l,error:c}=await Jo(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:s}),jwt:a.access_token,xform:er});if(c)throw c;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(io(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new uo;const t=Date.now()/1e3;let n=t,o=!0,r=null;const{payload:a}=Lo(e.access_token);if(a.exp&&(n=a.exp,o=n<=t),o){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};r=t}else{const{data:o,error:a}=await this._getUser(e.access_token);if(a)throw a;r={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return{data:{user:r.user,session:r},error:null}}catch(t){if(io(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:o,error:r}=t;if(r)throw r;e=null!==(n=o.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new uo;const{session:o,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{user:null,session:null},error:r}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(io(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!To())throw new fo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new fo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new mo("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new fo("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new mo("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const o=new URL(window.location.href);return o.searchParams.delete("code"),window.history.replaceState(window.history.state,"",o.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:o,access_token:r,refresh_token:a,expires_in:i,expires_at:s,token_type:l}=e;if(!r||!i||!a||!l)throw new fo("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(i);let d=c+u;s&&(d=parseInt(s));const p=d-c;1e3*p<=Zn&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(p,"s, should have been closer to ").concat(u,"s"));const h=d-u;c-h>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",h,d,c):c-h<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",h,d,c);const{data:f,error:m}=await this._getUser(r);if(m)throw m;const g={provider_token:n,provider_refresh_token:o,access_token:r,expires_in:u,expires_at:d,refresh_token:a,token_type:l,user:f.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(io(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Io(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var n;const{data:o,error:r}=t;if(r)return{error:r};const a=null===(n=o.session)||void 0===n?void 0:n.access_token;if(a){const{error:t}=await this.admin.signOut(a,e);if(t&&(!function(e){return io(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await Do(this.storage,"".concat(this.storageKey,"-code-verifier"))),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,o;try{const{data:{session:o},error:r}=t;if(r)throw r;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(r){await(null===(o=this.stateChangeEmitters.get(e))||void 0===o?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",r),console.error(r)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,o=null;"pkce"===this.flowType&&([n,o]=await Bo(this.storage,this.storageKey,!0));try{return await Jo(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:n,code_challenge_method:o,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(r){if(io(r))return{data:null,error:r};throw r}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(io(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:o}=await this._useSession(async t=>{var n,o,r,a,i;const{data:s,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(o=e.options)||void 0===o?void 0:o.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:!0});return await Jo(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(i=null===(a=s.session)||void 0===a?void 0:a.access_token)&&void 0!==i?i:void 0})});if(o)throw o;return To()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),{data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null}}catch(n){if(io(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,o;const{data:r,error:a}=t;if(a)throw a;return await Jo(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(o=null===(n=r.session)||void 0===n?void 0:n.access_token)&&void 0!==o?o:void 0})})}catch(t){if(io(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const r=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await Jo(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:Qo})),o=(e,t)=>{const n=200*Math.pow(2,e);return t&&vo(t)&&Date.now()+n-r<Zn},new Promise((e,t)=>{(async()=>{for(let r=0;r<1/0;r++)try{const t=await n(r);if(!o(r,null,t))return void e(t)}catch(Mg){if(!o(r,Mg))return void t(Mg)}})()}))}catch(r){if(this._debug(t,"error",r),io(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}var n,o}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),To()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Io(this.storage,this.storageKey);if(r&&this.userStorage){let t=await Io(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:r.user},await Mo(this.userStorage,this.storageKey+"-user",t)),r.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:Wo()}else if(r&&!r.user&&!r.user){const e=await Io(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(r.user=e.user,await Do(this.storage,this.storageKey+"-user"),await Mo(this.storage,this.storageKey,r)):r.user=Wo()}if(this._debug(n,"session from storage",r),!this._isValidSession(r))return this._debug(n,"session is not valid"),void(null!==r&&await this._removeSession());const a=1e3*(null!==(t=r.expires_at)&&void 0!==t?t:1/0)-Date.now()<eo;if(this._debug(n,"session has".concat(a?"":" not"," expired with margin of ").concat(eo,"s")),a){if(this.autoRefreshToken&&r.refresh_token){const{error:e}=await this._callRefreshToken(r.refresh_token);e&&(console.error(e),vo(e)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(r.user&&!0===r.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(r.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(r.user=e.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){return this._debug(n,"error",r),void console.error(r)}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new uo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(o,"begin");try{this.refreshingDeferred=new zo;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new uo;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const o={session:t.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(r){if(this._debug(o,"error",r),io(r)){const e={session:null,error:r};return vo(r)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(r),r}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const o="#_notifyAllSubscribers(".concat(e,")");this._debug(o,"begin",t,"broadcast = ".concat(n));try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const o=[],r=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(Mg){o.push(Mg)}});if(await Promise.all(r),o.length>0){for(let e=0;e<o.length;e+=1)console.error(o[e]);throw o[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),n=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!n&&t.user&&await Mo(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const o=Ko(e);await Mo(this.storage,this.storageKey,o)}else{const e=Ko(t);await Mo(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await Do(this.storage,this.storageKey),await Do(this.storage,this.storageKey+"-code-verifier"),await Do(this.storage,this.storageKey+"-user"),this.userStorage&&await Do(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&To()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(Mg){console.error("removing visibilitychange callback failed",Mg)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Zn);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const o=Math.floor((1e3*n.expires_at-e)/Zn);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(o," ticks, a tick lasts ").concat(Zn,"ms, refresh threshold is ").concat(3," ticks")),o<=3&&await this._callRefreshToken(n.refresh_token)})}catch(Mg){console.error("Auto refresh tick failed with error. This is likely a transient error.",Mg)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(Mg){if(!(Mg.isAcquireTimeout||Mg instanceof cr))throw Mg;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!To()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const o=["provider=".concat(encodeURIComponent(t))];if((null===n||void 0===n?void 0:n.redirectTo)&&o.push("redirect_to=".concat(encodeURIComponent(n.redirectTo))),(null===n||void 0===n?void 0:n.scopes)&&o.push("scopes=".concat(encodeURIComponent(n.scopes))),"pkce"===this.flowType){const[e,t]=await Bo(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});o.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);o.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&o.push("skip_http_redirect=".concat(n.skipBrowserRedirect)),"".concat(e,"?").concat(o.join("&"))}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:o,error:r}=t;return r?{data:null,error:r}:await Jo(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(n=null===o||void 0===o?void 0:o.session)||void 0===n?void 0:n.access_token})})}catch(t){if(io(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,o;const{data:r,error:a}=t;if(a)return{data:null,error:a};const i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:s,error:l}=await Jo(this.fetch,"POST","".concat(this.url,"/factors"),{body:i,headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(o=null===s||void 0===s?void 0:s.totp)||void 0===o?void 0:o.qr_code)&&(s.totp.qr_code="data:image/svg+xml;utf-8,".concat(s.totp.qr_code)),{data:s,error:null})})}catch(t){if(io(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:o,error:r}=t;if(r)return{data:null,error:r};const{data:a,error:i}=await Jo(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null===o||void 0===o?void 0:o.session)||void 0===n?void 0:n.access_token});return i?{data:null,error:i}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:i})})}catch(t){if(io(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:o,error:r}=t;return r?{data:null,error:r}:await Jo(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:{channel:e.channel},headers:this.headers,jwt:null===(n=null===o||void 0===o?void 0:o.session)||void 0===n?void 0:n.access_token})})}catch(t){if(io(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null===e||void 0===e?void 0:e.factors)||[],o=n.filter(e=>"totp"===e.factor_type&&"verified"===e.status),r=n.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:n,totp:o,phone:r},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:o},error:r}=e;if(r)return{data:null,error:r};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Lo(o.access_token);let i=null;a.aal&&(i=a.aal);let s=i;(null!==(n=null===(t=o.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==n?n:[]).length>0&&(s="aal2");return{data:{currentLevel:i,nextLevel:s,currentAuthenticationMethods:a.amr||[]},error:null}}))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;const n=Date.now();if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>n)return t;const{data:o,error:r}=await Jo(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(r)throw r;return o.keys&&0!==o.keys.length?(this.jwks=o,this.jwks_cached_at=n,t=o.keys.find(t=>t.kid===e),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};n=e.session.access_token}const{header:o,payload:r,signature:a,raw:{header:i,payload:s}}=Lo(n);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(r.exp);const l=o.alg&&!o.alg.startsWith("HS")&&o.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(o.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:r,header:o,signature:a},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(o.alg),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,u,a,function(e){const t=[];return No(e,e=>t.push(e)),new Uint8Array(t)}("".concat(i,".").concat(s))))throw new bo("Invalid JWT signature");return{data:{claims:r,header:o,signature:a},error:null}}catch(n){if(io(n))return{data:null,error:n};throw n}}}mr.nextInstanceID=0;const gr=mr;class vr extends gr{constructor(e){super(e)}}var yr=function(e,t,n,o){return new(n||(n=Promise))(function(r,a){function i(e){try{l(o.next(e))}catch(Mg){a(Mg)}}function s(e){try{l(o.throw(e))}catch(Mg){a(Mg)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,s)}l((o=o.apply(e,t||[])).next())})};class br{constructor(e,t,n){var o,r,a;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const i=(s=e).endsWith("/")?s:s+"/";var s;const l=new URL(i);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c="sb-".concat(l.hostname.split(".")[0],"-auth-token"),u=function(e,t){var n,o;const{db:r,auth:a,realtime:i,global:s}=e,{db:l,auth:c,realtime:u,global:d}=t,p={db:Object.assign(Object.assign({},l),r),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},u),i),storage:{},global:Object.assign(Object.assign(Object.assign({},d),s),{headers:Object.assign(Object.assign({},null!==(n=null===d||void 0===d?void 0:d.headers)&&void 0!==n?n:{}),null!==(o=null===s||void 0===s?void 0:s.headers)&&void 0!==o?o:{})}),accessToken:()=>Jn(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}(null!==n&&void 0!==n?n:{},{db:Vn,realtime:Kn,auth:Object.assign(Object.assign({},Wn),{storageKey:c}),global:Hn});this.storageKey=null!==(o=u.auth.storageKey)&&void 0!==o?o:"",this.headers=null!==(r=u.global.headers)&&void 0!==r?r:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(a=u.auth)&&void 0!==a?a:{},this.headers,u.global.fetch),this.fetch=$n(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Ot(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Bn(this.storageUrl.href,this.headers,this.fetch,null===n||void 0===n?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Pt(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return yr(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey})}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:o,persistSession:r,detectSessionInUrl:a,storage:i,storageKey:s,flowType:l,lock:c,debug:u}=e;const d={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new vr({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),t),storageKey:s,autoRefreshToken:o,persistSession:r,detectSessionInUrl:a,storage:i,flowType:l,lock:c,debug:u,fetch:n,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new vn(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=n}}(function(){if("undefined"!==typeof window)return!1;if("undefined"===typeof process)return!1;const e=process.version;if(void 0===e||null===e)return!1;const t=e.match(/^v(\d+)\./);return!!t&&parseInt(t[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const xr={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SUPABASE_URL||"",wr={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SUPABASE_ANON_KEY||"";xr&&wr||(console.error("\u274c Supabase configuration missing!"),console.error("\ud83d\udcdd Please add the following to your .env file:"),console.error("   REACT_APP_SUPABASE_URL=your_supabase_project_url"),console.error("   REACT_APP_SUPABASE_ANON_KEY=your_supabase_anon_key"),console.error("\ud83d\udd17 Get these from your Supabase project settings"));const kr=((e,t,n)=>new br(e,t,n))(xr,wr,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),Sr=async(e,t)=>{const{data:n,error:o}=await kr.auth.signInWithPassword({email:e,password:t});return{data:n,error:o}},_r=async()=>{const{data:{user:e}}=await kr.auth.getUser();return e},Er=e=>kr.auth.onAuthStateChange(e),jr=async(e,t)=>{const{data:{user:n}}=await kr.auth.getUser();if(!n)throw new Error("User not authenticated");const{data:o,error:r}=await kr.from("projects").insert({name:e,description:t,user_id:n.id}).select().single();return{data:o,error:r}},Nr=async()=>{const{data:{user:e}}=await kr.auth.getUser();if(!e)throw new Error("User not authenticated");const{data:t,error:n}=await kr.from("projects").select("*").eq("user_id",e.id).neq("is_system",!0).order("created_at",{ascending:!1});return{data:t,error:n}},Cr=async(e,t)=>{const{data:n,error:o}=await kr.from("projects").update(t).eq("id",e).neq("is_system",!0).select().single();return{data:n,error:o}},Pr=async e=>{const{error:t}=await kr.from("projects").delete().eq("id",e).neq("is_system",!0);return{error:t}},Tr=async e=>{const{data:t,error:n}=await kr.from("support_materials").insert(e).select().single();return{data:t,error:n}},Or=async e=>{const{data:t,error:n}=await kr.from("support_materials").select("*").eq("project_id",e).order("created_at",{ascending:!1});return{data:t,error:n}},Ar=async(e,t)=>{const{data:n,error:o}=await kr.from("support_materials").update(t).eq("id",e).select().single();return{data:n,error:o}},Rr=async e=>{const{data:t,error:n}=await kr.from("tasks").insert(e).select().single();return{data:t,error:n}},Mr=async e=>{const{data:t,error:n}=await kr.from("tasks").select("*").eq("project_id",e).order("created_at",{ascending:!1});return{data:t,error:n}},Ir=async(e,t)=>{const{data:n,error:o}=await kr.from("tasks").update(t).eq("id",e).select().single();return{data:n,error:o}},Dr=async e=>{const{data:t,error:n}=await kr.from("flowcharts").select("*").eq("project_id",e).order("created_at",{ascending:!1});return{data:t,error:n}},zr=async e=>{const{data:t,error:n}=await kr.from("pull_requests").insert(e).select().single();return{data:t,error:n}},Lr=async e=>{const{data:t,error:n}=await kr.from("pull_requests").select("*").eq("project_id",e).order("created_at",{ascending:!1});return{data:t,error:n}},Fr=async(e,t)=>{const{data:n,error:o}=await kr.from("pull_requests").update(t).eq("id",e).select().single();return{data:n,error:o}},Ur=async e=>{const{data:t,error:n}=await kr.from("global_prompts").insert(e).select().single();return{data:t,error:n}},Br=async()=>{const{data:e,error:t}=await kr.from("global_prompts").select("*").order("type");return{data:e,error:t}},qr=async(e,t)=>{const{data:n,error:o}=await kr.from("global_prompts").update(l(l({},t),{},{updated_at:(new Date).toISOString()})).eq("id",e).select().single();return{data:n,error:o}},Hr=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Vr=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Wr=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var Kr={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Gr=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],Yr=(0,e.forwardRef)((t,n)=>{let{color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:c="",children:u,iconNode:d}=t,p=o(t,Gr);return(0,e.createElement)("svg",l(l(l({ref:n},Kr),{},{width:a,height:a,stroke:r,strokeWidth:s?24*Number(i)/Number(a):i,className:Wr("lucide",c)},!u&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(p)&&{"aria-hidden":"true"}),p),[...d.map(t=>{let[n,o]=t;return(0,e.createElement)(n,o)}),...Array.isArray(u)?u:[u]])}),Xr=["className"],$r=(t,n)=>{const r=(0,e.forwardRef)((r,a)=>{let{className:i}=r,s=o(r,Xr);return(0,e.createElement)(Yr,l({ref:a,iconNode:n,className:Wr("lucide-".concat(Hr(Vr(t))),"lucide-".concat(t),i)},s))});return r.displayName=Vr(t),r},Jr=$r("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Qr=$r("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Zr=$r("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),ea=$r("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),ta=$r("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),na=$r("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),oa=$r("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]),ra=$r("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]);var aa=n(579);const ia=t=>{let{onLoginSuccess:n}=t;const[o,r]=(0,e.useState)(""),[a,i]=(0,e.useState)(""),[s,l]=(0,e.useState)(!1),[c,u]=(0,e.useState)(!1),[d,p]=(0,e.useState)(null);(0,e.useEffect)(()=>{(async()=>{const e=await _r();e&&n(e)})();const{data:{subscription:e}}=Er((e,t)=>{"SIGNED_IN"===e&&null!==t&&void 0!==t&&t.user&&n(t.user)});return()=>e.unsubscribe()},[n]);return(0,aa.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:(0,aa.jsx)("div",{className:"max-w-md w-full",children:(0,aa.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[(0,aa.jsxs)("div",{className:"text-center mb-8",children:[(0,aa.jsx)("img",{src:"https://devfy.co/wp-content/uploads/2024/07/Logo-1.png",alt:"Briefy Logo",className:"w-24 h-24 object-contain mx-auto mb-6"}),(0,aa.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Bem-vindo ao Briefy"}),(0,aa.jsx)("p",{className:"text-gray-600 text-lg",children:"Fa\xe7a login para acessar sua conta"})]}),d&&(0,aa.jsxs)("div",{className:"mb-6 p-4 rounded-xl flex items-center ".concat("success"===d.type?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"),children:["success"===d.type?(0,aa.jsx)(Jr,{className:"w-5 h-5 mr-3 flex-shrink-0"}):(0,aa.jsx)(Qr,{className:"w-5 h-5 mr-3 flex-shrink-0"}),d.text]}),(0,aa.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),u(!0),p(null);try{const{error:e}=await Sr(o,a);if(e)throw e;p({type:"success",text:"Login realizado com sucesso!"})}catch(t){p({type:"error",text:t.message})}finally{u(!1)}},className:"space-y-6",children:[(0,aa.jsxs)("div",{children:[(0,aa.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,aa.jsxs)("div",{className:"relative",children:[(0,aa.jsx)(Zr,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),(0,aa.jsx)("input",{id:"email",type:"email",value:o,onChange:e=>r(e.target.value),required:!0,className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"seu@email.com"})]})]}),(0,aa.jsxs)("div",{children:[(0,aa.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha"}),(0,aa.jsxs)("div",{className:"relative",children:[(0,aa.jsx)(ea,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),(0,aa.jsx)("input",{id:"password",type:s?"text":"password",value:a,onChange:e=>i(e.target.value),required:!0,minLength:6,className:"w-full pl-12 pr-12 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Sua senha"}),(0,aa.jsx)("button",{type:"button",onClick:()=>l(!s),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600 transition-colors",children:s?(0,aa.jsx)(ta,{className:"w-5 h-5"}):(0,aa.jsx)(na,{className:"w-5 h-5"})})]}),(0,aa.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"M\xednimo 6 caracteres"})]}),(0,aa.jsx)("button",{type:"submit",disabled:c,className:"w-full flex items-center justify-center px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transform hover:scale-[1.02]",children:c?(0,aa.jsxs)(aa.Fragment,{children:[(0,aa.jsx)(oa,{className:"w-5 h-5 mr-3 animate-spin"}),"Entrando..."]}):(0,aa.jsxs)(aa.Fragment,{children:[(0,aa.jsx)(ra,{className:"w-5 h-5 mr-3"}),"Entrar no Briefy"]})})]}),(0,aa.jsx)("div",{className:"mt-8 text-center",children:(0,aa.jsx)("p",{className:"text-sm text-gray-500",children:"Devfy Tecnologia - 2025"})})]})})})};var sa,la,ca;!function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"}(sa||(sa={})),function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"}(la||(la={})),function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"}(ca||(ca={}));const ua=["user","model","function","system"];var da,pa,ha,fa,ma,ga,va,ya;!function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"}(da||(da={})),function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"}(pa||(pa={})),function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"}(ha||(ha={})),function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"}(fa||(fa={})),function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"}(ma||(ma={})),function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"}(ga||(ga={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"}(va||(va={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"}(ya||(ya={}));class ba extends Error{constructor(e){super("[GoogleGenerativeAI Error]: ".concat(e))}}class xa extends ba{constructor(e,t){super(e),this.response=t}}class wa extends ba{constructor(e,t,n,o){super(e),this.status=t,this.statusText=n,this.errorDetails=o}}class ka extends ba{}class Sa extends ba{}var _a;!function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"}(_a||(_a={}));class Ea{constructor(e,t,n,o,r){this.model=e,this.task=t,this.apiKey=n,this.stream=o,this.requestOptions=r}toString(){var e,t;const n=(null===(e=this.requestOptions)||void 0===e?void 0:e.apiVersion)||"v1beta",o=(null===(t=this.requestOptions)||void 0===t?void 0:t.baseUrl)||"https://generativelanguage.googleapis.com";let r="".concat(o,"/").concat(n,"/").concat(this.model,":").concat(this.task);return this.stream&&(r+="?alt=sse"),r}}async function ja(e){var t;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",function(e){const t=[];return(null===e||void 0===e?void 0:e.apiClient)&&t.push(e.apiClient),t.push("".concat("genai-js","/").concat("0.24.1")),t.join(" ")}(e.requestOptions)),n.append("x-goog-api-key",e.apiKey);let o=null===(t=e.requestOptions)||void 0===t?void 0:t.customHeaders;if(o){if(!(o instanceof Headers))try{o=new Headers(o)}catch(Mg){throw new ka("unable to convert customHeaders value ".concat(JSON.stringify(o)," to Headers: ").concat(Mg.message))}for(const[e,t]of o.entries()){if("x-goog-api-key"===e)throw new ka("Cannot set reserved header name ".concat(e));if("x-goog-api-client"===e)throw new ka("Header name ".concat(e," can only be set using the apiClient field"));n.append(e,t)}}return n}async function Na(e,t,n,o,r){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:fetch;const{url:s,fetchOptions:l}=await async function(e,t,n,o,r,a){const i=new Ea(e,t,n,o,a);return{url:i.toString(),fetchOptions:Object.assign(Object.assign({},Ca(a)),{method:"POST",headers:await ja(i),body:r})}}(e,t,n,o,r,a);return async function(e,t){let n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fetch;try{n=await o(e,t)}catch(Mg){!function(e,t){let n=e;"AbortError"===n.name?(n=new Sa("Request aborted when fetching ".concat(t.toString(),": ").concat(e.message)),n.stack=e.stack):e instanceof wa||e instanceof ka||(n=new ba("Error fetching from ".concat(t.toString(),": ").concat(e.message)),n.stack=e.stack);throw n}(Mg,e)}n.ok||await async function(e,t){let n,o="";try{const t=await e.json();o=t.error.message,t.error.details&&(o+=" ".concat(JSON.stringify(t.error.details)),n=t.error.details)}catch(Mg){}throw new wa("Error fetching from ".concat(t.toString(),": [").concat(e.status," ").concat(e.statusText,"] ").concat(o),e.status,e.statusText,n)}(n,e);return n}(s,l,i)}function Ca(e){const t={};if(void 0!==(null===e||void 0===e?void 0:e.signal)||(null===e||void 0===e?void 0:e.timeout)>=0){const n=new AbortController;(null===e||void 0===e?void 0:e.timeout)>=0&&setTimeout(()=>n.abort(),e.timeout),(null===e||void 0===e?void 0:e.signal)&&e.signal.addEventListener("abort",()=>{n.abort()}),t.signal=n.signal}return t}function Pa(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn("This response had ".concat(e.candidates.length," ")+"candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates."),Aa(e.candidates[0]))throw new xa("".concat(Ra(e)),e);return function(e){var t,n,o,r;const a=[];if(null===(n=null===(t=e.candidates)||void 0===t?void 0:t[0].content)||void 0===n?void 0:n.parts)for(const i of null===(r=null===(o=e.candidates)||void 0===o?void 0:o[0].content)||void 0===r?void 0:r.parts)i.text&&a.push(i.text),i.executableCode&&a.push("\n```"+i.executableCode.language+"\n"+i.executableCode.code+"\n```\n"),i.codeExecutionResult&&a.push("\n```\n"+i.codeExecutionResult.output+"\n```\n");return a.length>0?a.join(""):""}(e)}if(e.promptFeedback)throw new xa("Text not available. ".concat(Ra(e)),e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn("This response had ".concat(e.candidates.length," ")+"candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates."),Aa(e.candidates[0]))throw new xa("".concat(Ra(e)),e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Ta(e)[0]}if(e.promptFeedback)throw new xa("Function call not available. ".concat(Ra(e)),e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn("This response had ".concat(e.candidates.length," ")+"candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates."),Aa(e.candidates[0]))throw new xa("".concat(Ra(e)),e);return Ta(e)}if(e.promptFeedback)throw new xa("Function call not available. ".concat(Ra(e)),e)},e}function Ta(e){var t,n,o,r;const a=[];if(null===(n=null===(t=e.candidates)||void 0===t?void 0:t[0].content)||void 0===n?void 0:n.parts)for(const i of null===(r=null===(o=e.candidates)||void 0===o?void 0:o[0].content)||void 0===r?void 0:r.parts)i.functionCall&&a.push(i.functionCall);return a.length>0?a:void 0}const Oa=[ma.RECITATION,ma.SAFETY,ma.LANGUAGE];function Aa(e){return!!e.finishReason&&Oa.includes(e.finishReason)}function Ra(e){var t,n,o;let r="";if(e.candidates&&0!==e.candidates.length||!e.promptFeedback){if(null===(o=e.candidates)||void 0===o?void 0:o[0]){const t=e.candidates[0];Aa(t)&&(r+="Candidate was blocked due to ".concat(t.finishReason),t.finishMessage&&(r+=": ".concat(t.finishMessage)))}}else r+="Response was blocked",(null===(t=e.promptFeedback)||void 0===t?void 0:t.blockReason)&&(r+=" due to ".concat(e.promptFeedback.blockReason)),(null===(n=e.promptFeedback)||void 0===n?void 0:n.blockReasonMessage)&&(r+=": ".concat(e.promptFeedback.blockReasonMessage));return r}function Ma(e){return this instanceof Ma?(this.v=e,this):new Ma(e)}function Ia(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(e,t||[]),a=[];return o={},i("next"),i("throw"),i("return"),o[Symbol.asyncIterator]=function(){return this},o;function i(e){r[e]&&(o[e]=function(t){return new Promise(function(n,o){a.push([e,t,n,o])>1||s(e,t)})})}function s(e,t){try{(n=r[e](t)).value instanceof Ma?Promise.resolve(n.value.v).then(l,c):u(a[0][2],n)}catch(Mg){u(a[0][3],Mg)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}"function"===typeof SuppressedError&&SuppressedError;const Da=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function za(e){const t=function(e){const t=e.getReader();return new ReadableStream({start(e){let n="";return o();function o(){return t.read().then(t=>{let{value:r,done:a}=t;if(a)return n.trim()?void e.error(new ba("Failed to parse stream")):void e.close();n+=r;let i,s=n.match(Da);for(;s;){try{i=JSON.parse(s[1])}catch(Mg){return void e.error(new ba('Error parsing JSON response: "'.concat(s[1],'"')))}e.enqueue(i),n=n.substring(s[0].length),s=n.match(Da)}return o()}).catch(e=>{let t=e;throw t.stack=e.stack,t="AbortError"===t.name?new Sa("Request aborted when reading from the stream"):new ba("Error reading from the stream"),t})}}})}(e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0}))),[n,o]=t.tee();return{stream:Fa(n),response:La(o)}}async function La(e){const t=[],n=e.getReader();for(;;){const{done:e,value:o}=await n.read();if(e)return Pa(Ua(t));t.push(o)}}function Fa(e){return Ia(this,arguments,function*(){const t=e.getReader();for(;;){const{value:e,done:n}=yield Ma(t.read());if(n)break;yield yield Ma(Pa(e))}})}function Ua(e){const t=e[e.length-1],n={promptFeedback:null===t||void 0===t?void 0:t.promptFeedback};for(const o of e){if(o.candidates){let e=0;for(const t of o.candidates)if(n.candidates||(n.candidates=[]),n.candidates[e]||(n.candidates[e]={index:e}),n.candidates[e].citationMetadata=t.citationMetadata,n.candidates[e].groundingMetadata=t.groundingMetadata,n.candidates[e].finishReason=t.finishReason,n.candidates[e].finishMessage=t.finishMessage,n.candidates[e].safetyRatings=t.safetyRatings,t.content&&t.content.parts){n.candidates[e].content||(n.candidates[e].content={role:t.content.role||"user",parts:[]});const o={};for(const r of t.content.parts)r.text&&(o.text=r.text),r.functionCall&&(o.functionCall=r.functionCall),r.executableCode&&(o.executableCode=r.executableCode),r.codeExecutionResult&&(o.codeExecutionResult=r.codeExecutionResult),0===Object.keys(o).length&&(o.text=""),n.candidates[e].content.parts.push(o)}e++}o.usageMetadata&&(n.usageMetadata=o.usageMetadata)}return n}async function Ba(e,t,n,o){return za(await Na(t,_a.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(n),o))}async function qa(e,t,n,o){const r=await Na(t,_a.GENERATE_CONTENT,e,!1,JSON.stringify(n),o);return{response:Pa(await r.json())}}function Ha(e){if(null!=e)return"string"===typeof e?{role:"system",parts:[{text:e}]}:e.text?{role:"system",parts:[e]}:e.parts?e.role?e:{role:"system",parts:e.parts}:void 0}function Va(e){let t=[];if("string"===typeof e)t=[{text:e}];else for(const n of e)"string"===typeof n?t.push({text:n}):t.push(n);return function(e){const t={role:"user",parts:[]},n={role:"function",parts:[]};let o=!1,r=!1;for(const a of e)"functionResponse"in a?(n.parts.push(a),r=!0):(t.parts.push(a),o=!0);if(o&&r)throw new ba("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!o&&!r)throw new ba("No content is provided for sending chat message.");if(o)return t;return n}(t)}function Wa(e){let t;if(e.contents)t=e;else{t={contents:[Va(e)]}}return e.systemInstruction&&(t.systemInstruction=Ha(e.systemInstruction)),t}const Ka=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],Ga={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function Ya(e){var t;if(void 0===e.candidates||0===e.candidates.length)return!1;const n=null===(t=e.candidates[0])||void 0===t?void 0:t.content;if(void 0===n)return!1;if(void 0===n.parts||0===n.parts.length)return!1;for(const o of n.parts){if(void 0===o||0===Object.keys(o).length)return!1;if(void 0!==o.text&&""===o.text)return!1}return!0}const Xa="SILENT_ERROR";class $a{constructor(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.model=t,this.params=n,this._requestOptions=o,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,(null===n||void 0===n?void 0:n.history)&&(!function(e){let t=!1;for(const n of e){const{role:e,parts:o}=n;if(!t&&"user"!==e)throw new ba("First content should be with role 'user', got ".concat(e));if(!ua.includes(e))throw new ba("Each item should include role field. Got ".concat(e," but valid roles are: ").concat(JSON.stringify(ua)));if(!Array.isArray(o))throw new ba("Content should have 'parts' property with an array of Parts");if(0===o.length)throw new ba("Each Content should have at least one part");const r={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const t of o)for(const e of Ka)e in t&&(r[e]+=1);const a=Ga[e];for(const t of Ka)if(!a.includes(t)&&r[t]>0)throw new ba("Content with role '".concat(e,"' can't contain '").concat(t,"' part"));t=!0}}(n.history),this._history=n.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,o,r,a,i,s;await this._sendPromise;const l=Va(e),c={safetySettings:null===(n=this.params)||void 0===n?void 0:n.safetySettings,generationConfig:null===(o=this.params)||void 0===o?void 0:o.generationConfig,tools:null===(r=this.params)||void 0===r?void 0:r.tools,toolConfig:null===(a=this.params)||void 0===a?void 0:a.toolConfig,systemInstruction:null===(i=this.params)||void 0===i?void 0:i.systemInstruction,cachedContent:null===(s=this.params)||void 0===s?void 0:s.cachedContent,contents:[...this._history,l]},u=Object.assign(Object.assign({},this._requestOptions),t);let d;return this._sendPromise=this._sendPromise.then(()=>qa(this._apiKey,this.model,c,u)).then(e=>{var t;if(Ya(e.response)){this._history.push(l);const n=Object.assign({parts:[],role:"model"},null===(t=e.response.candidates)||void 0===t?void 0:t[0].content);this._history.push(n)}else{const t=Ra(e.response);t&&console.warn("sendMessage() was unsuccessful. ".concat(t,". Inspect response object for details."))}d=e}).catch(e=>{throw this._sendPromise=Promise.resolve(),e}),await this._sendPromise,d}async sendMessageStream(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,o,r,a,i,s;await this._sendPromise;const l=Va(e),c={safetySettings:null===(n=this.params)||void 0===n?void 0:n.safetySettings,generationConfig:null===(o=this.params)||void 0===o?void 0:o.generationConfig,tools:null===(r=this.params)||void 0===r?void 0:r.tools,toolConfig:null===(a=this.params)||void 0===a?void 0:a.toolConfig,systemInstruction:null===(i=this.params)||void 0===i?void 0:i.systemInstruction,cachedContent:null===(s=this.params)||void 0===s?void 0:s.cachedContent,contents:[...this._history,l]},u=Object.assign(Object.assign({},this._requestOptions),t),d=Ba(this._apiKey,this.model,c,u);return this._sendPromise=this._sendPromise.then(()=>d).catch(e=>{throw new Error(Xa)}).then(e=>e.response).then(e=>{if(Ya(e)){this._history.push(l);const t=Object.assign({},e.candidates[0].content);t.role||(t.role="model"),this._history.push(t)}else{const t=Ra(e);t&&console.warn("sendMessageStream() was unsuccessful. ".concat(t,". Inspect response object for details."))}}).catch(e=>{e.message!==Xa&&console.error(e)}),d}}class Ja{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.apiKey=e,this._requestOptions=n,t.model.includes("/")?this.model=t.model:this.model="models/".concat(t.model),this.generationConfig=t.generationConfig||{},this.safetySettings=t.safetySettings||[],this.tools=t.tools,this.toolConfig=t.toolConfig,this.systemInstruction=Ha(t.systemInstruction),this.cachedContent=t.cachedContent}async generateContent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;const o=Wa(e),r=Object.assign(Object.assign({},this._requestOptions),t);return qa(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null===(n=this.cachedContent)||void 0===n?void 0:n.name},o),r)}async generateContentStream(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;const o=Wa(e),r=Object.assign(Object.assign({},this._requestOptions),t);return Ba(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null===(n=this.cachedContent)||void 0===n?void 0:n.name},o),r)}startChat(e){var t;return new $a(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null===(t=this.cachedContent)||void 0===t?void 0:t.name},e),this._requestOptions)}async countTokens(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=function(e,t){var n;let o={model:null===t||void 0===t?void 0:t.model,generationConfig:null===t||void 0===t?void 0:t.generationConfig,safetySettings:null===t||void 0===t?void 0:t.safetySettings,tools:null===t||void 0===t?void 0:t.tools,toolConfig:null===t||void 0===t?void 0:t.toolConfig,systemInstruction:null===t||void 0===t?void 0:t.systemInstruction,cachedContent:null===(n=null===t||void 0===t?void 0:t.cachedContent)||void 0===n?void 0:n.name,contents:[]};const r=null!=e.generateContentRequest;if(e.contents){if(r)throw new ka("CountTokensRequest must have one of contents or generateContentRequest, not both.");o.contents=e.contents}else if(r)o=Object.assign(Object.assign({},o),e.generateContentRequest);else{const t=Va(e);o.contents=[t]}return{generateContentRequest:o}}(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),o=Object.assign(Object.assign({},this._requestOptions),t);return async function(e,t,n,o){return(await Na(t,_a.COUNT_TOKENS,e,!1,JSON.stringify(n),o)).json()}(this.apiKey,this.model,n,o)}async embedContent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=function(e){if("string"===typeof e||Array.isArray(e))return{content:Va(e)};return e}(e),o=Object.assign(Object.assign({},this._requestOptions),t);return async function(e,t,n,o){return(await Na(t,_a.EMBED_CONTENT,e,!1,JSON.stringify(n),o)).json()}(this.apiKey,this.model,n,o)}async batchEmbedContents(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Object.assign(Object.assign({},this._requestOptions),t);return async function(e,t,n,o){const r=n.requests.map(e=>Object.assign(Object.assign({},e),{model:t}));return(await Na(t,_a.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:r}),o)).json()}(this.apiKey,this.model,e,n)}}class Qa{constructor(e){this.apiKey=e}getGenerativeModel(e,t){if(!e.model)throw new ba("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Ja(this.apiKey,e,t)}getGenerativeModelFromCachedContent(e,t,n){if(!e.name)throw new ka("Cached content must contain a `name` field.");if(!e.model)throw new ka("Cached content must contain a `model` field.");const o=["model","systemInstruction"];for(const a of o)if((null===t||void 0===t?void 0:t[a])&&e[a]&&(null===t||void 0===t?void 0:t[a])!==e[a]){if("model"===a){if((t.model.startsWith("models/")?t.model.replace("models/",""):t.model)===(e.model.startsWith("models/")?e.model.replace("models/",""):e.model))continue}throw new ka('Different value for "'.concat(a,'" specified in modelParams')+" (".concat(t[a],") and cachedContent (").concat(e[a],")"))}const r=Object.assign(Object.assign({},t),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new Ja(this.apiKey,r,n)}}const Za={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_GEMINI_API_KEY||"";let ei;Za||(console.error("\u274c REACT_APP_GEMINI_API_KEY n\xe3o configurada no arquivo .env"),console.error("\ud83d\udcdd Para configurar: crie um arquivo .env na raiz do projeto com:"),console.error("   REACT_APP_GEMINI_API_KEY=sua_api_key_aqui"),console.error("\ud83d\udd11 Obtenha sua API key em: https://makersuite.google.com/app/apikey"));try{ei=new Qa(Za)}catch(Ig){console.error("\u274c Erro ao inicializar GoogleGenerativeAI:",Ig)}const ti={pr:"Voc\xea \xe9 um especialista em an\xe1lise de requisitos e cria\xe7\xe3o de documentos t\xe9cnicos.\nCom base nos documentos fornecidos, gere um DOCUMENTO T\xc9CNICO DETALHADO (PR) incluindo:\n- Vis\xe3o geral do projeto\n- Objetivos e metas\n- Arquitetura proposta\n- Tecnologias e ferramentas\n- Estimativa de esfor\xe7o\n- Riscos identificados\n- Prazos estimados\n- Or\xe7amento aproximado\n\nRetorne apenas o texto do documento t\xe9cnico, sem formata\xe7\xe3o JSON.",flowchart:'Voc\xea \xe9 um especialista em modelagem de processos e cria\xe7\xe3o de fluxogramas t\xe9cnicos.\nCom base nos documentos fornecidos, gere um FLUXOGRAMA em formato JSON v\xe1lido que represente o fluxo completo do projeto/processo.\n\n**INSTRU\xc7\xd5ES IMPORTANTES:**\n\n1. **AN\xc1LISE DO PROCESSO**: Identifique as etapas principais do processo, pontos de decis\xe3o, entradas e sa\xeddas.\n\n2. **CRIA\xc7\xc3O DE N\xd3S**:\n   - **input**: Pontos de entrada, in\xedcio do processo\n   - **process**: Atividades, tarefas, processamento de dados\n   - **output**: Resultados, fim do processo\n   - **decision**: Pontos de decis\xe3o com ramifica\xe7\xf5es (sim/n\xe3o)\n\n3. **POSICIONAMENTO**: Distribua os n\xf3s de forma l\xf3gica no diagrama:\n   - Fluxo de cima para baixo ou esquerda para direita\n   - Agrupe n\xf3s relacionados\n   - Mantenha dist\xe2ncia adequada entre n\xf3s\n\n4. **CONEX\xd5ES**: Cada edge deve conectar exatamente 2 n\xf3s existentes.\n\n**ESTRUTURA OBRIGAT\xd3RIA**: Retorne APENAS um JSON v\xe1lido (sem texto adicional):\n\n{\n  "nodes": [\n    {\n      "id": "string_unico",\n      "type": "input|process|output|decision",\n      "label": "Descri\xe7\xe3o clara e concisa do n\xf3",\n      "position": {"x": number, "y": number}\n    }\n  ],\n  "edges": [\n    {\n      "id": "edge_string_unico",\n      "source": "id_do_no_origem",\n      "target": "id_do_no_destino",\n      "label": "r\xf3tulo_opcional_da_conexao"\n    }\n  ]\n}\n\n**EXEMPLO DE FLUXOGRAMA BEM ESTRUTURADO:**\n\n{\n  "nodes": [\n    {"id": "start", "type": "input", "label": "In\xedcio do Processo", "position": {"x": 100, "y": 100}},\n    {"id": "login", "type": "process", "label": "Processar Login", "position": {"x": 300, "y": 100}},\n    {"id": "auth_check", "type": "decision", "label": "Credenciais V\xe1lidas?", "position": {"x": 500, "y": 100}},\n    {"id": "dashboard", "type": "process", "label": "Carregar Dashboard", "position": {"x": 300, "y": 300}},\n    {"id": "error", "type": "output", "label": "Mostrar Erro", "position": {"x": 700, "y": 100}},\n    {"id": "logout", "type": "output", "label": "Logout do Sistema", "position": {"x": 500, "y": 300}}\n  ],\n  "edges": [\n    {"id": "e1", "source": "start", "target": "login"},\n    {"id": "e2", "source": "login", "target": "auth_check"},\n    {"id": "e3", "source": "auth_check", "target": "dashboard", "label": "Sim"},\n    {"id": "e4", "source": "auth_check", "target": "error", "label": "N\xe3o"},\n    {"id": "e5", "source": "dashboard", "target": "logout"}\n  ]\n}\n\n**REGRAS IMPORTANTES:**\n- Use IDs \xfanicos para todos os n\xf3s e edges\n- Todas as conex\xf5es devem referenciar IDs existentes\n- Posi\xe7\xf5es devem formar um layout l\xf3gico e leg\xedvel\n- Labels devem ser concisos mas descritivos\n- Certifique-se de que o JSON seja v\xe1lido e parse\xe1vel',tasks:'Voc\xea \xe9 um especialista em gerenciamento de projetos \xe1geis e cria\xe7\xe3o de tarefas detalhadas.\nCom base nos documentos fornecidos, analise o projeto e crie uma estrutura completa de \xc9PICOS e TASKS seguindo as melhores pr\xe1ticas \xe1geis.\n\n**INSTRU\xc7\xd5ES IMPORTANTES:**\n\n1. **AN\xc1LISE DO PROJETO**: Primeiro, identifique os principais m\xf3dulos/componentes do sistema e funcionalidades principais.\n\n2. **CRIA\xc7\xc3O DE \xc9PICOS**: Cada \xe9pico deve representar uma funcionalidade ou m\xf3dulo principal do sistema.\n   - Use nomes descritivos e objetivos\n   - Inclua descri\xe7\xe3o detalhada do que o \xe9pico abrange\n   - Defina prioridade baseada na criticidade para o neg\xf3cio\n\n3. **CRIA\xc7\xc3O DE TASKS**: Para cada \xe9pico, crie tasks espec\xedficas e mensur\xe1veis.\n   - Cada task deve ter um objetivo claro e espec\xedfico\n   - Use verbos de a\xe7\xe3o no t\xedtulo (Implementar, Criar, Configurar, etc.)\n   - Defina story points realistas baseados na complexidade\n   - Categorize corretamente por tipo de trabalho\n   - Inclua crit\xe9rios de aceite espec\xedficos e test\xe1veis\n\n4. **ESTRUTURA OBRIGAT\xd3RIA**: Retorne APENAS um JSON v\xe1lido com esta estrutura:\n\n{\n  "epics": [\n    {\n      "title": "Nome descritivo do \xe9pico",\n      "description": "Descri\xe7\xe3o detalhada do que este \xe9pico abrange, incluindo objetivos e contexto",\n      "priority": "high|medium|low"\n    }\n  ],\n  "tasks": [\n    {\n      "title": "Verbo + Objetivo espec\xedfico da task",\n      "description": "Descri\xe7\xe3o detalhada do que deve ser implementado, incluindo contexto e depend\xeancias",\n      "story_points": 1|2|3|5|8|13,\n      "category": "frontend|backend|design|testing|devops|database|security|documentation|infrastructure|mobile|api",\n      "epic_index": 0,\n      "acceptance_criteria": [\n        "Crit\xe9rio espec\xedfico e test\xe1vel 1",\n        "Crit\xe9rio espec\xedfico e test\xe1vel 2",\n        "Crit\xe9rio espec\xedfico e test\xe1vel 3"\n      ],\n      "priority": "high|medium|low",\n      "estimated_hours": 2|4|8|16|24|40\n    }\n  ]\n}\n\n**DIRETRIZES PARA STORY POINTS:**\n- 1: Tarefa muito simples, poucos minutos\n- 2: Tarefa simples, at\xe9 2 horas\n- 3: Tarefa m\xe9dia, at\xe9 4 horas\n- 5: Tarefa complexa, at\xe9 8 horas\n- 8: Tarefa muito complexa, at\xe9 16 horas\n- 13: Tarefa extremamente complexa, at\xe9 24+ horas\n\n**CATEGORIAS DISPON\xcdVEIS:**\n- frontend: Interface do usu\xe1rio, componentes React/Vue/Angular\n- backend: APIs, l\xf3gica de neg\xf3cio, servi\xe7os\n- design: UI/UX, prot\xf3tipos, wireframes\n- testing: Testes unit\xe1rios, integra\xe7\xe3o, e2e\n- devops: CI/CD, infraestrutura, deploy\n- database: Modelagem, migrations, otimiza\xe7\xe3o\n- security: Autentica\xe7\xe3o, autoriza\xe7\xe3o, criptografia\n- documentation: Documenta\xe7\xe3o t\xe9cnica e de usu\xe1rio\n- infrastructure: Servidores, redes, configura\xe7\xe3o\n- mobile: Apps mobile, responsividade\n- api: Integra\xe7\xf5es, webhooks, APIs externas\n\n**EXEMPLO DE TASK BEM ESTRUTURADA:**\n{\n  "title": "Implementar sistema de autentica\xe7\xe3o OAuth2",\n  "description": "Criar sistema completo de login usando Google OAuth2, incluindo middleware, valida\xe7\xe3o de tokens e refresh tokens",\n  "story_points": 8,\n  "category": "backend",\n  "epic_index": 0,\n  "acceptance_criteria": [\n    "Usu\xe1rio pode fazer login com Google",\n    "Token JWT \xe9 gerado e validado corretamente",\n    "Middleware de autentica\xe7\xe3o protege rotas",\n    "Refresh token funciona para renovar sess\xe3o",\n    "Logout invalida tokens corretamente"\n  ],\n  "priority": "high",\n  "estimated_hours": 16\n}'};let ni=null,oi=0;const ri=async(e,t,n,o)=>{const r=await(async()=>{try{const e=Date.now();if(ni&&e-oi<3e5)return ni;const{data:t,error:n}=await kr.from("global_prompts").select("*").eq("is_active",!0);if(n&&n.message.includes('relation "global_prompts" does not exist'))return ni=ti,oi=e,ni;if(n)return console.error("Erro ao buscar prompts globais:",n),ti;const o=l({},ti);return t&&Array.isArray(t)&&t.forEach(e=>{e.type&&e.content&&e.content!==ti[e.type]&&(o[e.type]=e.content)}),ni=o,oi=e,ni}catch(Ig){return console.error("Erro ao obter prompts globais:",Ig),ti}})(),a=ti[e],i=r[e];let s=a;if(i&&i!==a&&(s+="\n\n--- CONTEXTO ESPEC\xcdFICO DO DOM\xcdNIO ---\n".concat(i)),o){console.log('\ud83d\udd0d Buscando materiais de apoio do tipo "'.concat(e,'" para o projeto: ').concat(o));const t=await(async e=>{try{console.log("\ud83d\udd0d Buscando materiais de apoio do projeto:",e);let{data:t,error:n}=await Or(e);if(!t||0===t.length){console.log("\u26a0\ufe0f Nenhum material espec\xedfico encontrado, buscando materiais padr\xe3o...");const{data:e,error:n}=await kr.from("support_materials").select("*").eq("is_default",!0).order("created_at",{ascending:!1});!n&&e&&e.length>0&&(console.log("\u2705 Materiais padr\xe3o encontrados:",e.length),t=e)}if(n)return console.error("\u274c Erro ao buscar materiais de apoio:",n),{};const o={};return(t||[]).forEach(e=>{o[e.type]=e.content,console.log("\ud83d\udcc4 Material ".concat(e.type," encontrado:"),e.content.substring(0,100)+"..."),console.log("\ud83d\udcca Detalhes do material ".concat(e.type,":"),{id:e.id,name:e.name,type:e.type,is_default:e.is_default,content_length:e.content.length})}),console.log("\u2705 Materiais de apoio encontrados:",Object.keys(o)),console.log("\ud83d\udccb Resumo dos materiais por tipo:",Object.keys(o).map(e=>{var t;return{type:e,length:(null===(t=o[e])||void 0===t?void 0:t.length)||0}})),o}catch(Ig){return console.error("\u274c Erro ao buscar materiais de apoio:",Ig),{}}})(o),n=t[e];n?(s+="\n\n--- MATERIAL DE APOIO PERSONALIZADO (".concat(e.toUpperCase(),") ---\n").concat(n),console.log("\u2705 Material de apoio ".concat(e," adicionado ao prompt (").concat(n.length," caracteres)")),console.log("\ud83d\udccb Conte\xfado do material ".concat(e,":"),n.substring(0,150)+"...")):(console.log("\u26a0\ufe0f Nenhum material de apoio ".concat(e," encontrado para o projeto ").concat(o)),console.log("\ud83d\udcca Materiais dispon\xedveis:",Object.keys(t)))}else console.log("\u2139\ufe0f Sem projectId fornecido, usando apenas prompts padr\xe3o");return s+="\n\n--- CONTE\xdaDO DOS DOCUMENTOS ---\n".concat(t),n.trim()&&(s+="\n\n--- INFORMA\xc7\xd5ES ADICIONAIS ---\n".concat(n)),s},ai=async()=>{if(console.log("\ud83e\uddea Testando conex\xe3o com Gemini..."),!(Za?Za.startsWith("AIza")?(console.log("\u2705 API key do Gemini configurada corretamente"),1):(console.error('\u274c Formato da API key inv\xe1lido. As chaves do Google AI come\xe7am com "AIza"'),console.error("\ud83d\udd0d Sua chave atual:",Za.substring(0,10)+"..."),0):(console.error("\u274c API key do Gemini n\xe3o configurada"),console.error("\ud83d\udcdd Configure REACT_APP_GEMINI_API_KEY no arquivo .env"),console.error("\ud83d\udd11 Obtenha sua API key em: https://makersuite.google.com/app/apikey"),0)))return!1;try{if(!ei)return console.error("\u274c Falha ao inicializar servi\xe7o do Gemini"),!1;const e=ei.getGenerativeModel({model:"gemini-2.0-flash-exp"}),t='Responda apenas com "OK" se voc\xea recebeu esta mensagem.',n=await e.generateContent(t),o=(await n.response).text();return console.log("\u2705 Conex\xe3o com Gemini funcionando:",o.trim()),!0}catch(Ig){return console.error("\u274c Erro na conex\xe3o com Gemini:",Ig.message),!1}},ii=async(e,t,n,o)=>{try{if(!Za)throw new Error("API key do Gemini n\xe3o configurada. Configure REACT_APP_GEMINI_API_KEY no arquivo .env");if(!ei)throw new Error("Falha ao inicializar o servi\xe7o do Gemini. Verifique se a API key \xe9 v\xe1lida");const r=ei.getGenerativeModel({model:"gemini-2.0-flash-exp"});let a="";t.forEach((e,t)=>{a+="\n--- DOCUMENTO ".concat(t+1,": ").concat(e.name," ---\n"),a+=e.content,a+="\n"});const i=await ri(e,a,n,o),s=await r.generateContent(i),l=(await s.response).text();switch(e){case"pr":return l.trim();case"flowchart":case"tasks":try{let t="";const n=l.match(/```(?:json)?\s*(\{[\s\S]*?\})\s*```/);if(n)t=n[1];else{const e=l.match(/\{[\s\S]*\}/);e&&(t=e[0])}if(!t)throw console.error("\u274c Nenhum JSON encontrado na resposta:",l),new Error("Resposta da IA n\xe3o cont\xe9m JSON v\xe1lido");t=t.trim();try{return JSON.parse(t),console.log("\u2705 JSON ".concat(e," parseado com sucesso")),JSON.parse(t)}catch(c){throw console.error("\u274c JSON ".concat(e," inv\xe1lido:"),c),console.error("Texto que falhou:",t),new Error("JSON ".concat(e," inv\xe1lido: ").concat((null===c||void 0===c?void 0:c.message)||"Erro desconhecido"))}}catch(u){throw console.error("Erro ao processar resposta JSON:",u),console.error("Resposta completa da IA:",l),new Error("Erro na resposta da IA. Formato JSON inv\xe1lido: ".concat((null===u||void 0===u?void 0:u.message)||"Erro desconhecido"))}default:throw new Error("Tipo de conte\xfado n\xe3o suportado: ".concat(e))}}catch(Ig){var r,a,i,s,l;if(console.error("\u274c Erro ao gerar conte\xfado:",Ig),null!==(r=Ig.message)&&void 0!==r&&r.includes("API key"))throw new Error("API key do Gemini n\xe3o configurada. Configure REACT_APP_GEMINI_API_KEY no arquivo .env");if(null!==(a=Ig.message)&&void 0!==a&&a.includes("quota")||null!==(i=Ig.message)&&void 0!==i&&i.includes("limit"))throw new Error("Limite de uso da API do Gemini excedido. Tente novamente mais tarde");if(null!==(s=Ig.message)&&void 0!==s&&s.includes("network")||null!==(l=Ig.message)&&void 0!==l&&l.includes("fetch"))throw new Error("Erro de conex\xe3o. Verifique sua internet e tente novamente");throw new Error("Falha ao gerar conte\xfado: ".concat(Ig.message||"Erro desconhecido"))}},si=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o={success:!0,errors:[]};try{var r,a,i,s;if(!1!==n.savePR)try{const r=await li(e,t.pr,n.prTitle);var l;if(r.success)o.pr=r.data;else null===(l=o.errors)||void 0===l||l.push("Erro ao salvar PR: ".concat(r.error))}catch(Ig){var c;null===(c=o.errors)||void 0===c||c.push("Erro ao salvar PR: ".concat(Ig.message))}if(!1!==n.saveFlowchart)try{const r=await ci(e,t.flowchart,n.flowchartTitle);var u;if(r.success)o.flowchart=r.data;else null===(u=o.errors)||void 0===u||u.push("Erro ao salvar fluxograma: ".concat(r.error))}catch(Ig){var d;null===(d=o.errors)||void 0===d||d.push("Erro ao salvar fluxograma: ".concat(Ig.message))}if(!1!==n.saveTasks&&((null===(r=t.epics)||void 0===r?void 0:r.length)>0||(null===(a=t.tasks)||void 0===a?void 0:a.length)>0))try{const n=await ui(e,t.epics||[],t.tasks||[]);var p;if(n.success)o.epics=n.epics,o.tasks=n.tasks;else null===(p=o.errors)||void 0===p||p.push("Erro ao salvar tasks: ".concat(n.error))}catch(Ig){var h;null===(h=o.errors)||void 0===h||h.push("Erro ao salvar tasks: ".concat(Ig.message))}return o.success=0===(null!==(i=null===(s=o.errors)||void 0===s?void 0:s.length)&&void 0!==i?i:0),o}catch(Ig){var f;if(o.success=!1,o.errors)null===(f=o.errors)||void 0===f||f.push(Ig.message);else o.errors=[Ig.message];return o}},li=async(e,t,n)=>{try{const o={title:n||"Documento T\xe9cnico - ".concat((new Date).toLocaleDateString("pt-BR")),description:t.substring(0,200)+"...",content:t,status:"draft",project_id:e},{data:r,error:a}=await kr.from("pull_requests").insert(o).select().single();return a?{success:!1,error:a.message}:{success:!0,data:r}}catch(Ig){return{success:!1,error:Ig.message}}},ci=async(e,t,n)=>{try{const o=(e=>{try{if(!e||"object"!==typeof e)return console.error("Fluxograma n\xe3o \xe9 um objeto v\xe1lido"),null;let t=e.nodes,n=e.edges;Array.isArray(t)||(console.warn("Nodes n\xe3o \xe9 um array v\xe1lido, criando array vazio"),t=[]),Array.isArray(n)||(console.warn("Edges n\xe3o \xe9 um array v\xe1lido, criando array vazio"),n=[]);const o=t.map((e,t)=>e&&"object"===typeof e?{id:e.id||"node_".concat(t),type:["input","process","output","decision"].includes(e.type)?e.type:"process",label:e.label||"N\xf3 ".concat(t+1),position:e.position&&"number"===typeof e.position.x&&"number"===typeof e.position.y?{x:Math.round(e.position.x),y:Math.round(e.position.y)}:{x:100+200*t,y:100}}:(console.warn("N\xf3 ".concat(t," inv\xe1lido, pulando")),null)).filter(Boolean),r=new Set(o.map(e=>e.id)),a=n.map((e,t)=>e&&"object"===typeof e?r.has(e.source)&&r.has(e.target)?{id:e.id||"edge_".concat(t),source:e.source,target:e.target,label:e.label||void 0}:(console.warn("Edge ".concat(t," referencia n\xf3s inexistentes, pulando")),null):(console.warn("Edge ".concat(t," inv\xe1lido, pulando")),null)).filter(Boolean);return 0===o.length?(console.error("Fluxograma deve ter pelo menos um n\xf3"),null):(console.log("Fluxograma validado: ".concat(o.length," n\xf3s, ").concat(a.length," conex\xf5es")),{nodes:o,edges:a})}catch(i){return console.error("Erro ao validar fluxograma:",i),null}})(t);if(!o)return{success:!1,error:"Fluxograma inv\xe1lido ou vazio"};const r={title:n||"Fluxograma - ".concat((new Date).toLocaleDateString("pt-BR")),description:"Fluxograma gerado automaticamente com ".concat(o.nodes.length," n\xf3s e ").concat(o.edges.length," conex\xf5es"),nodes:o.nodes,edges:o.edges,project_id:e},{data:a,error:i}=await kr.from("flowcharts").insert(r).select().single();return i?{success:!1,error:i.message}:{success:!0,data:a}}catch(Ig){return{success:!1,error:Ig.message}}},ui=async(e,t,n)=>{try{const o=(e=>Array.isArray(e)?e.map((e,t)=>e&&"object"===typeof e?{title:e.title||"\xc9pico ".concat(t+1),description:e.description||"Sem descri\xe7\xe3o",priority:["low","medium","high"].includes(e.priority)?e.priority:"medium"}:(console.warn("\xc9pico ".concat(t," inv\xe1lido, criando \xe9pico padr\xe3o")),{title:"\xc9pico ".concat(t+1),description:"\xc9pico criado automaticamente",priority:"medium"})):(console.warn("\xc9picos n\xe3o \xe9 um array v\xe1lido"),[]))(t),r=((e,t)=>{if(!Array.isArray(e))return console.warn("Tasks n\xe3o \xe9 um array v\xe1lido"),[];const n=["frontend","backend","design","testing","devops","database","security","documentation","infrastructure","mobile","api"];return e.map((e,o)=>e&&"object"===typeof e?{title:e.title||"Task ".concat(o+1),description:e.description||"Sem descri\xe7\xe3o",story_points:[1,2,3,5,8,13].includes(e.story_points)?e.story_points:3,category:n.includes(e.category)?e.category:"frontend",epic_index:"number"===typeof e.epic_index&&e.epic_index>=0&&e.epic_index<t?e.epic_index:0,acceptance_criteria:Array.isArray(e.acceptance_criteria)?e.acceptance_criteria:[],priority:["low","medium","high"].includes(e.priority)?e.priority:"medium"}:(console.warn("Task ".concat(o," inv\xe1lida, pulando")),null)).filter(Boolean)})(n,o.length);console.log("Salvando ".concat(o.length," \xe9picos e ").concat(r.length," tasks"));const a=[],i=[];for(const t of o){const n={title:t.title,description:t.description,priority:t.priority,status:"pending",project_id:e},{data:o,error:r}=await kr.from("epics").insert(n).select().single();r?console.error("Erro ao salvar \xe9pico:",r):a.push(o)}for(const t of r){const n=a[t.epic_index],o={title:t.title,description:t.description,story_points:t.story_points,status:"pending",category:t.category,epic_id:null===n||void 0===n?void 0:n.id,project_id:e,criteria:t.acceptance_criteria},{data:r,error:s}=await kr.from("tasks").insert(o).select().single();s?console.error("Erro ao salvar task:",s):i.push(r)}return{success:!0,epics:a,tasks:i}}catch(Ig){return{success:!1,error:Ig.message}}};var di=n(173);function pi(e,t,n,o){return new(n||(n=Promise))(function(r,a){function i(e){try{l(o.next(e))}catch(Mg){a(Mg)}}function s(e){try{l(o.throw(e))}catch(Mg){a(Mg)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,s)}l((o=o.apply(e,t||[])).next())})}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const hi=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function fi(e,t,n){const o=function(e){const{name:t}=e;if(t&&-1!==t.lastIndexOf(".")&&!e.type){const n=t.split(".").pop().toLowerCase(),o=hi.get(n);o&&Object.defineProperty(e,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return e}(e),{webkitRelativePath:r}=e,a="string"===typeof t?t:"string"===typeof r&&r.length>0?r:"./".concat(e.name);return"string"!==typeof o.path&&mi(o,"path",a),void 0!==n&&Object.defineProperty(o,"handle",{value:n,writable:!1,configurable:!1,enumerable:!0}),mi(o,"relativePath",a),o}function mi(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const gi=[".DS_Store","Thumbs.db"];function vi(e){return"object"===typeof e&&null!==e}function yi(e){return e.filter(e=>-1===gi.indexOf(e.name))}function bi(e){if(null===e)return[];const t=[];for(let n=0;n<e.length;n++){const o=e[n];t.push(o)}return t}function xi(e){if("function"!==typeof e.webkitGetAsEntry)return ki(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?_i(t):ki(e,t)}function wi(e){return e.reduce((e,t)=>[...e,...Array.isArray(t)?wi(t):[t]],[])}function ki(e,t){return pi(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&"function"===typeof e.getAsFileSystemHandle){const t=yield e.getAsFileSystemHandle();if(null===t)throw new Error("".concat(e," is not a File"));if(void 0!==t){const e=yield t.getFile();return e.handle=t,fi(e)}}const o=e.getAsFile();if(!o)throw new Error("".concat(e," is not a File"));return fi(o,null!==(n=null===t||void 0===t?void 0:t.fullPath)&&void 0!==n?n:void 0)})}function Si(e){return pi(this,void 0,void 0,function*(){return e.isDirectory?_i(e):function(e){return pi(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(n=>{const o=fi(n,e.fullPath);t(o)},e=>{n(e)})})})}(e)})}function _i(e){const t=e.createReader();return new Promise((e,n)=>{const o=[];!function r(){t.readEntries(t=>pi(this,void 0,void 0,function*(){if(t.length){const e=Promise.all(t.map(Si));o.push(e),r()}else try{const t=yield Promise.all(o);e(t)}catch(a){n(a)}}),e=>{n(e)})}()})}var Ei=n(628);function ji(e){return function(e){if(Array.isArray(e))return Ai(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Oi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ni(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function Ci(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ni(Object(n),!0).forEach(function(t){Pi(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ni(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Pi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ti(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,r,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);i=!0);}catch(l){s=!0,r=l}finally{try{i||null==n.return||n.return()}finally{if(s)throw r}}return a}(e,t)||Oi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oi(e,t){if(e){if("string"===typeof e)return Ai(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ai(e,t):void 0}}function Ai(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var Ri="function"===typeof Ei?Ei:Ei.default,Mi="file-invalid-type",Ii="file-too-large",Di="file-too-small",zi="too-many-files",Li=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(","),t=e.length>1?"one of ".concat(e.join(", ")):e[0];return{code:Mi,message:"File type must be ".concat(t)}},Fi=function(e){return{code:Ii,message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},Ui=function(e){return{code:Di,message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},Bi={code:zi,message:"Too many files"};function qi(e,t){var n="application/x-moz-file"===e.type||Ri(e,t);return[n,n?null:Li(t)]}function Hi(e,t,n){if(Vi(e.size))if(Vi(t)&&Vi(n)){if(e.size>n)return[!1,Fi(n)];if(e.size<t)return[!1,Ui(t)]}else{if(Vi(t)&&e.size<t)return[!1,Ui(t)];if(Vi(n)&&e.size>n)return[!1,Fi(n)]}return[!0,null]}function Vi(e){return void 0!==e&&null!==e}function Wi(e){return"function"===typeof e.isPropagationStopped?e.isPropagationStopped():"undefined"!==typeof e.cancelBubble&&e.cancelBubble}function Ki(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(e){return"Files"===e||"application/x-moz-file"===e}):!!e.target&&!!e.target.files}function Gi(e){e.preventDefault()}function Yi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return t.some(function(t){return!Wi(e)&&t&&t.apply(void 0,[e].concat(o)),Wi(e)})}}function Xi(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||"application/*"===e||/\w+\/[-+.\w]+/g.test(e)}function $i(e){return/^.*\.[\w]+$/.test(e)}var Ji=["children"],Qi=["open"],Zi=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],es=["refKey","onChange","onClick"];function ts(e){return function(e){if(Array.isArray(e))return rs(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||os(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ns(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,r,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);i=!0);}catch(l){s=!0,r=l}finally{try{i||null==n.return||n.return()}finally{if(s)throw r}}return a}(e,t)||os(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function os(e,t){if(e){if("string"===typeof e)return rs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rs(e,t):void 0}}function rs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function as(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function is(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?as(Object(n),!0).forEach(function(t){ss(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):as(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ss(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ls(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var cs=(0,e.forwardRef)(function(t,n){var o=t.children,r=ps(ls(t,Ji)),a=r.open,i=ls(r,Qi);return(0,e.useImperativeHandle)(n,function(){return{open:a}},[a]),e.createElement(e.Fragment,null,o(is(is({},i),{},{open:a})))});cs.displayName="Dropzone";var us={disabled:!1,getFilesFromEvent:function(e){return pi(this,void 0,void 0,function*(){return vi(e)&&vi(e.dataTransfer)?function(e,t){return pi(this,void 0,void 0,function*(){if(e.items){const n=bi(e.items).filter(e=>"file"===e.kind);if("drop"!==t)return n;return yi(wi(yield Promise.all(n.map(xi))))}return yi(bi(e.files).map(e=>fi(e)))})}(e.dataTransfer,e.type):function(e){return vi(e)&&vi(e.target)}(e)?function(e){return bi(e.target.files).map(e=>fi(e))}(e):Array.isArray(e)&&e.every(e=>"getFile"in e&&"function"===typeof e.getFile)?function(e){return pi(this,void 0,void 0,function*(){return(yield Promise.all(e.map(e=>e.getFile()))).map(e=>fi(e))})}(e):[]})},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};cs.defaultProps=us,cs.propTypes={children:di.func,accept:di.objectOf(di.arrayOf(di.string)),multiple:di.bool,preventDropOnDocument:di.bool,noClick:di.bool,noKeyboard:di.bool,noDrag:di.bool,noDragEventsBubbling:di.bool,minSize:di.number,maxSize:di.number,maxFiles:di.number,disabled:di.bool,getFilesFromEvent:di.func,onFileDialogCancel:di.func,onFileDialogOpen:di.func,useFsAccessApi:di.bool,autoFocus:di.bool,onDragEnter:di.func,onDragLeave:di.func,onDragOver:di.func,onDrop:di.func,onDropAccepted:di.func,onDropRejected:di.func,onError:di.func,validator:di.func};var ds={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function ps(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=is(is({},us),t),o=n.accept,r=n.disabled,a=n.getFilesFromEvent,i=n.maxSize,s=n.minSize,l=n.multiple,c=n.maxFiles,u=n.onDragEnter,d=n.onDragLeave,p=n.onDragOver,h=n.onDrop,f=n.onDropAccepted,m=n.onDropRejected,g=n.onFileDialogCancel,v=n.onFileDialogOpen,y=n.useFsAccessApi,b=n.autoFocus,x=n.preventDropOnDocument,w=n.noClick,k=n.noKeyboard,S=n.noDrag,_=n.noDragEventsBubbling,E=n.onError,j=n.validator,N=(0,e.useMemo)(function(){return function(e){if(Vi(e))return Object.entries(e).reduce(function(e,t){var n=Ti(t,2),o=n[0],r=n[1];return[].concat(ji(e),[o],ji(r))},[]).filter(function(e){return Xi(e)||$i(e)}).join(",")}(o)},[o]),C=(0,e.useMemo)(function(){return function(e){return Vi(e)?[{description:"Files",accept:Object.entries(e).filter(function(e){var t=Ti(e,2),n=t[0],o=t[1],r=!0;return Xi(n)||(console.warn('Skipped "'.concat(n,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),r=!1),Array.isArray(o)&&o.every($i)||(console.warn('Skipped "'.concat(n,'" because an invalid file extension was provided.')),r=!1),r}).reduce(function(e,t){var n=Ti(t,2),o=n[0],r=n[1];return Ci(Ci({},e),{},Pi({},o,r))},{})}]:e}(o)},[o]),P=(0,e.useMemo)(function(){return"function"===typeof v?v:fs},[v]),T=(0,e.useMemo)(function(){return"function"===typeof g?g:fs},[g]),O=(0,e.useRef)(null),A=(0,e.useRef)(null),R=ns((0,e.useReducer)(hs,ds),2),M=R[0],I=R[1],D=M.isFocused,z=M.isFileDialogActive,L=(0,e.useRef)("undefined"!==typeof window&&window.isSecureContext&&y&&"showOpenFilePicker"in window),F=function(){!L.current&&z&&setTimeout(function(){A.current&&(A.current.files.length||(I({type:"closeDialog"}),T()))},300)};(0,e.useEffect)(function(){return window.addEventListener("focus",F,!1),function(){window.removeEventListener("focus",F,!1)}},[A,z,T,L]);var U=(0,e.useRef)([]),B=function(e){O.current&&O.current.contains(e.target)||(e.preventDefault(),U.current=[])};(0,e.useEffect)(function(){return x&&(document.addEventListener("dragover",Gi,!1),document.addEventListener("drop",B,!1)),function(){x&&(document.removeEventListener("dragover",Gi),document.removeEventListener("drop",B))}},[O,x]),(0,e.useEffect)(function(){return!r&&b&&O.current&&O.current.focus(),function(){}},[O,b,r]);var q=(0,e.useCallback)(function(e){E?E(e):console.error(e)},[E]),H=(0,e.useCallback)(function(e){e.preventDefault(),e.persist(),ne(e),U.current=[].concat(ts(U.current),[e.target]),Ki(e)&&Promise.resolve(a(e)).then(function(t){if(!Wi(e)||_){var n=t.length,o=n>0&&function(e){var t=e.files,n=e.accept,o=e.minSize,r=e.maxSize,a=e.multiple,i=e.maxFiles,s=e.validator;return!(!a&&t.length>1||a&&i>=1&&t.length>i)&&t.every(function(e){var t=Ti(qi(e,n),1)[0],a=Ti(Hi(e,o,r),1)[0],i=s?s(e):null;return t&&a&&!i})}({files:t,accept:N,minSize:s,maxSize:i,multiple:l,maxFiles:c,validator:j});I({isDragAccept:o,isDragReject:n>0&&!o,isDragActive:!0,type:"setDraggedFiles"}),u&&u(e)}}).catch(function(e){return q(e)})},[a,u,q,_,N,s,i,l,c,j]),V=(0,e.useCallback)(function(e){e.preventDefault(),e.persist(),ne(e);var t=Ki(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(n){}return t&&p&&p(e),!1},[p,_]),W=(0,e.useCallback)(function(e){e.preventDefault(),e.persist(),ne(e);var t=U.current.filter(function(e){return O.current&&O.current.contains(e)}),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),U.current=t,t.length>0||(I({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Ki(e)&&d&&d(e))},[O,d,_]),K=(0,e.useCallback)(function(e,t){var n=[],o=[];e.forEach(function(e){var t=ns(qi(e,N),2),r=t[0],a=t[1],l=ns(Hi(e,s,i),2),c=l[0],u=l[1],d=j?j(e):null;if(r&&c&&!d)n.push(e);else{var p=[a,u];d&&(p=p.concat(d)),o.push({file:e,errors:p.filter(function(e){return e})})}}),(!l&&n.length>1||l&&c>=1&&n.length>c)&&(n.forEach(function(e){o.push({file:e,errors:[Bi]})}),n.splice(0)),I({acceptedFiles:n,fileRejections:o,isDragReject:o.length>0,type:"setFiles"}),h&&h(n,o,t),o.length>0&&m&&m(o,t),n.length>0&&f&&f(n,t)},[I,l,N,s,i,c,h,f,m,j]),G=(0,e.useCallback)(function(e){e.preventDefault(),e.persist(),ne(e),U.current=[],Ki(e)&&Promise.resolve(a(e)).then(function(t){Wi(e)&&!_||K(t,e)}).catch(function(e){return q(e)}),I({type:"reset"})},[a,K,q,_]),Y=(0,e.useCallback)(function(){if(L.current){I({type:"openDialog"}),P();var e={multiple:l,types:C};window.showOpenFilePicker(e).then(function(e){return a(e)}).then(function(e){K(e,null),I({type:"closeDialog"})}).catch(function(e){var t;(t=e)instanceof DOMException&&("AbortError"===t.name||t.code===t.ABORT_ERR)?(T(e),I({type:"closeDialog"})):!function(e){return e instanceof DOMException&&("SecurityError"===e.name||e.code===e.SECURITY_ERR)}(e)?q(e):(L.current=!1,A.current?(A.current.value=null,A.current.click()):q(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided.")))})}else A.current&&(I({type:"openDialog"}),P(),A.current.value=null,A.current.click())},[I,P,T,y,K,q,C,l]),X=(0,e.useCallback)(function(e){O.current&&O.current.isEqualNode(e.target)&&(" "!==e.key&&"Enter"!==e.key&&32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),Y()))},[O,Y]),$=(0,e.useCallback)(function(){I({type:"focus"})},[]),J=(0,e.useCallback)(function(){I({type:"blur"})},[]),Q=(0,e.useCallback)(function(){w||(!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return function(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}(e)||function(e){return-1!==e.indexOf("Edge/")}(e)}()?Y():setTimeout(Y,0))},[w,Y]),Z=function(e){return r?null:e},ee=function(e){return k?null:Z(e)},te=function(e){return S?null:Z(e)},ne=function(e){_&&e.stopPropagation()},oe=(0,e.useMemo)(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,o=e.role,a=e.onKeyDown,i=e.onFocus,s=e.onBlur,l=e.onClick,c=e.onDragEnter,u=e.onDragOver,d=e.onDragLeave,p=e.onDrop,h=ls(e,Zi);return is(is(ss({onKeyDown:ee(Yi(a,X)),onFocus:ee(Yi(i,$)),onBlur:ee(Yi(s,J)),onClick:Z(Yi(l,Q)),onDragEnter:te(Yi(c,H)),onDragOver:te(Yi(u,V)),onDragLeave:te(Yi(d,W)),onDrop:te(Yi(p,G)),role:"string"===typeof o&&""!==o?o:"presentation"},n,O),r||k?{}:{tabIndex:0}),h)}},[O,X,$,J,Q,H,V,W,G,k,S,r]),re=(0,e.useCallback)(function(e){e.stopPropagation()},[]),ae=(0,e.useMemo)(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,o=e.onChange,r=e.onClick,a=ls(e,es);return is(is({},ss({accept:N,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Z(Yi(o,G)),onClick:Z(Yi(r,re)),tabIndex:-1},n,A)),a)}},[A,o,l,G,r]);return is(is({},M),{},{isFocused:D&&!r,getRootProps:oe,getInputProps:ae,rootRef:O,inputRef:A,open:Z(Y)})}function hs(e,t){switch(t.type){case"focus":return is(is({},e),{},{isFocused:!0});case"blur":return is(is({},e),{},{isFocused:!1});case"openDialog":return is(is({},ds),{},{isFileDialogActive:!0});case"closeDialog":return is(is({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return is(is({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return is(is({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return is({},ds);default:return e}}function fs(){}const ms=$r("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),gs=$r("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),vs=$r("file",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]),ys=$r("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),bs=$r("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),xs=e=>{switch(e){case"md":return(0,aa.jsx)(ms,{className:"w-6 h-6 text-blue-500"});case"video":return(0,aa.jsx)(gs,{className:"w-6 h-6 text-red-500"});default:return(0,aa.jsx)(vs,{className:"w-6 h-6 text-gray-500"})}},ws=e=>{var t;switch(null===(t=e.split(".").pop())||void 0===t?void 0:t.toLowerCase()){case"md":default:return"md";case"pdf":return"pdf";case"docx":return"docx";case"mp4":case"mov":case"avi":case"mkv":return"video"}},ks=t=>{let{onFileUpload:n,onRemoveFile:o,uploadedFiles:r}=t;const a=(0,e.useCallback)(async e=>{const t=[];for(const n of e)try{const e=await n.text(),o={id:"".concat(Date.now(),"-").concat(n.name),name:n.name,type:ws(n.name),content:e,url:n.type.startsWith("video/")?URL.createObjectURL(n):void 0};t.push(o)}catch(Ig){console.error("Erro ao processar arquivo:",Ig)}n(t)},[n]),{getRootProps:i,getInputProps:s,isDragActive:c}=ps({onDrop:a,accept:{"text/markdown":[".md"],"application/pdf":[".pdf"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"video/*":[".mp4",".mov",".avi",".mkv"]},maxFiles:10});return(0,aa.jsxs)("div",{className:"space-y-6",children:[(0,aa.jsxs)("div",l(l({},i()),{},{className:"border-2 border-dashed rounded-lg p-8 text-center transition-colors ".concat(c?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"),children:[(0,aa.jsx)("input",l({},s())),(0,aa.jsx)(ys,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,aa.jsx)("p",{className:"text-lg font-medium text-gray-700 mb-2",children:c?"Solte os arquivos aqui":"Arraste e solte arquivos aqui"}),(0,aa.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"ou clique para selecionar arquivos"}),(0,aa.jsx)("p",{className:"text-xs text-gray-400",children:"Suportados: MD, PDF, DOCX, V\xeddeos (MP4, MOV, AVI, MKV)"})]})),r.length>0&&(0,aa.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,aa.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Arquivos Carregados (",r.length,")"]}),(0,aa.jsx)("div",{className:"space-y-3",children:r.map(e=>(0,aa.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,aa.jsxs)("div",{className:"flex items-center space-x-3",children:[xs(e.type),(0,aa.jsxs)("div",{children:[(0,aa.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,aa.jsx)("p",{className:"text-xs text-gray-500 uppercase",children:e.type})]})]}),(0,aa.jsx)("button",{onClick:()=>o(e.id),className:"text-red-500 hover:text-red-700 p-1",children:(0,aa.jsx)(bs,{className:"w-4 h-4"})})]},e.id))})]})]})},Ss=$r("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),_s=$r("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),Es=$r("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),js=t=>{let{onStartSession:n,onCreateProject:o,onProjectCreated:r,currentSession:a,onUpdateSession:i,currentProject:s}=t;const[c,u]=(0,e.useState)("selection"),[d,p]=(0,e.useState)(""),[h,f]=(0,e.useState)([]),[m,g]=(0,e.useState)(""),[v,y]=(0,e.useState)(!1),[b,x]=(0,e.useState)(!1),[w,k]=(0,e.useState)(0),[S,_]=(0,e.useState)(null),[E,j]=(0,e.useState)([]),[N,C]=(0,e.useState)([]),[P,T]=(0,e.useState)([]),O=e=>{j(t=>[...t,...e])},A=e=>{j(t=>t.filter(t=>t.id!==e))},R=e=>{C(t=>[...t,...e])},M=e=>{C(t=>t.filter(t=>t.id!==e))},I=e=>{T(t=>[...t,...e])},D=e=>{T(t=>t.filter(t=>t.id!==e))},z=[{id:"pr",title:"PR - Resumo T\xe9cnico",description:"Crie um resumo t\xe9cnico detalhado do projeto",icon:(0,aa.jsx)(ms,{className:"w-6 h-6"}),completed:!1},{id:"flowchart",title:"Fluxograma",description:"Defina o fluxo de trabalho do projeto",icon:(0,aa.jsx)(Ss,{className:"w-6 h-6"}),completed:!1},{id:"tasks",title:"Tasks",description:"Liste todas as tarefas necess\xe1rias",icon:(0,aa.jsx)(_s,{className:"w-6 h-6"}),completed:!1}],L=e=>{f(t=>[...t,...e])},F=e=>{f(t=>t.filter(t=>t.id!==e))},U=async()=>{x(!0);try{await ai()?alert("\u2705 Conex\xe3o com Gemini funcionando perfeitamente!"):alert("\u274c Problema na conex\xe3o com Gemini. Verifique a API key.")}catch(Ig){alert("\u274c Erro ao testar conex\xe3o: "+Ig.message)}finally{x(!1)}},B=async()=>{d.trim()?(o(d,"briefy"===c?"briefy":"manual"),"briefy"===c?await q():u("manual")):alert("Por favor, digite um nome para o projeto")},q=async()=>{y(!0),_({current:"Iniciando processamento...",progress:0,total:3});try{_({current:"Gerando documento t\xe9cnico (PR)...",progress:1,total:3}),await new Promise(e=>setTimeout(e,500)),_({current:"Criando fluxograma...",progress:2,total:3}),await new Promise(e=>setTimeout(e,500)),_({current:"Gerando \xe9picos e tasks...",progress:3,total:3}),await new Promise(e=>setTimeout(e,500));const e={name:d,description:"Projeto criado via Briefy",user_id:"current-user"},{data:t,error:n}=await jr(e.name,e.description);if(n)throw console.error("Erro ao criar projeto:",n),new Error("Erro ao criar projeto: "+n.message);console.log("Projeto criado no banco:",t.id);const o=await(async(e,t,n)=>{console.log("\ud83d\ude80 Iniciando processamento de documentos..."),console.log("\ud83d\udcc4 Documentos recebidos:",e.length),console.log("\ud83d\udcdd Informa\xe7\xf5es adicionais:",t?"Sim":"N\xe3o");try{if(!Za)throw new Error("API key do Gemini n\xe3o configurada. Configure REACT_APP_GEMINI_API_KEY no arquivo .env");console.log("\u2705 API key configurada");let s="",l={nodes:[],edges:[]},c={epics:[],tasks:[]};try{console.log("\ud83d\udccb Gerando PR..."),s=await ii("pr",e,t,n),console.log("\u2705 PR gerado com sucesso:",s.length,"caracteres")}catch(Ig){console.error("\u274c Erro ao gerar PR:",Ig.message),s="Erro ao gerar PR: ".concat(Ig.message)}try{var o,r;console.log("\ud83d\udcca Gerando fluxograma..."),l=await ii("flowchart",e,t,n),console.log("\u2705 Fluxograma gerado:",(null===(o=l.nodes)||void 0===o?void 0:o.length)||0,"n\xf3s,",(null===(r=l.edges)||void 0===r?void 0:r.length)||0,"conex\xf5es")}catch(Ig){console.error("\u274c Erro ao gerar fluxograma:",Ig.message),l={nodes:[],edges:[]}}try{var a,i;console.log("\ud83d\udcdd Gerando tasks..."),c=await ii("tasks",e,t,n),console.log("\u2705 Tasks geradas:",(null===(a=c.tasks)||void 0===a?void 0:a.length)||0,"tasks,",(null===(i=c.epics)||void 0===i?void 0:i.length)||0,"\xe9picos")}catch(Ig){console.error("\u274c Erro ao gerar tasks:",Ig.message),c={epics:[],tasks:[]}}const u=[];c.tasks&&Array.isArray(c.tasks)&&c.tasks.forEach((e,t)=>{u.push({id:"task-".concat(t+1),title:e.title,description:e.description,storyPoints:e.story_points,status:"pending",category:e.category,criteria:e.acceptance_criteria||[]})});const d={title:e.length>0?e[0].name:"Projeto",description:s.substring(0,200)+"...",flowchart:l,tasks:u};return console.log("\ud83c\udf89 Processamento conclu\xeddo com sucesso!"),d}catch(Ig){console.error("\u274c Erro cr\xedtico ao processar documentos:",Ig);const n={title:e.length>0?e[0].name:"Projeto",description:"Erro ao processar documentos: "+Ig.message,flowchart:{nodes:[],edges:[]},tasks:[]};return console.log("\u26a0\ufe0f Retornando resultado fallback devido ao erro"),n}})(h,m,t.id);_({current:"Finalizando...",progress:3,total:3}),await new Promise(e=>setTimeout(e,1e3)),r(t,o)}catch(Ig){console.error("Erro ao processar documentos:",Ig),_(null),alert("Erro ao processar documentos. Tente novamente.")}finally{y(!1),_(null)}},H=e=>{switch(e){case"pr":return(0,aa.jsxs)("div",{className:"space-y-6",children:[(0,aa.jsxs)("div",{children:[(0,aa.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"PR - Resumo T\xe9cnico Detalhado"}),(0,aa.jsx)("p",{className:"text-gray-600 mb-4",children:"Descreva o resumo t\xe9cnico detalhado do seu projeto, incluindo objetivos, escopo, arquitetura e tecnologias. Voc\xea pode digitar diretamente ou fazer upload de documentos relacionados."})]}),(0,aa.jsxs)("div",{children:[(0,aa.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,aa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Documentos do PR"}),(0,aa.jsx)("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:"Opcional"})]}),(0,aa.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Fa\xe7a upload de documentos relacionados ao resumo t\xe9cnico (especifica\xe7\xf5es, documenta\xe7\xe3o, etc.)"}),(0,aa.jsx)(ks,{onFileUpload:O,onRemoveFile:A,uploadedFiles:E})]}),(0,aa.jsxs)("div",{children:[(0,aa.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,aa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Descri\xe7\xe3o do PR"}),(0,aa.jsx)("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:"Opcional"})]}),(0,aa.jsx)("textarea",{placeholder:"Digite aqui o resumo t\xe9cnico detalhado do projeto, ou deixe em branco se fez upload de documentos...",className:"w-full h-48 p-4 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500",onChange:e=>{z[0].data=l(l({},z[0].data),{},{pr:e.target.value,files:E})}})]})]});case"flowchart":return(0,aa.jsxs)("div",{className:"space-y-6",children:[(0,aa.jsxs)("div",{children:[(0,aa.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Fluxograma do Projeto"}),(0,aa.jsx)("p",{className:"text-gray-600 mb-4",children:"Defina o fluxo de trabalho do seu projeto. Voc\xea pode descrever em texto, fazer upload de documentos ou imagens relacionados."})]}),(0,aa.jsxs)("div",{children:[(0,aa.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,aa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Documentos do Fluxograma"}),(0,aa.jsx)("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:"Opcional"})]}),(0,aa.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Fa\xe7a upload de diagramas, imagens ou documentos relacionados ao fluxo do projeto"}),(0,aa.jsx)(ks,{onFileUpload:R,onRemoveFile:M,uploadedFiles:N})]}),(0,aa.jsxs)("div",{children:[(0,aa.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,aa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Descri\xe7\xe3o do Fluxograma"}),(0,aa.jsx)("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:"Opcional"})]}),(0,aa.jsx)("textarea",{placeholder:"Descreva o fluxograma do projeto, ou deixe em branco se fez upload de documentos/imagens...",className:"w-full h-32 p-4 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500",onChange:e=>{z[1].data=l(l({},z[1].data),{},{flowchart:e.target.value,files:N})}})]})]});case"tasks":return(0,aa.jsxs)("div",{className:"space-y-6",children:[(0,aa.jsxs)("div",{children:[(0,aa.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Lista de Tasks"}),(0,aa.jsx)("p",{className:"text-gray-600 mb-4",children:"Liste todas as tarefas necess\xe1rias para completar o projeto. Voc\xea pode listar em texto ou fazer upload de documentos relacionados \xe0s tarefas."})]}),(0,aa.jsxs)("div",{children:[(0,aa.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,aa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Documentos das Tasks"}),(0,aa.jsx)("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:"Opcional"})]}),(0,aa.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Fa\xe7a upload de planilhas, documentos ou listas de tarefas j\xe1 existentes"}),(0,aa.jsx)(ks,{onFileUpload:I,onRemoveFile:D,uploadedFiles:P})]}),(0,aa.jsxs)("div",{children:[(0,aa.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,aa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Lista de Tasks"}),(0,aa.jsx)("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:"Opcional"})]}),(0,aa.jsx)("textarea",{placeholder:"Liste aqui todas as tasks do projeto, uma por linha ou com descri\xe7\xf5es detalhadas, ou deixe em branco se fez upload de documentos...",className:"w-full h-48 p-4 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500",onChange:e=>{z[2].data=l(l({},z[2].data),{},{tasks:e.target.value,files:P})}})]})]});default:return null}};return(0,aa.jsxs)(aa.Fragment,{children:[S?(0,aa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,aa.jsx)("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md w-full mx-4",children:(0,aa.jsxs)("div",{className:"text-center",children:[(0,aa.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,aa.jsx)("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}),(0,aa.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Processando seu projeto"}),(0,aa.jsx)("p",{className:"text-gray-600 mb-6",children:S.current}),(0,aa.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:(0,aa.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(S.progress/S.total*100,"%")}})}),(0,aa.jsxs)("p",{className:"text-sm text-gray-500",children:[S.progress," de ",S.total," etapas"]})]})})}):null,"selection"===c?(0,aa.jsx)("div",{className:"flex items-center justify-center min-h-[400px] px-4 py-8",children:(0,aa.jsxs)("div",{className:"w-full max-w-5xl mx-auto",children:[(0,aa.jsxs)("div",{className:"text-center mb-12",children:[(0,aa.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Escolha seu Modo de Cria\xe7\xe3o"}),(0,aa.jsx)("p",{className:"text-lg text-gray-600",children:"Selecione como voc\xea deseja criar seu projeto"})]}),(0,aa.jsxs)("div",{className:"flex flex-col space-y-8 items-stretch",children:[(0,aa.jsxs)("div",{onClick:()=>u("briefy"),className:"border-2 border-blue-200 rounded-xl p-8 cursor-pointer hover:border-blue-400 hover:shadow-lg transition-all duration-300 bg-gradient-to-br from-blue-50 to-blue-100 flex flex-col justify-between min-h-[280px]",children:[(0,aa.jsxs)("div",{children:[(0,aa.jsxs)("div",{className:"flex items-center mb-6",children:[(0,aa.jsx)(Ss,{className:"w-8 h-8 text-blue-600 mr-3"}),(0,aa.jsx)("h3",{className:"text-2xl font-semibold text-blue-900",children:"Modo Briefy"})]}),(0,aa.jsx)("p",{className:"text-blue-700 mb-8 text-base leading-relaxed",children:"Fa\xe7a upload de documentos e deixe nossa IA gerar automaticamente o PR t\xe9cnico, fluxograma e tasks do seu projeto."})]}),(0,aa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,aa.jsxs)("div",{className:"flex items-center text-blue-600 font-medium",children:[(0,aa.jsx)(ys,{className:"w-5 h-5 mr-2"}),"Upload + IA Autom\xe1tica"]}),(0,aa.jsx)(Es,{className:"w-5 h-5 text-blue-600"})]})]}),(0,aa.jsxs)("div",{onClick:()=>u("manual"),className:"border-2 border-green-200 rounded-xl p-8 cursor-pointer hover:border-green-400 hover:shadow-lg transition-all duration-300 bg-gradient-to-br from-green-50 to-green-100 flex flex-col justify-between min-h-[280px]",children:[(0,aa.jsxs)("div",{children:[(0,aa.jsxs)("div",{className:"flex items-center mb-6",children:[(0,aa.jsx)(ms,{className:"w-8 h-8 text-green-600 mr-3"}),(0,aa.jsx)("h3",{className:"text-2xl font-semibold text-green-900",children:"Modo Manual"})]}),(0,aa.jsx)("p",{className:"text-green-700 mb-8 text-base leading-relaxed",children:"Crie seu projeto passo a passo, definindo cada etapa manualmente para ter total controle sobre o resultado."})]}),(0,aa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,aa.jsxs)("div",{className:"flex items-center text-green-600 font-medium",children:[(0,aa.jsx)(_s,{className:"w-5 h-5 mr-2"}),"Passo a Passo"]}),(0,aa.jsx)(Es,{className:"w-5 h-5 text-green-600"})]})]})]})]})}):"briefy"===c?(0,aa.jsxs)("div",{className:"max-w-full mx-auto",children:[(0,aa.jsxs)("div",{className:"text-center mb-8",children:[(0,aa.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Modo Briefy - Upload Inteligente"}),(0,aa.jsx)("p",{className:"text-lg text-gray-600",children:"Fa\xe7a upload dos seus documentos e nossa IA far\xe1 o resto"})]}),(0,aa.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-8",children:[(0,aa.jsxs)("div",{className:"mb-6",children:[(0,aa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Projeto"}),(0,aa.jsx)("input",{type:"text",value:d,onChange:e=>p(e.target.value),placeholder:"Digite o nome do seu projeto...",className:"w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),(0,aa.jsxs)("div",{className:"mb-4",children:[(0,aa.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,aa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Upload de Documentos"}),(0,aa.jsx)("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:"Opcional"})]}),(0,aa.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Fa\xe7a upload de documentos (PDF, DOC, TXT) para que a IA possa analis\xe1-los e gerar o projeto automaticamente."})]}),(0,aa.jsx)(ks,{onFileUpload:L,onRemoveFile:F,uploadedFiles:h}),(0,aa.jsxs)("div",{className:"mt-6",children:[(0,aa.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,aa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Informa\xe7\xf5es Adicionais"}),(0,aa.jsx)("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:"Opcional"})]}),(0,aa.jsx)("textarea",{value:m,onChange:e=>g(e.target.value),placeholder:"Digite aqui informa\xe7\xf5es adicionais sobre o projeto, contexto, requisitos espec\xedficos, etc. (Opcional se voc\xea fez upload de documentos)",className:"w-full h-32 p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),d.trim()&&0===h.length&&!m.trim()&&(0,aa.jsx)("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:(0,aa.jsxs)("p",{className:"text-sm text-yellow-700",children:[(0,aa.jsx)("strong",{children:"Para continuar, escolha uma das op\xe7\xf5es:"}),(0,aa.jsx)("br",{}),"\u2022 Fa\xe7a upload de pelo menos um documento, ou",(0,aa.jsx)("br",{}),'\u2022 Preencha o campo "Informa\xe7\xf5es Adicionais" com detalhes sobre seu projeto']})}),(0,aa.jsxs)("div",{className:"flex flex-col space-y-3 mt-8",children:[(0,aa.jsx)("button",{onClick:U,disabled:b,className:"px-8 py-3 rounded-md font-medium ".concat(b?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"),children:b?"Testando...":"\ud83e\uddea Testar Conex\xe3o com Gemini"}),(0,aa.jsx)("button",{onClick:B,disabled:v||!d.trim()||0===h.length&&!m.trim(),className:"px-8 py-3 rounded-md font-medium ".concat(v||!d.trim()||0===h.length&&!m.trim()?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:v?"Processando...":"Gerar Projeto com IA"}),(0,aa.jsx)("button",{onClick:()=>u("selection"),className:"px-6 py-3 text-gray-600 hover:text-gray-800 font-medium",children:"\u2190 Voltar"})]})]})]}):(0,aa.jsxs)("div",{className:"max-w-full mx-auto",children:[(0,aa.jsxs)("div",{className:"text-center mb-8",children:[(0,aa.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Modo Manual - Passo a Passo"}),(0,aa.jsx)("p",{className:"text-lg text-gray-600",children:"Crie seu projeto etapa por etapa com controle total"})]}),"manual"===c&&!s&&(0,aa.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-8",children:[(0,aa.jsxs)("div",{className:"mb-6",children:[(0,aa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Projeto"}),(0,aa.jsx)("input",{type:"text",value:d,onChange:e=>p(e.target.value),placeholder:"Digite o nome do seu projeto...",className:"w-full p-3 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500"})]}),(0,aa.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,aa.jsx)("button",{onClick:()=>{var e;d.trim()&&(e=d.trim(),o(e,"manual"))},disabled:!d.trim(),className:"px-8 py-3 rounded-md font-medium ".concat(d.trim()?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:"Criar Projeto e Iniciar"}),(0,aa.jsx)("button",{onClick:()=>u("selection"),className:"px-6 py-3 text-gray-600 hover:text-gray-800 font-medium",children:"\u2190 Voltar"})]})]}),s&&"manual"===c&&(0,aa.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-8",children:[(0,aa.jsxs)("div",{className:"mb-6",children:[(0,aa.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:["Projeto: ",s.name]}),(0,aa.jsx)("p",{className:"text-gray-600",children:"Siga os passos abaixo para criar seu projeto manualmente"})]}),(0,aa.jsx)("div",{className:"space-y-6",children:z.map((e,t)=>(0,aa.jsxs)("div",{className:"border-2 rounded-lg p-6 cursor-pointer transition-all ".concat(t===w?"border-green-400 bg-green-50":e.completed?"border-green-200 bg-green-50":"border-gray-200 hover:border-gray-300"),onClick:()=>k(t),children:[(0,aa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,aa.jsxs)("div",{className:"flex items-center",children:[(0,aa.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-4 ".concat(e.completed||t===w?"bg-green-500 text-white":"bg-gray-200 text-gray-600"),children:e.completed?"\u2713":t+1}),(0,aa.jsxs)("div",{children:[(0,aa.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.title}),(0,aa.jsx)("p",{className:"text-gray-600",children:e.description})]})]}),(0,aa.jsx)("div",{className:"text-gray-400",children:e.icon})]}),t===w&&(0,aa.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:H(e.id)})]},e.id))}),(0,aa.jsxs)("div",{className:"flex flex-col space-y-3 mt-8",children:[(0,aa.jsx)("button",{onClick:()=>{w<z.length-1&&k(w+1)},className:"px-6 py-3 bg-green-600 text-white rounded-md hover:bg-green-700",children:w===z.length-1?"Finalizar":"Pr\xf3ximo \u2192"}),w>0&&(0,aa.jsx)("button",{onClick:()=>k(w-1),className:"px-6 py-3 text-gray-600 hover:text-gray-800 font-medium",children:"\u2190 Anterior"}),(0,aa.jsx)("button",{onClick:()=>u("selection"),className:"px-6 py-3 text-gray-600 hover:text-gray-800 font-medium",children:"\u2190 Voltar \xe0 Sele\xe7\xe3o"})]})]})]})]})},Ns=e=>{let{user:t,currentProject:n,currentSession:o,onStartSession:r,onCreateProject:a,onProjectCreated:i,onUpdateSession:s,onCreateNewProject:l,onProjectSelected:c}=e;return(0,aa.jsx)("div",{className:"min-h-[calc(100vh-200px)] flex items-center justify-center px-4 py-8",children:(0,aa.jsx)("div",{className:"w-full max-w-7xl mx-auto",children:(0,aa.jsx)("div",{className:"grid xl:grid-cols-1 lg:grid-cols-1 gap-8 items-center justify-items-center",children:(0,aa.jsx)("div",{className:"xl:col-span-2 lg:col-span-1 w-full max-w-4xl",children:(0,aa.jsx)(js,{onStartSession:r,onCreateProject:a,onProjectCreated:i,currentSession:o||void 0,onUpdateSession:s,currentProject:n})})})})})},Cs=$r("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),Ps=$r("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ts=$r("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Os=$r("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),As=$r("git-branch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]),Rs=$r("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Ms=$r("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),Is=$r("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),Ds=t=>{let{onProjectSelected:n,onCreateNewProject:o,user:r,selectedProject:a,showContentSelection:i=!1}=t;const[s,c]=(0,e.useState)(i?"content-selection":"list"),[u,d]=(0,e.useState)(null),[p,h]=(0,e.useState)([]),[f,m]=(0,e.useState)(!1);console.log("ProjectList: Component rendered/re-rendered",{userId:null===r||void 0===r?void 0:r.id,userEmail:null===r||void 0===r?void 0:r.email,selectedProjectId:null===a||void 0===a?void 0:a.id,showContentSelection:i,existingProjectsLength:null===p||void 0===p?void 0:p.length,isLoading:f,view:s});const[g,v]=(0,e.useState)(null),[y,b]=(0,e.useState)(null),[x,w]=(0,e.useState)(!1),k=async()=>{console.log("ProjectList: createTestProject called");try{const e={name:"Projeto de Teste",description:"Projeto criado para testar a funcionalidade da lista"};console.log("ProjectList: creating test project with data:",e);const{data:t,error:n}=await jr(e.name,e.description);console.log("ProjectList: projects.create response:",{data:t,error:n}),n?(console.error("ProjectList: Erro ao criar projeto de teste:",n),v({type:"error",text:"Erro ao criar projeto de teste: "+n.message})):(console.log("ProjectList: Projeto de teste criado:",t),v({type:"success",text:"Projeto de teste criado com sucesso!"}),await P())}catch(Ig){console.error("ProjectList: Erro ao criar projeto de teste:",Ig),v({type:"error",text:"Erro ao criar projeto de teste: "+Ig.message})}},[S,_]=(0,e.useState)(!1),[E,j]=(0,e.useState)(""),[N,C]=(0,e.useState)(!1);(0,e.useEffect)(()=>{console.log("ProjectList: useEffect triggered with user:",null===r||void 0===r?void 0:r.id,null===r||void 0===r?void 0:r.email),P()},[null===r||void 0===r?void 0:r.id]),(0,e.useEffect)(()=>{console.log("ProjectList: showContentSelection useEffect triggered:",{showContentSelection:i,selectedProjectId:null===a||void 0===a?void 0:a.id,currentView:s}),c(i?"content-selection":"list"),i&&a&&d(a)},[i,null===a||void 0===a?void 0:a.id]);const P=e.useCallback(async()=>{console.log("ProjectList: loadProjects called"),m(!0);try{console.log("ProjectList: calling projects.list()");const{data:e,error:t}=await Nr();if(console.log("ProjectList: projects.list() response:",{data:e,error:t}),t)throw console.error("ProjectList: Error from projects.list():",t),t;const n=await Promise.all((e||[]).map(async e=>{try{const{data:t}=await Mr(e.id),n=t&&t.length>0,{data:o}=await Dr(e.id),r=o&&o.length>0,{data:a}=await Lr(e.id),i=a&&a.length>0;return l(l({},e),{},{hasPR:i,hasTasks:n,hasFlowchart:r})}catch(t){return console.error("Erro ao carregar dados do projeto ".concat(e.name,":"),t),l(l({},e),{},{hasPR:!0,hasTasks:!0,hasFlowchart:!0})}}));console.log("ProjectList: setting existingProjects:",n),h(n)}catch(Ig){console.error("ProjectList: Error in loadProjects:",Ig),v({type:"error",text:"Erro ao carregar projetos: "+Ig.message})}finally{m(!1)}},[]),T=e=>{const t=u||a;t&&n(t,e)},O=()=>{const e=u||a;e&&(j(e.name),_(!0))},A=()=>{_(!1),j("")},R=async()=>{const e=u||a;if(e&&E.trim()){C(!0);try{const{error:t}=await Cr(e.id,{name:E.trim()});if(t)throw t;u&&d(e=>e?l(l({},e),{},{name:E.trim()}):null),h(t=>t.map(t=>t.id===e.id?l(l({},t),{},{name:E.trim()}):t)),v({type:"success",text:"Nome do projeto atualizado com sucesso!"}),_(!1),j("")}catch(Ig){v({type:"error",text:"Erro ao atualizar nome do projeto: "+Ig.message})}finally{C(!1)}}};return"list"===s?(()=>(0,aa.jsxs)("div",{className:"max-w-full mx-auto",children:[(0,aa.jsxs)("div",{className:"text-center mb-8",children:[(0,aa.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,aa.jsx)(Cs,{className:"w-8 h-8 text-blue-600"})}),(0,aa.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Meus Projetos"}),(0,aa.jsx)("p",{className:"text-lg text-gray-600 mb-6",children:"Selecione um projeto para visualizar seu conte\xfado"})]}),g&&(0,aa.jsxs)("div",{className:"mb-6 p-4 rounded-lg flex items-center ".concat("success"===g.type?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"),children:["success"===g.type?(0,aa.jsx)(Jr,{className:"w-5 h-5 mr-3 flex-shrink-0"}):(0,aa.jsx)(Qr,{className:"w-5 h-5 mr-3 flex-shrink-0"}),g.text]}),(0,aa.jsxs)("div",{className:"grid lg:grid-cols-2 gap-8",children:[(0,aa.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,aa.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,aa.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Projetos Criados"}),(0,aa.jsxs)("button",{onClick:o,className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,aa.jsx)(Ps,{className:"w-4 h-4 mr-2"}),"Novo Projeto"]})]}),f?(0,aa.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,aa.jsx)(oa,{className:"w-6 h-6 animate-spin text-blue-600"}),(0,aa.jsx)("span",{className:"ml-2 text-gray-600",children:"Carregando projetos..."})]}):0===p.length?(0,aa.jsxs)("div",{className:"text-center py-8",children:[(0,aa.jsx)(Cs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,aa.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum projeto encontrado"}),(0,aa.jsx)("p",{className:"text-gray-600 mb-4",children:"Crie seu primeiro projeto para come\xe7ar"}),(0,aa.jsx)("button",{onClick:o,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Criar Primeiro Projeto"})]}):(0,aa.jsx)("div",{className:"space-y-4",children:p.map(e=>{return(0,aa.jsxs)("div",{onClick:()=>(e=>{d(e),c("content-selection")})(e),className:"border border-gray-200 rounded-lg p-4 cursor-pointer hover:border-blue-300 hover:bg-blue-50 transition-all",children:[(0,aa.jsxs)("div",{className:"flex items-start justify-between",children:[(0,aa.jsxs)("div",{className:"flex-1",children:[(0,aa.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,aa.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,aa.jsx)("button",{onClick:t=>{t.stopPropagation(),b(e.id)},className:"text-red-500 hover:text-red-700 p-1 rounded transition-colors",title:"Deletar projeto",children:(0,aa.jsx)(bs,{className:"w-4 h-4"})})]}),(0,aa.jsx)("p",{className:"text-gray-600 mb-3",children:e.description}),(0,aa.jsxs)("div",{className:"flex items-center text-sm text-gray-500 mb-3",children:[(0,aa.jsx)(Ts,{className:"w-4 h-4 mr-1"}),"Criado em ",(t=e.created_at,new Date(t).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}))]})]}),(0,aa.jsx)("div",{className:"ml-4",children:(0,aa.jsx)(Cs,{className:"w-8 h-8 text-blue-600"})})]}),(0,aa.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,aa.jsxs)("div",{className:"flex items-center ".concat(e.hasPR?"text-green-600":"text-gray-400"),children:[(0,aa.jsx)(ms,{className:"w-4 h-4 mr-1"}),"PR ",e.hasPR?"\u2713":"\u2717"]}),(0,aa.jsxs)("div",{className:"flex items-center ".concat(e.hasTasks?"text-green-600":"text-gray-400"),children:[(0,aa.jsx)(Os,{className:"w-4 h-4 mr-1"}),"Tasks ",e.hasTasks?"\u2713":"\u2717"]}),(0,aa.jsxs)("div",{className:"flex items-center ".concat(e.hasFlowchart?"text-green-600":"text-gray-400"),children:[(0,aa.jsx)(As,{className:"w-4 h-4 mr-1"}),"Fluxograma ",e.hasFlowchart?"\u2713":"\u2717"]})]})]},e.id);var t})})]}),(0,aa.jsxs)("div",{className:"space-y-6",children:[(0,aa.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,aa.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Resumo"}),(0,aa.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,aa.jsxs)("div",{className:"text-center",children:[(0,aa.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:p.length}),(0,aa.jsx)("div",{className:"text-sm text-gray-600",children:"Projetos"})]}),(0,aa.jsxs)("div",{className:"text-center",children:[(0,aa.jsx)("div",{className:"text-2xl font-bold text-green-600",children:p.filter(e=>e.hasPR&&e.hasTasks&&e.hasFlowchart).length}),(0,aa.jsx)("div",{className:"text-sm text-gray-600",children:"Completos"})]})]})]}),(0,aa.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,aa.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"A\xe7\xf5es R\xe1pidas"}),(0,aa.jsxs)("div",{className:"space-y-3",children:[(0,aa.jsxs)("button",{onClick:o,className:"w-full flex items-center justify-center px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,aa.jsx)(Ps,{className:"w-4 h-4 mr-2"}),"Criar Novo Projeto"]}),(0,aa.jsxs)("button",{onClick:P,className:"w-full flex items-center justify-center px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[(0,aa.jsx)(oa,{className:"w-4 h-4 mr-2"}),"Atualizar Lista"]}),(0,aa.jsxs)("button",{onClick:k,className:"w-full flex items-center justify-center px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[(0,aa.jsx)(Ps,{className:"w-4 h-4 mr-2"}),"Criar Projeto de Teste"]})]})]})]})]}),y&&(0,aa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,aa.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,aa.jsxs)("div",{className:"flex items-center mb-4",children:[(0,aa.jsx)(Qr,{className:"w-6 h-6 text-red-500 mr-3"}),(0,aa.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirmar Exclus\xe3o"})]}),(0,aa.jsx)("p",{className:"text-gray-600 mb-6",children:"Tem certeza que deseja deletar este projeto e todos os itens associados? Esta a\xe7\xe3o n\xe3o pode ser desfeita."}),(0,aa.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,aa.jsx)("button",{onClick:()=>b(null),className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium",disabled:x,children:"Cancelar"}),(0,aa.jsx)("button",{onClick:()=>{const e=p.find(e=>e.id===y);e&&(async(e,t)=>{w(!0);try{const{error:n}=await kr.from("tasks").delete().eq("project_id",e);n&&console.error("Erro ao deletar tasks:",n);const{error:o}=await kr.from("flowcharts").delete().eq("project_id",e);o&&console.error("Erro ao deletar flowcharts:",o);const{error:r}=await kr.from("pull_requests").delete().eq("project_id",e);r&&console.error("Erro ao deletar pull requests:",r);const{error:a}=await kr.from("support_materials").delete().eq("project_id",e);a&&console.error("Erro ao deletar materiais de apoio:",a);const{error:i}=await kr.from("video_extractions").delete().eq("project_id",e);i&&console.error("Erro ao deletar extra\xe7\xf5es de v\xeddeo:",i);const{error:s}=await kr.from("ai_analyses").delete().eq("project_id",e);s&&console.error("Erro ao deletar an\xe1lises IA:",s);const{error:l}=await kr.from("epics").delete().eq("project_id",e);l&&console.error("Erro ao deletar \xe9picos:",l);const{error:c}=await Pr(e);if(c)throw c;v({type:"success",text:'Projeto "'.concat(t,'" e todos os itens associados foram deletados com sucesso!')}),await P(),b(null)}catch(Ig){console.error("Erro ao deletar projeto:",Ig),v({type:"error",text:"Erro ao deletar projeto: ".concat(Ig.message)})}finally{w(!1)}})(e.id,e.name)},disabled:x,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50 flex items-center",children:x?(0,aa.jsxs)(aa.Fragment,{children:[(0,aa.jsx)(oa,{className:"w-4 h-4 mr-2 animate-spin"}),"Deletando..."]}):"Deletar Projeto"})]})]})})]}))():(()=>{const e=u||a||null;return e?(0,aa.jsxs)("div",{className:"max-w-full mx-auto",children:[(0,aa.jsxs)("div",{className:"mb-8",children:[(0,aa.jsxs)("button",{onClick:()=>{c("list"),d(null)},className:"flex items-center text-blue-600 hover:text-blue-800 mb-4",children:[(0,aa.jsx)(Rs,{className:"w-4 h-4 mr-2"}),"Voltar para Projetos"]}),(0,aa.jsxs)("div",{className:"text-center",children:[(0,aa.jsx)("div",{className:"flex items-center justify-center mb-2",children:S?(0,aa.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,aa.jsx)("input",{type:"text",value:E,onChange:e=>j(e.target.value),className:"text-3xl font-bold text-gray-900 bg-white border-2 border-blue-500 rounded px-2 py-1 focus:outline-none focus:border-blue-600",autoFocus:!0,onKeyDown:e=>{"Enter"===e.key?R():"Escape"===e.key&&A()}}),(0,aa.jsx)("button",{onClick:R,disabled:N||!E.trim(),className:"p-2 bg-green-500 text-white rounded hover:bg-green-600 disabled:opacity-50",children:N?(0,aa.jsx)(oa,{className:"w-4 h-4 animate-spin"}):(0,aa.jsx)(Ms,{className:"w-4 h-4"})}),(0,aa.jsx)("button",{onClick:A,className:"p-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:(0,aa.jsx)(bs,{className:"w-4 h-4"})})]}):(0,aa.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,aa.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:e.name}),(0,aa.jsx)("button",{onClick:O,className:"p-2 text-gray-400 hover:text-blue-600 transition-colors",title:"Editar nome do projeto",children:(0,aa.jsx)(Is,{className:"w-5 h-5"})})]})}),(0,aa.jsx)("p",{className:"text-lg text-gray-600",children:"Selecione o tipo de conte\xfado que deseja visualizar"})]})]}),(0,aa.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,aa.jsxs)("div",{onClick:()=>T("pr"),className:"bg-white rounded-lg shadow-lg p-6 cursor-pointer transition-all hover:shadow-xl ".concat(e.hasPR?"hover:border-blue-300 hover:bg-blue-50":"opacity-50 cursor-not-allowed"),children:[(0,aa.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,aa.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center ".concat(e.hasPR?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-400"),children:(0,aa.jsx)(ms,{className:"w-6 h-6"})})}),(0,aa.jsx)("h3",{className:"text-lg font-semibold text-gray-900 text-center mb-2",children:"Documento T\xe9cnico (PR)"}),(0,aa.jsx)("p",{className:"text-gray-600 text-center text-sm",children:e.hasPR?"Visualizar o resumo t\xe9cnico detalhado do projeto":"Documento t\xe9cnico n\xe3o dispon\xedvel"})]}),(0,aa.jsxs)("div",{onClick:()=>T("tasks"),className:"bg-white rounded-lg shadow-lg p-6 cursor-pointer transition-all hover:shadow-xl ".concat(e.hasTasks?"hover:border-green-300 hover:bg-green-50":"opacity-50 cursor-not-allowed"),children:[(0,aa.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,aa.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center ".concat(e.hasTasks?"bg-green-100 text-green-600":"bg-gray-100 text-gray-400"),children:(0,aa.jsx)(Os,{className:"w-6 h-6"})})}),(0,aa.jsx)("h3",{className:"text-lg font-semibold text-gray-900 text-center mb-2",children:"Tasks"}),(0,aa.jsx)("p",{className:"text-gray-600 text-center text-sm",children:e.hasTasks?"Gerenciar e visualizar as tarefas do projeto":"Tasks n\xe3o dispon\xedveis"})]}),(0,aa.jsxs)("div",{onClick:()=>T("flowchart"),className:"bg-white rounded-lg shadow-lg p-6 cursor-pointer transition-all hover:shadow-xl ".concat(e.hasFlowchart?"hover:border-purple-300 hover:bg-purple-50":"opacity-50 cursor-not-allowed"),children:[(0,aa.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,aa.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center ".concat(e.hasFlowchart?"bg-purple-100 text-purple-600":"bg-gray-100 text-gray-400"),children:(0,aa.jsx)(As,{className:"w-6 h-6"})})}),(0,aa.jsx)("h3",{className:"text-lg font-semibold text-gray-900 text-center mb-2",children:"Fluxograma"}),(0,aa.jsx)("p",{className:"text-gray-600 text-center text-sm",children:e.hasFlowchart?"Visualizar o fluxograma do projeto":"Fluxograma n\xe3o dispon\xedvel"})]})]})]}):null})()},zs=$r("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),Ls=$r("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Fs=t=>{let{project:n,prContent:o,onBack:r,onSave:a}=t;const[i,s]=(0,e.useState)(!1),[l,c]=(0,e.useState)(o||""),[u,d]=(0,e.useState)(null),[p,h]=(0,e.useState)(!0),[f,m]=(0,e.useState)(null),[g,v]=(0,e.useState)("edit"),y=e=>{const t=e.split("\n"),n=[];let o=0;for(let r=0;r<t.length;r++){const e=t[r];if(e.startsWith("# "))n.push((0,aa.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4 mt-6",children:e.substring(2)},o++));else if(e.startsWith("## "))n.push((0,aa.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-3 mt-5",children:e.substring(3)},o++));else if(e.startsWith("### "))n.push((0,aa.jsx)("h3",{className:"text-xl font-medium text-gray-800 mb-2 mt-4",children:e.substring(4)},o++));else if(e.startsWith("#### "))n.push((0,aa.jsx)("h4",{className:"text-lg font-medium text-gray-700 mb-2 mt-3",children:e.substring(5)},o++));else if(e.startsWith("##### "))n.push((0,aa.jsx)("h5",{className:"text-base font-medium text-gray-700 mb-1 mt-2",children:e.substring(6)},o++));else if(e.startsWith("###### "))n.push((0,aa.jsx)("h6",{className:"text-sm font-medium text-gray-600 mb-1 mt-2",children:e.substring(7)},o++));else if(e.startsWith("- ")||e.startsWith("* "))n.push((0,aa.jsx)("li",{className:"text-gray-700 mb-1",children:e.substring(2)},o++));else if(e.match(/^\d+\.\s/)){const t=e.match(/^\d+\.\s(.*)$/);n.push((0,aa.jsx)("li",{className:"text-gray-700 mb-1",children:t?t[1]:e},o++))}else if(e.includes("**")||e.includes("*")){let t=e;t=t.replace(/\*\*(.*?)\*\*/g,'<strong class="font-semibold">$1</strong>'),t=t.replace(/\*(.*?)\*/g,'<em class="italic">$1</em>'),n.push((0,aa.jsx)("div",{className:"text-gray-700 mb-2",dangerouslySetInnerHTML:{__html:t}},o++))}else{if(e.startsWith("```"))continue;e.trim()?n.push((0,aa.jsx)("p",{className:"text-gray-700 mb-2 leading-relaxed",children:e},o++)):n.push((0,aa.jsx)("br",{},o++))}}return(0,aa.jsx)("div",{className:"space-y-1",children:n})};(0,e.useEffect)(()=>{(async()=>{try{h(!0),m(null);const{data:e,error:t}=await Lr(n.id);if(t)console.error("Erro ao carregar documento t\xe9cnico do projeto:",t),m("Erro ao carregar documento t\xe9cnico do projeto: "+t.message);else{const t=e&&e.length>0?e[0]:null;d(t),t&&c(t.content||o||"")}}catch(e){console.error("Erro ao carregar documento t\xe9cnico do projeto:",e),m("Erro ao carregar documento t\xe9cnico do projeto: "+e.message)}finally{h(!1)}})()},[n.id,o]);const b="# Documento T\xe9cnico - ".concat(n.name,"\n\n## 1. Vis\xe3o Geral\n\nEste documento apresenta o resumo t\xe9cnico detalhado do projeto **").concat(n.name,"**.\n\n### 1.1 Objetivos\n- Descrever os objetivos principais do projeto\n- Definir o escopo de trabalho\n- Estabelecer crit\xe9rios de sucesso\n\n### 1.2 Contexto\n- Situa\xe7\xe3o atual\n- Problemas identificados\n- Oportunidades de melhoria\n\n## 2. Arquitetura Proposta\n\n### 2.1 Vis\xe3o Geral da Arquitetura\n- Diagramas de arquitetura\n- Padr\xf5es utilizados\n- Tecnologias selecionadas\n\n### 2.2 Componentes Principais\n- Frontend: React com TypeScript\n- Backend: Node.js/Express\n- Banco de Dados: PostgreSQL\n- Infraestrutura: AWS/Docker\n\n### 2.3 Integra\xe7\xf5es\n- APIs externas\n- Servi\xe7os de terceiros\n- Microsservi\xe7os\n\n## 3. Requisitos T\xe9cnicos\n\n### 3.1 Requisitos Funcionais\n1. RF001: O sistema deve permitir...\n2. RF002: O usu\xe1rio poder\xe1...\n\n### 3.2 Requisitos N\xe3o Funcionais\n- RNF001: Performance - tempo de resposta < 2s\n- RNF002: Seguran\xe7a - autentica\xe7\xe3o OAuth 2.0\n- RNF003: Disponibilidade - 99.9% uptime\n\n### 3.3 Regras de Neg\xf3cio\n- RN001: Valida\xe7\xf5es espec\xedficas\n- RN002: Fluxos de aprova\xe7\xe3o\n\n## 4. Estimativa de Esfor\xe7o\n\n### 4.1 Cronograma\n- Fase 1: Planejamento (2 semanas)\n- Fase 2: Desenvolvimento (8 semanas)\n- Fase 3: Testes (2 semanas)\n- Fase 4: Deploy (1 semana)\n\n### 4.2 Recursos Necess\xe1rios\n- Equipe de desenvolvimento: 4 desenvolvedores\n- Designer UI/UX: 1 profissional\n- QA Tester: 1 profissional\n- DevOps: 1 profissional\n\n### 4.3 Custos Estimados\n- Desenvolvimento: R$ XX.XXX\n- Infraestrutura: R$ X.XXX/m\xeas\n- Licen\xe7as: R$ X.XXX/ano\n\n## 5. Riscos Identificados\n\n### 5.1 Riscos T\xe9cnicos\n- Complexidade da integra\xe7\xe3o com sistemas legados\n- Curva de aprendizado de novas tecnologias\n\n### 5.2 Riscos de Neg\xf3cio\n- Mudan\xe7as nos requisitos durante o desenvolvimento\n- Depend\xeancia de equipes externas\n\n### 5.3 Plano de Mitiga\xe7\xe3o\n- Estrat\xe9gias para minimizar impactos\n- Planos de conting\xeancia\n\n## 6. Conclus\xe3o\n\nEste documento serve como base para o desenvolvimento do projeto ").concat(n.name,".\nTodas as decis\xf5es t\xe9cnicas e arquiteturais devem ser validadas com base nos\nrequisitos e objetivos aqui definidos.\n\n---\n\n**Data de Cria\xe7\xe3o:** ").concat((new Date).toLocaleDateString("pt-BR"),"\n**Vers\xe3o:** 1.0\n**Status:** Rascunho\n  "),x=(null===u||void 0===u?void 0:u.content)||o||b,w=async()=>{try{if(u){const{error:e}=await Fr(u.id,{content:l,title:"Documento T\xe9cnico - ".concat(n.name),description:"Documento t\xe9cnico detalhado do projeto ".concat(n.name)});if(e)return console.error("Erro ao atualizar documento t\xe9cnico:",e),void alert("Erro ao salvar documento t\xe9cnico: "+e.message)}else{const{error:e}=await zr({title:"Documento T\xe9cnico - ".concat(n.name),description:"Documento t\xe9cnico detalhado do projeto ".concat(n.name),content:l,status:"draft",project_id:n.id});if(e)return console.error("Erro ao criar documento t\xe9cnico:",e),void alert("Erro ao salvar documento t\xe9cnico: "+e.message)}a&&a(l),s(!1);const{data:e}=await Lr(n.id),t=e&&e.length>0?e[0]:null;d(t)}catch(e){console.error("Erro ao salvar documento t\xe9cnico:",e),alert("Erro ao salvar documento t\xe9cnico: "+e.message)}},k=()=>{c(x),s(!1)};return p?(0,aa.jsx)("div",{className:"max-w-full mx-auto",children:(0,aa.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,aa.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,aa.jsx)(oa,{className:"w-6 h-6 animate-spin text-blue-600"}),(0,aa.jsx)("span",{className:"text-gray-600",children:"Carregando documento t\xe9cnico do projeto..."})]})})}):f?(0,aa.jsxs)("div",{className:"max-w-full mx-auto",children:[(0,aa.jsx)("div",{className:"mb-6",children:(0,aa.jsxs)("button",{onClick:r,className:"flex items-center text-blue-600 hover:text-blue-800 mb-4",children:[(0,aa.jsx)(Rs,{className:"w-4 h-4 mr-2"}),"Voltar para Projetos"]})}),(0,aa.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:(0,aa.jsxs)("div",{className:"text-center",children:[(0,aa.jsx)("div",{className:"text-red-600 mb-2",children:"Erro ao carregar documento t\xe9cnico"}),(0,aa.jsx)("div",{className:"text-red-500 text-sm",children:f}),(0,aa.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Tentar Novamente"})]})})]}):(0,aa.jsxs)("div",{className:"max-w-full mx-auto",children:[(0,aa.jsxs)("div",{className:"mb-6",children:[(0,aa.jsxs)("button",{onClick:r,className:"flex items-center text-blue-600 hover:text-blue-800 mb-4",children:[(0,aa.jsx)(Rs,{className:"w-4 h-4 mr-2"}),"Voltar para Projetos"]}),(0,aa.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:(0,aa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,aa.jsxs)("div",{className:"flex items-center",children:[(0,aa.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-4",children:(0,aa.jsx)(ms,{className:"w-6 h-6 text-blue-600"})}),(0,aa.jsxs)("div",{children:[(0,aa.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:["Documento T\xe9cnico - ",n.name]}),(0,aa.jsx)("p",{className:"text-gray-600",children:"Resumo t\xe9cnico detalhado do projeto"})]})]}),(0,aa.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,aa.jsxs)("button",{onClick:()=>{const e=new Blob([x],{type:"text/markdown"}),t=URL.createObjectURL(e),o=document.createElement("a");o.href=t,o.download="PR-".concat(n.name.replace(/\s+/g,"_"),".md"),document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(t)},className:"flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[(0,aa.jsx)(zs,{className:"w-4 h-4 mr-2"}),"Download"]}),i?(0,aa.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,aa.jsxs)("button",{onClick:w,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[(0,aa.jsx)(Ms,{className:"w-4 h-4 mr-2"}),"Salvar"]}),(0,aa.jsxs)("button",{onClick:k,className:"flex items-center px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:[(0,aa.jsx)(bs,{className:"w-4 h-4 mr-2"}),"Cancelar"]})]}):(0,aa.jsxs)("button",{onClick:()=>s(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,aa.jsx)(Is,{className:"w-4 h-4 mr-2"}),"Editar"]})]})]})})]}),(0,aa.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:(0,aa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[(0,aa.jsxs)("div",{className:"flex items-center",children:[(0,aa.jsx)(Ls,{className:"w-4 h-4 mr-2"}),(0,aa.jsxs)("span",{children:["Projeto: ",n.name]})]}),(0,aa.jsxs)("div",{className:"flex items-center",children:[(0,aa.jsx)(Ts,{className:"w-4 h-4 mr-2"}),(0,aa.jsxs)("span",{children:["Criado: ",new Date(n.created_at).toLocaleDateString("pt-BR")]})]}),(0,aa.jsxs)("div",{className:"flex items-center",children:[(0,aa.jsx)(ms,{className:"w-4 h-4 mr-2"}),(0,aa.jsxs)("span",{children:["Status: ",u?"Personalizado":"Padr\xe3o"]})]})]})}),(0,aa.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:i?(0,aa.jsxs)("div",{children:[(0,aa.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,aa.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Editando Documento T\xe9cnico"}),(0,aa.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,aa.jsxs)("button",{onClick:()=>v("edit"),className:"px-3 py-1 rounded-md text-sm font-medium transition-colors ".concat("edit"===g?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:[(0,aa.jsx)(Is,{className:"w-4 h-4 inline mr-1"}),"Editar"]}),(0,aa.jsxs)("button",{onClick:()=>v("preview"),className:"px-3 py-1 rounded-md text-sm font-medium transition-colors ".concat("preview"===g?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:[(0,aa.jsx)(na,{className:"w-4 h-4 inline mr-1"}),"Preview"]}),(0,aa.jsxs)("button",{onClick:()=>v("split"),className:"px-3 py-1 rounded-md text-sm font-medium transition-colors ".concat("split"===g?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:[(0,aa.jsx)(ta,{className:"w-4 h-4 inline mr-1"}),"Dividido"]})]})]}),"edit"===g&&(0,aa.jsx)("textarea",{value:l,onChange:e=>c(e.target.value),className:"w-full h-[600px] p-4 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 font-mono text-sm resize-none",placeholder:"Digite o conte\xfado do documento t\xe9cnico em Markdown..."}),"preview"===g&&(0,aa.jsx)("div",{className:"border border-gray-300 rounded-md p-4 bg-gray-50 min-h-[600px] overflow-auto",children:(0,aa.jsx)("div",{className:"prose prose-lg max-w-none",children:y(l)})}),"split"===g&&(0,aa.jsxs)("div",{className:"grid grid-cols-2 gap-4 min-h-[600px]",children:[(0,aa.jsxs)("div",{children:[(0,aa.jsx)("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Editor"}),(0,aa.jsx)("textarea",{value:l,onChange:e=>c(e.target.value),className:"w-full h-[550px] p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 font-mono text-sm resize-none",placeholder:"Digite o conte\xfado do documento t\xe9cnico em Markdown..."})]}),(0,aa.jsxs)("div",{children:[(0,aa.jsx)("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Preview"}),(0,aa.jsx)("div",{className:"border border-gray-300 rounded-md p-3 bg-gray-50 h-[550px] overflow-auto",children:(0,aa.jsx)("div",{className:"prose prose-sm max-w-none",children:y(l)})})]})]}),(0,aa.jsxs)("div",{className:"mt-4 flex justify-end space-x-2",children:[(0,aa.jsx)("button",{onClick:k,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Cancelar"}),(0,aa.jsx)("button",{onClick:w,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Salvar"})]})]}):(0,aa.jsx)("div",{children:(0,aa.jsx)("div",{className:"prose prose-lg max-w-none",children:y(x)})})}),!i&&(0,aa.jsxs)("div",{className:"mt-6 flex justify-center space-x-4",children:[(0,aa.jsx)("button",{onClick:r,className:"px-6 py-3 text-gray-600 hover:text-gray-800 font-medium",children:"Voltar para Projetos"}),(0,aa.jsx)("button",{onClick:()=>s(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Editar Documento"})]})]})},Us=$r("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),Bs=$r("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),qs=$r("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Hs=t=>{let{tasks:n,onUpdateTasks:o}=t;const[r,a]=(0,e.useState)(null),[i,s]=(0,e.useState)(!1),c=e=>{if(!e)return void console.error("Tentativa de salvar task null");const t=n.map(t=>t.id===e.id?e:t);o(t),a(null)};return(0,aa.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,aa.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,aa.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:["Tasks do Projeto (",n.length,")"]}),(0,aa.jsxs)("button",{onClick:()=>s(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[(0,aa.jsx)(Ps,{className:"w-4 h-4 mr-2"}),"Adicionar Task"]})]}),i&&(0,aa.jsxs)("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[(0,aa.jsx)("p",{className:"text-sm text-blue-800 mb-3",children:"Clique no bot\xe3o abaixo para adicionar uma nova task:"}),(0,aa.jsx)("button",{onClick:()=>{const e={id:"task-".concat(Date.now()),title:"Nova Task",description:"Descri\xe7\xe3o da nova task",storyPoints:1,status:"pending",category:"Funcional"};o([...n,e]),s(!1),a(e)},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Confirmar Adi\xe7\xe3o"}),(0,aa.jsx)("button",{onClick:()=>s(!1),className:"ml-2 px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:"Cancelar"})]}),0===n.length?(0,aa.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,aa.jsx)("p",{children:"Nenhuma task gerada ainda."}),(0,aa.jsx)("p",{className:"text-sm mt-2",children:'Fa\xe7a upload de documentos e clique em "Gerar Escopo e Tasks" para criar as tasks.'})]}):(0,aa.jsx)("div",{className:"space-y-4",children:n.map(e=>(0,aa.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:(null===r||void 0===r?void 0:r.id)===e.id&&r?(0,aa.jsx)(Ws,{task:r,onSave:c,onCancel:()=>a(null)}):(0,aa.jsx)(Vs,{task:e,onEdit:()=>(e=>{a(e)})(e),onDelete:()=>(e=>{const t=n.filter(t=>t.id!==e);o(t)})(e.id),onStatusChange:t=>((e,t)=>{const r=n.map(n=>n.id===e?l(l({},n),{},{status:t}):n);o(r)})(e.id,t)})},e.id))})]})},Vs=e=>{let{task:t,onEdit:n,onDelete:o,onStatusChange:r}=e;return(0,aa.jsxs)("div",{children:[(0,aa.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,aa.jsxs)("div",{className:"flex-1",children:[(0,aa.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:t.title}),(0,aa.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:t.description})]}),(0,aa.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,aa.jsx)("button",{onClick:n,className:"p-1 text-blue-600 hover:text-blue-800",children:(0,aa.jsx)(Us,{className:"w-4 h-4"})}),(0,aa.jsx)("button",{onClick:o,className:"p-1 text-red-600 hover:text-red-800",children:(0,aa.jsx)(Bs,{className:"w-4 h-4"})})]})]}),(0,aa.jsxs)("div",{className:"flex justify-between items-center",children:[(0,aa.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,aa.jsxs)("span",{className:"text-sm text-gray-500",children:[t.storyPoints," ",1===t.storyPoints?"ponto":"pontos"]}),(0,aa.jsx)("span",{className:"text-sm text-gray-500",children:t.category})]}),(0,aa.jsx)("div",{className:"flex items-center space-x-2",children:(0,aa.jsxs)("select",{value:t.status,onChange:e=>r(e.target.value),className:"text-xs px-2 py-1 rounded-full border ".concat((e=>{switch(e){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}})(t.status)),children:[(0,aa.jsx)("option",{value:"pending",children:"Pendente"}),(0,aa.jsx)("option",{value:"approved",children:"Aprovada"}),(0,aa.jsx)("option",{value:"rejected",children:"Rejeitada"})]})})]})]})},Ws=t=>{let{task:n,onSave:o,onCancel:r}=t;const[a,i]=(0,e.useState)(n);return n?(0,aa.jsxs)("div",{className:"space-y-4",children:[(0,aa.jsxs)("div",{children:[(0,aa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\xedtulo"}),(0,aa.jsx)("input",{type:"text",value:a.title,onChange:e=>i(l(l({},a),{},{title:e.target.value})),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),(0,aa.jsxs)("div",{children:[(0,aa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descri\xe7\xe3o"}),(0,aa.jsx)("textarea",{value:a.description,onChange:e=>i(l(l({},a),{},{description:e.target.value})),rows:3,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),(0,aa.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,aa.jsxs)("div",{children:[(0,aa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Story Points"}),(0,aa.jsxs)("select",{value:a.storyPoints,onChange:e=>i(l(l({},a),{},{storyPoints:parseInt(e.target.value)})),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[(0,aa.jsx)("option",{value:1,children:"1 ponto"}),(0,aa.jsx)("option",{value:2,children:"2 pontos"}),(0,aa.jsx)("option",{value:3,children:"3 pontos"}),(0,aa.jsx)("option",{value:5,children:"5 pontos"}),(0,aa.jsx)("option",{value:8,children:"8 pontos"}),(0,aa.jsx)("option",{value:13,children:"13 pontos"})]})]}),(0,aa.jsxs)("div",{children:[(0,aa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),(0,aa.jsx)("input",{type:"text",value:a.category,onChange:e=>i(l(l({},a),{},{category:e.target.value})),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,aa.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,aa.jsxs)("button",{onClick:r,className:"flex items-center px-3 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:[(0,aa.jsx)(bs,{className:"w-4 h-4 mr-1"}),"Cancelar"]}),(0,aa.jsxs)("button",{onClick:()=>{o(a)},className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[(0,aa.jsx)(qs,{className:"w-4 h-4 mr-1"}),"Salvar"]})]})]}):(0,aa.jsx)("div",{className:"text-center py-4 text-red-600",children:"Erro: Task n\xe3o encontrada para edi\xe7\xe3o."})},Ks=t=>{let{project:n,tasks:o=[],onBack:r,onUpdateTasks:a}=t;console.log("ProjectTasks: Componente renderizado/re-renderizado",{projectId:null===n||void 0===n?void 0:n.id,projectName:null===n||void 0===n?void 0:n.name,tasksLength:null===o||void 0===o?void 0:o.length});const[i,s]=(0,e.useState)([]),[l,c]=(0,e.useState)(!0),[u,d]=(0,e.useState)(null);(0,e.useEffect)(()=>{(async()=>{try{c(!0),d(null),console.log("ProjectTasks: Carregando tasks do projeto:",n.id);const{data:e,error:t}=await Mr(n.id);console.log("ProjectTasks: Tasks carregadas:",(null===e||void 0===e?void 0:e.length)||0),t?(console.error("ProjectTasks: Erro ao carregar tasks do projeto:",t),d("Erro ao carregar tasks do projeto: "+t.message)):s(e||[])}catch(e){console.error("ProjectTasks: Erro ao carregar tasks do projeto:",e),d("Erro ao carregar tasks do projeto: "+e.message)}finally{c(!1)}})()},[n.id]);const p=[{id:"task-1",title:"Configurar ambiente de desenvolvimento",description:"Instalar depend\xeancias, configurar vari\xe1veis de ambiente e preparar a estrutura inicial do projeto",story_points:3,category:"setup",status:"pending"},{id:"task-2",title:"Implementar autentica\xe7\xe3o de usu\xe1rios",description:"Criar sistema de login, registro e gerenciamento de sess\xf5es",story_points:5,category:"backend",status:"pending"},{id:"task-3",title:"Desenvolver interface principal",description:"Criar layout responsivo e componentes principais da aplica\xe7\xe3o",story_points:8,category:"frontend",status:"pending"},{id:"task-4",title:"Implementar testes unit\xe1rios",description:"Criar suite de testes para componentes e fun\xe7\xf5es cr\xedticas",story_points:5,category:"testing",status:"pending"},{id:"task-5",title:"Configurar CI/CD",description:"Implementar pipeline de integra\xe7\xe3o e deploy cont\xednuo",story_points:3,category:"devops",status:"pending"}],h=e.useMemo(()=>i.length>0?i:p,[i,p]);console.log("ProjectTasks: Tasks que ser\xe3o usadas:",{projectTasksLength:i.length,defaultTasksLength:p.length,tasksToUseLength:h.length});const f=h,m=e.useCallback(async e=>{console.log("ProjectTasks: handleUpdateTasks chamado com",e.length,"tasks");try{for(const t of e)if(t.id.startsWith("task-")){const{error:e}=await Rr({title:t.title,description:t.description,story_points:t.story_points||t.storyPoints,status:t.status,category:t.category,project_id:n.id});e&&console.error("ProjectTasks: Erro ao criar task:",e)}else{const{error:e}=await Ir(t.id,{title:t.title,description:t.description,story_points:t.story_points||t.storyPoints,status:t.status,category:t.category});e&&console.error("ProjectTasks: Erro ao atualizar task:",e)}s(e),a&&a(e),console.log("ProjectTasks: Tasks atualizadas com sucesso")}catch(t){console.error("ProjectTasks: Erro ao salvar tasks:",t),d("Erro ao salvar tasks: "+t.message)}},[n.id,a]);return l?(0,aa.jsx)("div",{className:"max-w-full mx-auto",children:(0,aa.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,aa.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,aa.jsx)(oa,{className:"w-6 h-6 animate-spin text-blue-600"}),(0,aa.jsx)("span",{className:"text-gray-600",children:"Carregando tasks do projeto..."})]})})}):u?(0,aa.jsxs)("div",{className:"max-w-full mx-auto",children:[(0,aa.jsx)("div",{className:"mb-6",children:(0,aa.jsxs)("button",{onClick:r,className:"flex items-center text-blue-600 hover:text-blue-800 mb-4",children:[(0,aa.jsx)(Rs,{className:"w-4 h-4 mr-2"}),"Voltar para Projetos"]})}),(0,aa.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:(0,aa.jsxs)("div",{className:"text-center",children:[(0,aa.jsx)("div",{className:"text-red-600 mb-2",children:"Erro ao carregar tasks"}),(0,aa.jsx)("div",{className:"text-red-500 text-sm",children:u}),(0,aa.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Tentar Novamente"})]})})]}):(0,aa.jsxs)("div",{className:"max-w-full mx-auto",children:[(0,aa.jsxs)("div",{className:"mb-6",children:[(0,aa.jsxs)("button",{onClick:r,className:"flex items-center text-blue-600 hover:text-blue-800 mb-4",children:[(0,aa.jsx)(Rs,{className:"w-4 h-4 mr-2"}),"Voltar para Projetos"]}),(0,aa.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:(0,aa.jsxs)("div",{className:"flex items-center",children:[(0,aa.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mr-4",children:(0,aa.jsx)(Os,{className:"w-6 h-6 text-green-600"})}),(0,aa.jsxs)("div",{children:[(0,aa.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:["Tasks - ",n.name]}),(0,aa.jsx)("p",{className:"text-gray-600",children:"Gerencie as tarefas do seu projeto"})]})]})})]}),(0,aa.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[(0,aa.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Resumo das Tasks"}),(0,aa.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,aa.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,aa.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:f.length}),(0,aa.jsx)("div",{className:"text-sm text-blue-700",children:"Total"})]}),(0,aa.jsxs)("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[(0,aa.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:f.filter(e=>"in_progress"===e.status).length}),(0,aa.jsx)("div",{className:"text-sm text-yellow-700",children:"Em Progresso"})]}),(0,aa.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,aa.jsx)("div",{className:"text-2xl font-bold text-green-600",children:f.filter(e=>"completed"===e.status).length}),(0,aa.jsx)("div",{className:"text-sm text-green-700",children:"Conclu\xeddas"})]}),(0,aa.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,aa.jsx)("div",{className:"text-2xl font-bold text-gray-600",children:f.filter(e=>"pending"===e.status).length}),(0,aa.jsx)("div",{className:"text-sm text-gray-700",children:"Pendentes"})]})]})]}),(0,aa.jsx)(Hs,{tasks:f,onUpdateTasks:m})]})};function Gs(e){if("string"===typeof e||"number"===typeof e)return""+e;let t="";if(Array.isArray(e))for(let n,o=0;o<e.length;o++)""!==(n=Gs(e[o]))&&(t+=(t&&" ")+n);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var Ys=n(443);const Xs=e=>{let t;const n=new Set,o=(e,o)=>{const r="function"===typeof e?e(t):e;if(!Object.is(r,t)){const e=t;t=(null!=o?o:"object"!==typeof r||null===r)?r:Object.assign({},t,r),n.forEach(n=>n(t,e))}},r=()=>t,a={setState:o,getState:r,getInitialState:()=>i,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},i=t=e(o,r,a);return a},$s=e=>e?Xs(e):Xs;const{useDebugValue:Js}=e,{useSyncExternalStoreWithSelector:Qs}=Ys,Zs=e=>e;function el(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zs,n=arguments.length>2?arguments[2]:void 0;const o=Qs(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Js(o),o}const tl=(e,t)=>{const n=$s(e),o=function(e){return el(n,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:t)};return Object.assign(o,n),o};function nl(e,t){if(Object.is(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,o]of e)if(!Object.is(o,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const o of n)if(!Object.prototype.hasOwnProperty.call(t,o)||!Object.is(e[o],t[o]))return!1;return!0}var ol={value:()=>{}};function rl(){for(var e,t=0,n=arguments.length,o={};t<n;++t){if(!(e=arguments[t]+"")||e in o||/[\s.]/.test(e))throw new Error("illegal type: "+e);o[e]=[]}return new al(o)}function al(e){this._=e}function il(e,t){for(var n,o=0,r=e.length;o<r;++o)if((n=e[o]).name===t)return n.value}function sl(e,t,n){for(var o=0,r=e.length;o<r;++o)if(e[o].name===t){e[o]=ol,e=e.slice(0,o).concat(e.slice(o+1));break}return null!=n&&e.push({name:t,value:n}),e}al.prototype=rl.prototype={constructor:al,on:function(e,t){var n,o,r=this._,a=(o=r,(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!o.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}})),i=-1,s=a.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++i<s;)if(n=(e=a[i]).type)r[n]=sl(r[n],e.name,t);else if(null==t)for(n in r)r[n]=sl(r[n],e.name,null);return this}for(;++i<s;)if((n=(e=a[i]).type)&&(n=il(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new al(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,o,r=new Array(n),a=0;a<n;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,n=(o=this._[e]).length;a<n;++a)o[a].value.apply(t,r)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],r=0,a=o.length;r<a;++r)o[r].value.apply(t,n)}};const ll=rl;function cl(){}function ul(e){return null==e?cl:function(){return this.querySelector(e)}}function dl(){return[]}function pl(e){return null==e?dl:function(){return this.querySelectorAll(e)}}function hl(e){return function(){return null==(t=e.apply(this,arguments))?[]:Array.isArray(t)?t:Array.from(t);var t}}function fl(e){return function(){return this.matches(e)}}function ml(e){return function(t){return t.matches(e)}}var gl=Array.prototype.find;function vl(){return this.firstElementChild}var yl=Array.prototype.filter;function bl(){return Array.from(this.children)}function xl(e){return new Array(e.length)}function wl(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function kl(e,t,n,o,r,a){for(var i,s=0,l=t.length,c=a.length;s<c;++s)(i=t[s])?(i.__data__=a[s],o[s]=i):n[s]=new wl(e,a[s]);for(;s<l;++s)(i=t[s])&&(r[s]=i)}function Sl(e,t,n,o,r,a,i){var s,l,c,u=new Map,d=t.length,p=a.length,h=new Array(d);for(s=0;s<d;++s)(l=t[s])&&(h[s]=c=i.call(l,l.__data__,s,t)+"",u.has(c)?r[s]=l:u.set(c,l));for(s=0;s<p;++s)c=i.call(e,a[s],s,a)+"",(l=u.get(c))?(o[s]=l,l.__data__=a[s],u.delete(c)):n[s]=new wl(e,a[s]);for(s=0;s<d;++s)(l=t[s])&&u.get(h[s])===l&&(r[s]=l)}function _l(e){return e.__data__}function El(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function jl(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}wl.prototype={constructor:wl,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var Nl="http://www.w3.org/1999/xhtml";const Cl={svg:"http://www.w3.org/2000/svg",xhtml:Nl,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Pl(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Cl.hasOwnProperty(t)?{space:Cl[t],local:e}:e}function Tl(e){return function(){this.removeAttribute(e)}}function Ol(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Al(e,t){return function(){this.setAttribute(e,t)}}function Rl(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Ml(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Il(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Dl(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function zl(e){return function(){this.style.removeProperty(e)}}function Ll(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Fl(e,t,n){return function(){var o=t.apply(this,arguments);null==o?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function Ul(e,t){return e.style.getPropertyValue(t)||Dl(e).getComputedStyle(e,null).getPropertyValue(t)}function Bl(e){return function(){delete this[e]}}function ql(e,t){return function(){this[e]=t}}function Hl(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function Vl(e){return e.trim().split(/^|\s+/)}function Wl(e){return e.classList||new Kl(e)}function Kl(e){this._node=e,this._names=Vl(e.getAttribute("class")||"")}function Gl(e,t){for(var n=Wl(e),o=-1,r=t.length;++o<r;)n.add(t[o])}function Yl(e,t){for(var n=Wl(e),o=-1,r=t.length;++o<r;)n.remove(t[o])}function Xl(e){return function(){Gl(this,e)}}function $l(e){return function(){Yl(this,e)}}function Jl(e,t){return function(){(t.apply(this,arguments)?Gl:Yl)(this,e)}}function Ql(){this.textContent=""}function Zl(e){return function(){this.textContent=e}}function ec(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function tc(){this.innerHTML=""}function nc(e){return function(){this.innerHTML=e}}function oc(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function rc(){this.nextSibling&&this.parentNode.appendChild(this)}function ac(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ic(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Nl&&t.documentElement.namespaceURI===Nl?t.createElement(e):t.createElementNS(n,e)}}function sc(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function lc(e){var t=Pl(e);return(t.local?sc:ic)(t)}function cc(){return null}function uc(){var e=this.parentNode;e&&e.removeChild(this)}function dc(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function pc(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function hc(e){return function(){var t=this.__on;if(t){for(var n,o=0,r=-1,a=t.length;o<a;++o)n=t[o],e.type&&n.type!==e.type||n.name!==e.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?t.length=r:delete this.__on}}}function fc(e,t,n){return function(){var o,r=this.__on,a=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(r)for(var i=0,s=r.length;i<s;++i)if((o=r[i]).type===e.type&&o.name===e.name)return this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=n),void(o.value=t);this.addEventListener(e.type,a,n),o={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(o):this.__on=[o]}}function mc(e,t,n){var o=Dl(e),r=o.CustomEvent;"function"===typeof r?r=new r(t,n):(r=o.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function gc(e,t){return function(){return mc(this,e,t)}}function vc(e,t){return function(){return mc(this,e,t.apply(this,arguments))}}Kl.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var yc=[null];function bc(e,t){this._groups=e,this._parents=t}function xc(){return new bc([[document.documentElement]],yc)}bc.prototype=xc.prototype={constructor:bc,select:function(e){"function"!==typeof e&&(e=ul(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var a,i,s=t[r],l=s.length,c=o[r]=new Array(l),u=0;u<l;++u)(a=s[u])&&(i=e.call(a,a.__data__,u,s))&&("__data__"in a&&(i.__data__=a.__data__),c[u]=i);return new bc(o,this._parents)},selectAll:function(e){e="function"===typeof e?hl(e):pl(e);for(var t=this._groups,n=t.length,o=[],r=[],a=0;a<n;++a)for(var i,s=t[a],l=s.length,c=0;c<l;++c)(i=s[c])&&(o.push(e.call(i,i.__data__,c,s)),r.push(i));return new bc(o,r)},selectChild:function(e){return this.select(null==e?vl:function(e){return function(){return gl.call(this.children,e)}}("function"===typeof e?e:ml(e)))},selectChildren:function(e){return this.selectAll(null==e?bl:function(e){return function(){return yl.call(this.children,e)}}("function"===typeof e?e:ml(e)))},filter:function(e){"function"!==typeof e&&(e=fl(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var a,i=t[r],s=i.length,l=o[r]=[],c=0;c<s;++c)(a=i[c])&&e.call(a,a.__data__,c,i)&&l.push(a);return new bc(o,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,_l);var n,o=t?Sl:kl,r=this._parents,a=this._groups;"function"!==typeof e&&(n=e,e=function(){return n});for(var i=a.length,s=new Array(i),l=new Array(i),c=new Array(i),u=0;u<i;++u){var d=r[u],p=a[u],h=p.length,f=El(e.call(d,d&&d.__data__,u,r)),m=f.length,g=l[u]=new Array(m),v=s[u]=new Array(m);o(d,p,g,v,c[u]=new Array(h),f,t);for(var y,b,x=0,w=0;x<m;++x)if(y=g[x]){for(x>=w&&(w=x+1);!(b=v[w])&&++w<m;);y._next=b||null}}return(s=new bc(s,r))._enter=l,s._exit=c,s},enter:function(){return new bc(this._enter||this._groups.map(xl),this._parents)},exit:function(){return new bc(this._exit||this._groups.map(xl),this._parents)},join:function(e,t,n){var o=this.enter(),r=this,a=this.exit();return"function"===typeof e?(o=e(o))&&(o=o.selection()):o=o.append(e+""),null!=t&&(r=t(r))&&(r=r.selection()),null==n?a.remove():n(a),o&&r?o.merge(r).order():r},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,r=n.length,a=o.length,i=Math.min(r,a),s=new Array(r),l=0;l<i;++l)for(var c,u=n[l],d=o[l],p=u.length,h=s[l]=new Array(p),f=0;f<p;++f)(c=u[f]||d[f])&&(h[f]=c);for(;l<r;++l)s[l]=n[l];return new bc(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o,r=e[t],a=r.length-1,i=r[a];--a>=0;)(o=r[a])&&(i&&4^o.compareDocumentPosition(i)&&i.parentNode.insertBefore(o,i),i=o);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=jl);for(var n=this._groups,o=n.length,r=new Array(o),a=0;a<o;++a){for(var i,s=n[a],l=s.length,c=r[a]=new Array(l),u=0;u<l;++u)(i=s[u])&&(c[u]=i);c.sort(t)}return new bc(r,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,a=o.length;r<a;++r){var i=o[r];if(i)return i}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var r,a=t[n],i=0,s=a.length;i<s;++i)(r=a[i])&&e.call(r,r.__data__,i,a);return this},attr:function(e,t){var n=Pl(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((null==t?n.local?Ol:Tl:"function"===typeof t?n.local?Il:Ml:n.local?Rl:Al)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?zl:"function"===typeof t?Fl:Ll)(e,t,null==n?"":n)):Ul(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?Bl:"function"===typeof t?Hl:ql)(e,t)):this.node()[e]},classed:function(e,t){var n=Vl(e+"");if(arguments.length<2){for(var o=Wl(this.node()),r=-1,a=n.length;++r<a;)if(!o.contains(n[r]))return!1;return!0}return this.each(("function"===typeof t?Jl:t?Xl:$l)(n,t))},text:function(e){return arguments.length?this.each(null==e?Ql:("function"===typeof e?ec:Zl)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?tc:("function"===typeof e?oc:nc)(e)):this.node().innerHTML},raise:function(){return this.each(rc)},lower:function(){return this.each(ac)},append:function(e){var t="function"===typeof e?e:lc(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"===typeof e?e:lc(e),o=null==t?cc:"function"===typeof t?t:ul(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})},remove:function(){return this.each(uc)},clone:function(e){return this.select(e?pc:dc)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var o,r,a=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}(e+""),i=a.length;if(!(arguments.length<2)){for(s=t?fc:hc,o=0;o<i;++o)this.each(s(a[o],t,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(o=0,l=s[c];o<i;++o)if((r=a[o]).type===l.type&&r.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"===typeof t?vc:gc)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o,r=e[t],a=0,i=r.length;a<i;++a)(o=r[a])&&(yield o)}};const wc=xc;function kc(e){return"string"===typeof e?new bc([[document.querySelector(e)]],[document.documentElement]):new bc([[e]],yc)}const Sc={passive:!1},_c={capture:!0,passive:!1};function Ec(e){e.stopImmediatePropagation()}function jc(e){e.preventDefault(),e.stopImmediatePropagation()}function Nc(e){var t=e.document.documentElement,n=kc(e).on("dragstart.drag",jc,_c);"onselectstart"in t?n.on("selectstart.drag",jc,_c):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Cc(e,t){var n=e.document.documentElement,o=kc(e).on("dragstart.drag",null);t&&(o.on("click.drag",jc,_c),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Pc(e){return((e=Math.exp(e))+1/e)/2}const Tc=function e(t,n,o){function r(e,r){var a,i,s=e[0],l=e[1],c=e[2],u=r[0],d=r[1],p=r[2],h=u-s,f=d-l,m=h*h+f*f;if(m<1e-12)i=Math.log(p/c)/t,a=function(e){return[s+e*h,l+e*f,c*Math.exp(t*e*i)]};else{var g=Math.sqrt(m),v=(p*p-c*c+o*m)/(2*c*n*g),y=(p*p-c*c-o*m)/(2*p*n*g),b=Math.log(Math.sqrt(v*v+1)-v),x=Math.log(Math.sqrt(y*y+1)-y);i=(x-b)/t,a=function(e){var o,r=e*i,a=Pc(b),u=c/(n*g)*(a*(o=t*r+b,((o=Math.exp(2*o))-1)/(o+1))-function(e){return((e=Math.exp(e))-1/e)/2}(b));return[s+u*h,l+u*f,c*a/Pc(t*r+b)]}}return a.duration=1e3*i*t/Math.SQRT2,a}return r.rho=function(t){var n=Math.max(.001,+t),o=n*n;return e(n,o,o*o)},r}(Math.SQRT2,2,4);function Oc(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,[(o=o.matrixTransform(t.getScreenCTM().inverse())).x,o.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}var Ac,Rc,Mc=0,Ic=0,Dc=0,zc=0,Lc=0,Fc=0,Uc="object"===typeof performance&&performance.now?performance:Date,Bc="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function qc(){return Lc||(Bc(Hc),Lc=Uc.now()+Fc)}function Hc(){Lc=0}function Vc(){this._call=this._time=this._next=null}function Wc(e,t,n){var o=new Vc;return o.restart(e,t,n),o}function Kc(){Lc=(zc=Uc.now())+Fc,Mc=Ic=0;try{!function(){qc(),++Mc;for(var e,t=Ac;t;)(e=Lc-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Mc}()}finally{Mc=0,function(){var e,t,n=Ac,o=1/0;for(;n;)n._call?(o>n._time&&(o=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Ac=t);Rc=e,Yc(o)}(),Lc=0}}function Gc(){var e=Uc.now(),t=e-zc;t>1e3&&(Fc-=t,zc=e)}function Yc(e){Mc||(Ic&&(Ic=clearTimeout(Ic)),e-Lc>24?(e<1/0&&(Ic=setTimeout(Kc,e-Uc.now()-Fc)),Dc&&(Dc=clearInterval(Dc))):(Dc||(zc=Uc.now(),Dc=setInterval(Gc,1e3)),Mc=1,Bc(Kc)))}function Xc(e,t,n){var o=new Vc;return t=null==t?0:+t,o.restart(n=>{o.stop(),e(n+t)},t,n),o}Vc.prototype=Wc.prototype={constructor:Vc,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?qc():+n)+(null==t?0:+t),this._next||Rc===this||(Rc?Rc._next=this:Ac=this,Rc=this),this._call=e,this._time=n,Yc()},stop:function(){this._call&&(this._call=null,this._time=1/0,Yc())}};var $c=ll("start","end","cancel","interrupt"),Jc=[];function Qc(e,t,n,o,r,a){var i=e.__transition;if(i){if(n in i)return}else e.__transition={};!function(e,t,n){var o,r=e.__transition;function a(e){n.state=1,n.timer.restart(i,n.delay,n.time),n.delay<=e&&i(e-n.delay)}function i(a){var c,u,d,p;if(1!==n.state)return l();for(c in r)if((p=r[c]).name===n.name){if(3===p.state)return Xc(i);4===p.state?(p.state=6,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[c]):+c<t&&(p.state=6,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[c])}if(Xc(function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(a))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,o=new Array(d=n.tween.length),c=0,u=-1;c<d;++c)(p=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(o[++u]=p);o.length=u+1}}function s(t){for(var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=5,1),a=-1,i=o.length;++a<i;)o[a].call(e,r);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var o in n.state=6,n.timer.stop(),delete r[t],r)return;delete e.__transition}r[t]=n,n.timer=Wc(a,0,n.time)}(e,n,{name:t,index:o,group:r,on:$c,tween:Jc,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function Zc(e,t){var n=tu(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function eu(e,t){var n=tu(e,t);if(n.state>3)throw new Error("too late; already running");return n}function tu(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function nu(e,t){var n,o,r,a=e.__transition,i=!0;if(a){for(r in t=null==t?null:t+"",a)(n=a[r]).name===t?(o=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(o?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete a[r]):i=!1;i&&delete e.__transition}}function ou(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var ru,au=180/Math.PI,iu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function su(e,t,n,o,r,a){var i,s,l;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(l=e*n+t*o)&&(n-=e*l,o-=t*l),(s=Math.sqrt(n*n+o*o))&&(n/=s,o/=s,l/=s),e*o<t*n&&(e=-e,t=-t,l=-l,i=-i),{translateX:r,translateY:a,rotate:Math.atan2(t,e)*au,skewX:Math.atan(l)*au,scaleX:i,scaleY:s}}function lu(e,t,n,o){function r(e){return e.length?e.pop()+" ":""}return function(a,i){var s=[],l=[];return a=e(a),i=e(i),function(e,o,r,a,i,s){if(e!==r||o!==a){var l=i.push("translate(",null,t,null,n);s.push({i:l-4,x:ou(e,r)},{i:l-2,x:ou(o,a)})}else(r||a)&&i.push("translate("+r+t+a+n)}(a.translateX,a.translateY,i.translateX,i.translateY,s,l),function(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(r(n)+"rotate(",null,o)-2,x:ou(e,t)})):t&&n.push(r(n)+"rotate("+t+o)}(a.rotate,i.rotate,s,l),function(e,t,n,a){e!==t?a.push({i:n.push(r(n)+"skewX(",null,o)-2,x:ou(e,t)}):t&&n.push(r(n)+"skewX("+t+o)}(a.skewX,i.skewX,s,l),function(e,t,n,o,a,i){if(e!==n||t!==o){var s=a.push(r(a)+"scale(",null,",",null,")");i.push({i:s-4,x:ou(e,n)},{i:s-2,x:ou(t,o)})}else 1===n&&1===o||a.push(r(a)+"scale("+n+","+o+")")}(a.scaleX,a.scaleY,i.scaleX,i.scaleY,s,l),a=i=null,function(e){for(var t,n=-1,o=l.length;++n<o;)s[(t=l[n]).i]=t.x(e);return s.join("")}}}var cu=lu(function(e){const t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?iu:su(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),uu=lu(function(e){return null==e?iu:(ru||(ru=document.createElementNS("http://www.w3.org/2000/svg","g")),ru.setAttribute("transform",e),(e=ru.transform.baseVal.consolidate())?su((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):iu)},", ",")",")");function du(e,t){var n,o;return function(){var r=eu(this,e),a=r.tween;if(a!==n)for(var i=0,s=(o=n=a).length;i<s;++i)if(o[i].name===t){(o=o.slice()).splice(i,1);break}r.tween=o}}function pu(e,t,n){var o,r;if("function"!==typeof n)throw new Error;return function(){var a=eu(this,e),i=a.tween;if(i!==o){r=(o=i).slice();for(var s={name:t,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===t){r[l]=s;break}l===c&&r.push(s)}a.tween=r}}function hu(e,t,n){var o=e._id;return e.each(function(){var e=eu(this,o);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return tu(e,o).value[t]}}function fu(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function mu(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function gu(){}var vu=.7,yu=1/vu,bu="\\s*([+-]?\\d+)\\s*",xu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ku=/^#([0-9a-f]{3,8})$/,Su=new RegExp("^rgb\\(".concat(bu,",").concat(bu,",").concat(bu,"\\)$")),_u=new RegExp("^rgb\\(".concat(wu,",").concat(wu,",").concat(wu,"\\)$")),Eu=new RegExp("^rgba\\(".concat(bu,",").concat(bu,",").concat(bu,",").concat(xu,"\\)$")),ju=new RegExp("^rgba\\(".concat(wu,",").concat(wu,",").concat(wu,",").concat(xu,"\\)$")),Nu=new RegExp("^hsl\\(".concat(xu,",").concat(wu,",").concat(wu,"\\)$")),Cu=new RegExp("^hsla\\(".concat(xu,",").concat(wu,",").concat(wu,",").concat(xu,"\\)$")),Pu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Tu(){return this.rgb().formatHex()}function Ou(){return this.rgb().formatRgb()}function Au(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ku.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Ru(t):3===n?new Du(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Mu(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Mu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Su.exec(e))?new Du(t[1],t[2],t[3],1):(t=_u.exec(e))?new Du(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Eu.exec(e))?Mu(t[1],t[2],t[3],t[4]):(t=ju.exec(e))?Mu(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Nu.exec(e))?qu(t[1],t[2]/100,t[3]/100,1):(t=Cu.exec(e))?qu(t[1],t[2]/100,t[3]/100,t[4]):Pu.hasOwnProperty(e)?Ru(Pu[e]):"transparent"===e?new Du(NaN,NaN,NaN,0):null}function Ru(e){return new Du(e>>16&255,e>>8&255,255&e,1)}function Mu(e,t,n,o){return o<=0&&(e=t=n=NaN),new Du(e,t,n,o)}function Iu(e,t,n,o){return 1===arguments.length?((r=e)instanceof gu||(r=Au(r)),r?new Du((r=r.rgb()).r,r.g,r.b,r.opacity):new Du):new Du(e,t,n,null==o?1:o);var r}function Du(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}function zu(){return"#".concat(Bu(this.r)).concat(Bu(this.g)).concat(Bu(this.b))}function Lu(){const e=Fu(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(Uu(this.r),", ").concat(Uu(this.g),", ").concat(Uu(this.b)).concat(1===e?")":", ".concat(e,")"))}function Fu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Uu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Bu(e){return((e=Uu(e))<16?"0":"")+e.toString(16)}function qu(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Vu(e,t,n,o)}function Hu(e){if(e instanceof Vu)return new Vu(e.h,e.s,e.l,e.opacity);if(e instanceof gu||(e=Au(e)),!e)return new Vu;if(e instanceof Vu)return e;var t=(e=e.rgb()).r/255,n=e.g/255,o=e.b/255,r=Math.min(t,n,o),a=Math.max(t,n,o),i=NaN,s=a-r,l=(a+r)/2;return s?(i=t===a?(n-o)/s+6*(n<o):n===a?(o-t)/s+2:(t-n)/s+4,s/=l<.5?a+r:2-a-r,i*=60):s=l>0&&l<1?0:i,new Vu(i,s,l,e.opacity)}function Vu(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}function Wu(e){return(e=(e||0)%360)<0?e+360:e}function Ku(e){return Math.max(0,Math.min(1,e||0))}function Gu(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Yu(e,t,n,o,r){var a=e*e,i=a*e;return((1-3*e+3*a-i)*t+(4-6*a+3*i)*n+(1+3*e+3*a-3*i)*o+i*r)/6}fu(gu,Au,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Tu,formatHex:Tu,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Hu(this).formatHsl()},formatRgb:Ou,toString:Ou}),fu(Du,Iu,mu(gu,{brighter(e){return e=null==e?yu:Math.pow(yu,e),new Du(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?vu:Math.pow(vu,e),new Du(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Du(Uu(this.r),Uu(this.g),Uu(this.b),Fu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zu,formatHex:zu,formatHex8:function(){return"#".concat(Bu(this.r)).concat(Bu(this.g)).concat(Bu(this.b)).concat(Bu(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:Lu,toString:Lu})),fu(Vu,function(e,t,n,o){return 1===arguments.length?Hu(e):new Vu(e,t,n,null==o?1:o)},mu(gu,{brighter(e){return e=null==e?yu:Math.pow(yu,e),new Vu(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?vu:Math.pow(vu,e),new Vu(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,r=2*n-o;return new Du(Gu(e>=240?e-240:e+120,r,o),Gu(e,r,o),Gu(e<120?e+240:e-120,r,o),this.opacity)},clamp(){return new Vu(Wu(this.h),Ku(this.s),Ku(this.l),Fu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Fu(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(Wu(this.h),", ").concat(100*Ku(this.s),"%, ").concat(100*Ku(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const Xu=e=>()=>e;function $u(e,t){return function(n){return e+n*t}}function Ju(e){return 1===(e=+e)?Qu:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}(t,n,e):Xu(isNaN(t)?n:t)}}function Qu(e,t){var n=t-e;return n?$u(e,n):Xu(isNaN(e)?t:e)}const Zu=function e(t){var n=Ju(t);function o(e,t){var o=n((e=Iu(e)).r,(t=Iu(t)).r),r=n(e.g,t.g),a=n(e.b,t.b),i=Qu(e.opacity,t.opacity);return function(t){return e.r=o(t),e.g=r(t),e.b=a(t),e.opacity=i(t),e+""}}return o.gamma=e,o}(1);function ed(e){return function(t){var n,o,r=t.length,a=new Array(r),i=new Array(r),s=new Array(r);for(n=0;n<r;++n)o=Iu(t[n]),a[n]=o.r||0,i[n]=o.g||0,s[n]=o.b||0;return a=e(a),i=e(i),s=e(s),o.opacity=1,function(e){return o.r=a(e),o.g=i(e),o.b=s(e),o+""}}}ed(function(e){var t=e.length-1;return function(n){var o=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),r=e[o],a=e[o+1],i=o>0?e[o-1]:2*r-a,s=o<t-1?e[o+2]:2*a-r;return Yu((n-o/t)*t,i,r,a,s)}}),ed(function(e){var t=e.length;return function(n){var o=Math.floor(((n%=1)<0?++n:n)*t),r=e[(o+t-1)%t],a=e[o%t],i=e[(o+1)%t],s=e[(o+2)%t];return Yu((n-o/t)*t,r,a,i,s)}});var td=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nd=new RegExp(td.source,"g");function od(e,t){var n,o,r,a=td.lastIndex=nd.lastIndex=0,i=-1,s=[],l=[];for(e+="",t+="";(n=td.exec(e))&&(o=nd.exec(t));)(r=o.index)>a&&(r=t.slice(a,r),s[i]?s[i]+=r:s[++i]=r),(n=n[0])===(o=o[0])?s[i]?s[i]+=o:s[++i]=o:(s[++i]=null,l.push({i:i,x:ou(n,o)})),a=nd.lastIndex;return a<t.length&&(r=t.slice(a),s[i]?s[i]+=r:s[++i]=r),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,o=0;o<t;++o)s[(n=l[o]).i]=n.x(e);return s.join("")})}function rd(e,t){var n;return("number"===typeof t?ou:t instanceof Au?Zu:(n=Au(t))?(t=n,Zu):od)(e,t)}function ad(e){return function(){this.removeAttribute(e)}}function id(e){return function(){this.removeAttributeNS(e.space,e.local)}}function sd(e,t,n){var o,r,a=n+"";return function(){var i=this.getAttribute(e);return i===a?null:i===o?r:r=t(o=i,n)}}function ld(e,t,n){var o,r,a=n+"";return function(){var i=this.getAttributeNS(e.space,e.local);return i===a?null:i===o?r:r=t(o=i,n)}}function cd(e,t,n){var o,r,a;return function(){var i,s,l=n(this);if(null!=l)return(i=this.getAttribute(e))===(s=l+"")?null:i===o&&s===r?a:(r=s,a=t(o=i,l));this.removeAttribute(e)}}function ud(e,t,n){var o,r,a;return function(){var i,s,l=n(this);if(null!=l)return(i=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:i===o&&s===r?a:(r=s,a=t(o=i,l));this.removeAttributeNS(e.space,e.local)}}function dd(e,t){var n,o;function r(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,r)),n}return r._value=t,r}function pd(e,t){var n,o;function r(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,r)),n}return r._value=t,r}function hd(e,t){return function(){Zc(this,e).delay=+t.apply(this,arguments)}}function fd(e,t){return t=+t,function(){Zc(this,e).delay=t}}function md(e,t){return function(){eu(this,e).duration=+t.apply(this,arguments)}}function gd(e,t){return t=+t,function(){eu(this,e).duration=t}}var vd=wc.prototype.constructor;function yd(e){return function(){this.style.removeProperty(e)}}var bd=0;function xd(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function wd(){return++bd}var kd=wc.prototype;xd.prototype=function(e){return wc().transition(e)}.prototype={constructor:xd,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=ul(e));for(var o=this._groups,r=o.length,a=new Array(r),i=0;i<r;++i)for(var s,l,c=o[i],u=c.length,d=a[i]=new Array(u),p=0;p<u;++p)(s=c[p])&&(l=e.call(s,s.__data__,p,c))&&("__data__"in s&&(l.__data__=s.__data__),d[p]=l,Qc(d[p],t,n,p,d,tu(s,n)));return new xd(a,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=pl(e));for(var o=this._groups,r=o.length,a=[],i=[],s=0;s<r;++s)for(var l,c=o[s],u=c.length,d=0;d<u;++d)if(l=c[d]){for(var p,h=e.call(l,l.__data__,d,c),f=tu(l,n),m=0,g=h.length;m<g;++m)(p=h[m])&&Qc(p,t,n,m,h,f);a.push(h),i.push(l)}return new xd(a,i,t,n)},selectChild:kd.selectChild,selectChildren:kd.selectChildren,filter:function(e){"function"!==typeof e&&(e=fl(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var a,i=t[r],s=i.length,l=o[r]=[],c=0;c<s;++c)(a=i[c])&&e.call(a,a.__data__,c,i)&&l.push(a);return new xd(o,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,r=n.length,a=Math.min(o,r),i=new Array(o),s=0;s<a;++s)for(var l,c=t[s],u=n[s],d=c.length,p=i[s]=new Array(d),h=0;h<d;++h)(l=c[h]||u[h])&&(p[h]=l);for(;s<o;++s)i[s]=t[s];return new xd(i,this._parents,this._name,this._id)},selection:function(){return new vd(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=wd(),o=this._groups,r=o.length,a=0;a<r;++a)for(var i,s=o[a],l=s.length,c=0;c<l;++c)if(i=s[c]){var u=tu(i,t);Qc(i,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new xd(o,this._parents,e,n)},call:kd.call,nodes:kd.nodes,node:kd.node,size:kd.size,empty:kd.empty,each:kd.each,on:function(e,t){var n=this._id;return arguments.length<2?tu(this.node(),n).on.on(e):this.each(function(e,t,n){var o,r,a=function(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(t)?Zc:eu;return function(){var i=a(this,e),s=i.on;s!==o&&(r=(o=s).copy()).on(t,n),i.on=r}}(n,e,t))},attr:function(e,t){var n=Pl(e),o="transform"===n?uu:rd;return this.attrTween(e,"function"===typeof t?(n.local?ud:cd)(n,o,hu(this,"attr."+e,t)):null==t?(n.local?id:ad)(n):(n.local?ld:sd)(n,o,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var o=Pl(e);return this.tween(n,(o.local?dd:pd)(o,t))},style:function(e,t,n){var o="transform"===(e+="")?cu:rd;return null==t?this.styleTween(e,function(e,t){var n,o,r;return function(){var a=Ul(this,e),i=(this.style.removeProperty(e),Ul(this,e));return a===i?null:a===n&&i===o?r:r=t(n=a,o=i)}}(e,o)).on("end.style."+e,yd(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var o,r,a;return function(){var i=Ul(this,e),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(e),l=s=Ul(this,e)),i===l?null:i===o&&l===r?a:(r=l,a=t(o=i,s))}}(e,o,hu(this,"style."+e,t))).each(function(e,t){var n,o,r,a,i="style."+t,s="end."+i;return function(){var l=eu(this,e),c=l.on,u=null==l.value[i]?a||(a=yd(t)):void 0;c===n&&r===u||(o=(n=c).copy()).on(s,r=u),l.on=o}}(this._id,e)):this.styleTween(e,function(e,t,n){var o,r,a=n+"";return function(){var i=Ul(this,e);return i===a?null:i===o?r:r=t(o=i,n)}}(e,o,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(null==t)return this.tween(o,null);if("function"!==typeof t)throw new Error;return this.tween(o,function(e,t,n){var o,r;function a(){var a=t.apply(this,arguments);return a!==r&&(o=(r=a)&&function(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}(e,a,n)),o}return a._value=t,a}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(hu(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!==typeof e)throw new Error;return this.tween(t,function(e){var t,n;function o(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&function(e){return function(t){this.textContent=e.call(this,t)}}(o)),t}return o._value=e,o}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o,r=tu(this.node(),n).tween,a=0,i=r.length;a<i;++a)if((o=r[a]).name===e)return o.value;return null}return this.each((null==t?du:pu)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?hd:fd)(t,e)):tu(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?md:gd)(t,e)):tu(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!==typeof t)throw new Error;return function(){eu(this,e).ease=t}}(t,e)):tu(this.node(),t).ease},easeVarying:function(e){if("function"!==typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!==typeof n)throw new Error;eu(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,o=n._id,r=n.size();return new Promise(function(a,i){var s={value:i},l={value:function(){0===--r&&a()}};n.each(function(){var n=eu(this,o),r=n.on;r!==e&&((t=(e=r).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t}),0===r&&a()})},[Symbol.iterator]:kd[Symbol.iterator]};var Sd={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function _d(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return n}wc.prototype.interrupt=function(e){return this.each(function(){nu(this,e)})},wc.prototype.transition=function(e){var t,n;e instanceof xd?(t=e._id,e=e._name):(t=wd(),(n=Sd).time=qc(),e=null==e?null:e+"");for(var o=this._groups,r=o.length,a=0;a<r;++a)for(var i,s=o[a],l=s.length,c=0;c<l;++c)(i=s[c])&&Qc(i,e,t,c,s,n||_d(i,t));return new xd(o,this._parents,e,t)};const Ed=e=>()=>e;function jd(e,t){let{sourceEvent:n,target:o,transform:r,dispatch:a}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:a}})}function Nd(e,t,n){this.k=e,this.x=t,this.y=n}Nd.prototype={constructor:Nd,scale:function(e){return 1===e?this:new Nd(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Nd(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Cd=new Nd(1,0,0);function Pd(e){e.stopImmediatePropagation()}function Td(e){e.preventDefault(),e.stopImmediatePropagation()}function Od(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function Ad(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function Rd(){return this.__zoom||Cd}function Md(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Id(){return navigator.maxTouchPoints||"ontouchstart"in this}function Dd(e,t,n){var o=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(r>o?(o+r)/2:Math.min(0,o)||Math.max(0,r),i>a?(a+i)/2:Math.min(0,a)||Math.max(0,i))}function zd(){var e,t,n,o=Od,r=Ad,a=Dd,i=Md,s=Id,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,d=Tc,p=ll("start","zoom","end"),h=0,f=10;function m(e){e.property("__zoom",Rd).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",S).on("dblclick.zoom",_).filter(s).on("touchstart.zoom",E).on("touchmove.zoom",j).on("touchend.zoom touchcancel.zoom",N).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(e,t){return(t=Math.max(l[0],Math.min(l[1],t)))===e.k?e:new Nd(t,e.x,e.y)}function v(e,t,n){var o=t[0]-n[0]*e.k,r=t[1]-n[1]*e.k;return o===e.x&&r===e.y?e:new Nd(e.k,o,r)}function y(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function b(e,t,n,o){e.on("start.zoom",function(){x(this,arguments).event(o).start()}).on("interrupt.zoom end.zoom",function(){x(this,arguments).event(o).end()}).tween("zoom",function(){var e=this,a=arguments,i=x(e,a).event(o),s=r.apply(e,a),l=null==n?y(s):"function"===typeof n?n.apply(e,a):n,c=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),u=e.__zoom,p="function"===typeof t?t.apply(e,a):t,h=d(u.invert(l).concat(c/u.k),p.invert(l).concat(c/p.k));return function(e){if(1===e)e=p;else{var t=h(e),n=c/t[2];e=new Nd(n,l[0]-t[0]*n,l[1]-t[1]*n)}i.zoom(null,e)}})}function x(e,t,n){return!n&&e.__zooming||new w(e,t)}function w(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=r.apply(e,t),this.taps=0}function k(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(o.apply(this,arguments)){var s=x(this,n).event(e),u=this.__zoom,d=Math.max(l[0],Math.min(l[1],u.k*Math.pow(2,i.apply(this,arguments)))),p=Oc(e);if(s.wheel)s.mouse[0][0]===p[0]&&s.mouse[0][1]===p[1]||(s.mouse[1]=u.invert(s.mouse[0]=p)),clearTimeout(s.wheel);else{if(u.k===d)return;s.mouse=[p,u.invert(p)],nu(this),s.start()}Td(e),s.wheel=setTimeout(function(){s.wheel=null,s.end()},150),s.zoom("mouse",a(v(g(u,d),s.mouse[0],s.mouse[1]),s.extent,c))}}function S(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];if(!n&&o.apply(this,arguments)){var s=e.currentTarget,l=x(this,r,!0).event(e),u=kc(e.view).on("mousemove.zoom",function(e){if(Td(e),!l.moved){var t=e.clientX-p,n=e.clientY-f;l.moved=t*t+n*n>h}l.event(e).zoom("mouse",a(v(l.that.__zoom,l.mouse[0]=Oc(e,s),l.mouse[1]),l.extent,c))},!0).on("mouseup.zoom",function(e){u.on("mousemove.zoom mouseup.zoom",null),Cc(e.view,l.moved),Td(e),l.event(e).end()},!0),d=Oc(e,s),p=e.clientX,f=e.clientY;Nc(e.view),Pd(e),l.mouse=[d,this.__zoom.invert(d)],nu(this),l.start()}}function _(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(o.apply(this,arguments)){var s=this.__zoom,l=Oc(e.changedTouches?e.changedTouches[0]:e,this),d=s.invert(l),p=s.k*(e.shiftKey?.5:2),h=a(v(g(s,p),l,d),r.apply(this,n),c);Td(e),u>0?kc(this).transition().duration(u).call(b,h,l,e):kc(this).call(m.transform,h,l,e)}}function E(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];if(o.apply(this,arguments)){var s,l,c,u,d=n.touches,p=d.length,h=x(this,a,n.changedTouches.length===p).event(n);for(Pd(n),l=0;l<p;++l)u=[u=Oc(c=d[l],this),this.__zoom.invert(u),c.identifier],h.touch0?h.touch1||h.touch0[2]===u[2]||(h.touch1=u,h.taps=0):(h.touch0=u,s=!0,h.taps=1+!!e);e&&(e=clearTimeout(e)),s&&(h.taps<2&&(t=u[0],e=setTimeout(function(){e=null},500)),nu(this),h.start())}}function j(e){if(this.__zooming){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var r,i,s,l,u=x(this,n).event(e),d=e.changedTouches,p=d.length;for(Td(e),r=0;r<p;++r)s=Oc(i=d[r],this),u.touch0&&u.touch0[2]===i.identifier?u.touch0[0]=s:u.touch1&&u.touch1[2]===i.identifier&&(u.touch1[0]=s);if(i=u.that.__zoom,u.touch1){var h=u.touch0[0],f=u.touch0[1],m=u.touch1[0],y=u.touch1[1],b=(b=m[0]-h[0])*b+(b=m[1]-h[1])*b,w=(w=y[0]-f[0])*w+(w=y[1]-f[1])*w;i=g(i,Math.sqrt(b/w)),s=[(h[0]+m[0])/2,(h[1]+m[1])/2],l=[(f[0]+y[0])/2,(f[1]+y[1])/2]}else{if(!u.touch0)return;s=u.touch0[0],l=u.touch0[1]}u.zoom("touch",a(v(i,s,l),u.extent,c))}}function N(e){for(var o=arguments.length,r=new Array(o>1?o-1:0),a=1;a<o;a++)r[a-1]=arguments[a];if(this.__zooming){var i,s,l=x(this,r).event(e),c=e.changedTouches,u=c.length;for(Pd(e),n&&clearTimeout(n),n=setTimeout(function(){n=null},500),i=0;i<u;++i)s=c[i],l.touch0&&l.touch0[2]===s.identifier?delete l.touch0:l.touch1&&l.touch1[2]===s.identifier&&delete l.touch1;if(l.touch1&&!l.touch0&&(l.touch0=l.touch1,delete l.touch1),l.touch0)l.touch0[1]=this.__zoom.invert(l.touch0[0]);else if(l.end(),2===l.taps&&(s=Oc(s,this),Math.hypot(t[0]-s[0],t[1]-s[1])<f)){var d=kc(this).on("dblclick.zoom");d&&d.apply(this,arguments)}}}return m.transform=function(e,t,n,o){var r=e.selection?e.selection():e;r.property("__zoom",Rd),e!==r?b(e,t,n,o):r.interrupt().each(function(){x(this,arguments).event(o).start().zoom(null,"function"===typeof t?t.apply(this,arguments):t).end()})},m.scaleBy=function(e,t,n,o){m.scaleTo(e,function(){return this.__zoom.k*("function"===typeof t?t.apply(this,arguments):t)},n,o)},m.scaleTo=function(e,t,n,o){m.transform(e,function(){var e=r.apply(this,arguments),o=this.__zoom,i=null==n?y(e):"function"===typeof n?n.apply(this,arguments):n,s=o.invert(i),l="function"===typeof t?t.apply(this,arguments):t;return a(v(g(o,l),i,s),e,c)},n,o)},m.translateBy=function(e,t,n,o){m.transform(e,function(){return a(this.__zoom.translate("function"===typeof t?t.apply(this,arguments):t,"function"===typeof n?n.apply(this,arguments):n),r.apply(this,arguments),c)},null,o)},m.translateTo=function(e,t,n,o,i){m.transform(e,function(){var e=r.apply(this,arguments),i=this.__zoom,s=null==o?y(e):"function"===typeof o?o.apply(this,arguments):o;return a(Cd.translate(s[0],s[1]).scale(i.k).translate("function"===typeof t?-t.apply(this,arguments):-t,"function"===typeof n?-n.apply(this,arguments):-n),e,c)},o,i)},w.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=kc(this.that).datum();p.call(e,this.that,new jd(e,{sourceEvent:this.sourceEvent,target:m,type:e,transform:this.that.__zoom,dispatch:p}),t)}},m.wheelDelta=function(e){return arguments.length?(i="function"===typeof e?e:Ed(+e),m):i},m.filter=function(e){return arguments.length?(o="function"===typeof e?e:Ed(!!e),m):o},m.touchable=function(e){return arguments.length?(s="function"===typeof e?e:Ed(!!e),m):s},m.extent=function(e){return arguments.length?(r="function"===typeof e?e:Ed([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),m):r},m.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],m):[l[0],l[1]]},m.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],m):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},m.constrain=function(e){return arguments.length?(a=e,m):a},m.duration=function(e){return arguments.length?(u=+e,m):u},m.interpolate=function(e){return arguments.length?(d=e,m):d},m.on=function(){var e=p.on.apply(p,arguments);return e===p?m:e},m.clickDistance=function(e){return arguments.length?(h=(e=+e)*e,m):Math.sqrt(h)},m.tapDistance=function(e){return arguments.length?(f=+e,m):f},m}Nd.prototype;const Ld=e=>()=>e;function Fd(e,t){let{sourceEvent:n,subject:o,target:r,identifier:a,active:i,x:s,y:l,dx:c,dy:u,dispatch:d}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:o,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}function Ud(e){return!e.ctrlKey&&!e.button}function Bd(){return this.parentNode}function qd(e,t){return null==t?{x:e.x,y:e.y}:t}function Hd(){return navigator.maxTouchPoints||"ontouchstart"in this}Fd.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};n(950);const Vd=["position","children","className","style"],Wd=["x","y","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","children","className"],Kd=["type","position","isValidConnection","isConnectable","isConnectableStart","isConnectableEnd","id","onConnect","children","className","onMouseDown","onTouchStart"],Gd=["nodes","edges","defaultNodes","defaultEdges","className","nodeTypes","edgeTypes","onNodeClick","onEdgeClick","onInit","onMove","onMoveStart","onMoveEnd","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","onNodeDragStart","onNodeDrag","onNodeDragStop","onNodesDelete","onEdgesDelete","onSelectionChange","onSelectionDragStart","onSelectionDrag","onSelectionDragStop","onSelectionContextMenu","onSelectionStart","onSelectionEnd","connectionMode","connectionLineType","connectionLineStyle","connectionLineComponent","connectionLineContainerStyle","deleteKeyCode","selectionKeyCode","selectionOnDrag","selectionMode","panActivationKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","snapToGrid","snapGrid","onlyRenderVisibleElements","selectNodesOnDrag","nodesDraggable","nodesConnectable","nodesFocusable","nodeOrigin","edgesFocusable","edgesUpdatable","elementsSelectable","defaultViewport","minZoom","maxZoom","translateExtent","preventScrolling","nodeExtent","defaultMarkerColor","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","panOnDrag","onPaneClick","onPaneMouseEnter","onPaneMouseMove","onPaneMouseLeave","onPaneScroll","onPaneContextMenu","children","onEdgeContextMenu","onEdgeDoubleClick","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","onEdgeUpdate","onEdgeUpdateStart","onEdgeUpdateEnd","onReconnect","onReconnectStart","onReconnectEnd","reconnectRadius","edgeUpdaterRadius","onNodesChange","onEdgesChange","noDragClassName","noWheelClassName","noPanClassName","fitView","fitViewOptions","connectOnClick","attributionPosition","proOptions","defaultEdgeOptions","elevateNodesOnSelect","elevateEdgesOnSelect","disableKeyboardA11y","autoPanOnConnect","autoPanOnNodeDrag","connectionRadius","isValidConnection","onError","style","id","nodeDragThreshold"],Yd=(0,e.createContext)(null),Xd=Yd.Provider,$d=e=>'Node type "'.concat(e,'" not found. Using fallback type "default".'),Jd=()=>"The React Flow parent container needs a width and a height to render the graph.",Qd=()=>"Only child nodes can use a parent extent.",Zd=()=>"Can't create edge. An edge needs a source and a target.",ep=e=>'Marker type "'.concat(e,"\" doesn't exist."),tp=(e,t)=>"Couldn't create edge for ".concat(e?"target":"source",' handle id: "').concat(e?t.targetHandle:t.sourceHandle,'", edge id: ').concat(t.id,"."),np=()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",op=e=>'Edge type "'.concat(e,'" not found. Using fallback type "default".'),rp=e=>'Node with id "'.concat(e,'" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.'),ap=(()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001")();function ip(t,n){const o=(0,e.useContext)(Yd);if(null===o)throw new Error(ap);return el(o,t,n)}const sp=()=>{const t=(0,e.useContext)(Yd);if(null===t)throw new Error(ap);return(0,e.useMemo)(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy}),[t])},lp=e=>e.userSelectionActive?"none":"all";function cp(t){let{position:n,children:r,className:a,style:i}=t,s=o(t,Vd);const c=ip(lp),u="".concat(n).split("-");return e.createElement("div",l({className:Gs(["react-flow__panel",a,...u]),style:l(l({},i),{},{pointerEvents:c})},s),r)}function up(t){let{proOptions:n,position:o="bottom-right"}=t;return null!==n&&void 0!==n&&n.hideAttribution?null:e.createElement(cp,{position:o,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},e.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}var dp=(0,e.memo)(t=>{let{x:n,y:r,label:a,labelStyle:i={},labelShowBg:s=!0,labelBgStyle:c={},labelBgPadding:u=[2,4],labelBgBorderRadius:d=2,children:p,className:h}=t,f=o(t,Wd);const m=(0,e.useRef)(null),[g,v]=(0,e.useState)({x:0,y:0,width:0,height:0}),y=Gs(["react-flow__edge-textwrapper",h]);return(0,e.useEffect)(()=>{if(m.current){const e=m.current.getBBox();v({x:e.x,y:e.y,width:e.width,height:e.height})}},[a]),"undefined"!==typeof a&&a?e.createElement("g",l({transform:"translate(".concat(n-g.width/2," ").concat(r-g.height/2,")"),className:y,visibility:g.width?"visible":"hidden"},f),s&&e.createElement("rect",{width:g.width+2*u[0],x:-u[0],y:-u[1],height:g.height+2*u[1],className:"react-flow__edge-textbg",style:c,rx:d,ry:d}),e.createElement("text",{className:"react-flow__edge-text",y:g.height/2,dy:"0.3em",ref:m,style:i},a),p):null});const pp=e=>({width:e.offsetWidth,height:e.offsetHeight}),hp=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(e,t),n)},fp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=arguments.length>1?arguments[1]:void 0;return{x:hp(e.x,t[0][0],t[1][0]),y:hp(e.y,t[0][1],t[1][1])}},mp=(e,t,n)=>e<t?hp(Math.abs(e-t),1,50)/50:e>n?-hp(Math.abs(e-n),1,50)/50:0,gp=(e,t)=>[20*mp(e.x,35,t.width-35),20*mp(e.y,35,t.height-35)],vp=e=>{var t,n;return(null===(t=e.getRootNode)||void 0===t?void 0:t.call(e))||(null===(n=window)||void 0===n?void 0:n.document)},yp=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),bp=e=>{let{x:t,y:n,width:o,height:r}=e;return{x:t,y:n,x2:t+o,y2:n+r}},xp=e=>{let{x:t,y:n,x2:o,y2:r}=e;return{x:t,y:n,width:o-t,height:r-n}},wp=e=>l(l({},e.positionAbsolute||{x:0,y:0}),{},{width:e.width||0,height:e.height||0}),kp=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),o=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*o)},Sp=e=>!isNaN(e)&&isFinite(e),_p=Symbol.for("internals"),Ep=["Enter"," ","Escape"],jp=(e,t)=>{0};function Np(e){var t;const n=(e=>"nativeEvent"in e)(e)?e.nativeEvent:e,o=(null===(t=n.composedPath)||void 0===t||null===(t=t.call(n))||void 0===t?void 0:t[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(null===o||void 0===o?void 0:o.nodeName)||(null===o||void 0===o?void 0:o.hasAttribute("contenteditable"))||!(null===o||void 0===o||!o.closest(".nokey"))}const Cp=e=>"clientX"in e,Pp=(e,t)=>{var n,o,r,a;const i=Cp(e),s=i?e.clientX:null===(n=e.touches)||void 0===n?void 0:n[0].clientX,l=i?e.clientY:null===(o=e.touches)||void 0===o?void 0:o[0].clientY;return{x:s-(null!==(r=null===t||void 0===t?void 0:t.left)&&void 0!==r?r:0),y:l-(null!==(a=null===t||void 0===t?void 0:t.top)&&void 0!==a?a:0)}},Tp=()=>{var e;return"undefined"!==typeof navigator&&(null===(e=navigator)||void 0===e||null===(e=e.userAgent)||void 0===e?void 0:e.indexOf("Mac"))>=0},Op=t=>{let{id:n,path:o,labelX:r,labelY:a,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:p,markerEnd:h,markerStart:f,interactionWidth:m=20}=t;return e.createElement(e.Fragment,null,e.createElement("path",{id:n,style:p,d:o,fill:"none",className:"react-flow__edge-path",markerEnd:h,markerStart:f}),m&&e.createElement("path",{d:o,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),i&&Sp(r)&&Sp(a)?e.createElement(dp,{x:r,y:a,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d}):null)};Op.displayName="BaseEdge";function Ap(e,t,n){return void 0===n?n:o=>{const r=t().edges.find(t=>t.id===e);r&&n(o,l({},r))}}function Rp(e){let{sourceX:t,sourceY:n,targetX:o,targetY:r}=e;const a=Math.abs(o-t)/2,i=o<t?o+a:o-a,s=Math.abs(r-n)/2;return[i,r<n?r+s:r-s,a,s]}function Mp(e){let{sourceX:t,sourceY:n,targetX:o,targetY:r,sourceControlX:a,sourceControlY:i,targetControlX:s,targetControlY:l}=e;const c=.125*t+.375*a+.375*s+.125*o,u=.125*n+.375*i+.375*l+.125*r;return[c,u,Math.abs(c-t),Math.abs(u-n)]}var Ip,Dp,zp,Lp,Fp,Up;function Bp(e){let{pos:t,x1:n,y1:o,x2:r,y2:a}=e;return t===Up.Left||t===Up.Right?[.5*(n+r),o]:[n,.5*(o+a)]}function qp(e){let{sourceX:t,sourceY:n,sourcePosition:o=Up.Bottom,targetX:r,targetY:a,targetPosition:i=Up.Top}=e;const[s,l]=Bp({pos:o,x1:t,y1:n,x2:r,y2:a}),[c,u]=Bp({pos:i,x1:r,y1:a,x2:t,y2:n}),[d,p,h,f]=Mp({sourceX:t,sourceY:n,targetX:r,targetY:a,sourceControlX:s,sourceControlY:l,targetControlX:c,targetControlY:u});return["M".concat(t,",").concat(n," C").concat(s,",").concat(l," ").concat(c,",").concat(u," ").concat(r,",").concat(a),d,p,h,f]}!function(e){e.Strict="strict",e.Loose="loose"}(Ip||(Ip={})),function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"}(Dp||(Dp={})),function(e){e.Partial="partial",e.Full="full"}(zp||(zp={})),function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"}(Lp||(Lp={})),function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"}(Fp||(Fp={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(Up||(Up={}));const Hp=(0,e.memo)(t=>{let{sourceX:n,sourceY:o,targetX:r,targetY:a,sourcePosition:i=Up.Bottom,targetPosition:s=Up.Top,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:p,labelBgBorderRadius:h,style:f,markerEnd:m,markerStart:g,interactionWidth:v}=t;const[y,b,x]=qp({sourceX:n,sourceY:o,sourcePosition:i,targetX:r,targetY:a,targetPosition:s});return e.createElement(Op,{path:y,labelX:b,labelY:x,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:p,labelBgBorderRadius:h,style:f,markerEnd:m,markerStart:g,interactionWidth:v})});Hp.displayName="SimpleBezierEdge";const Vp={[Up.Left]:{x:-1,y:0},[Up.Right]:{x:1,y:0},[Up.Top]:{x:0,y:-1},[Up.Bottom]:{x:0,y:1}},Wp=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Kp(e){let{source:t,sourcePosition:n=Up.Bottom,target:o,targetPosition:r=Up.Top,center:a,offset:i}=e;const s=Vp[n],l=Vp[r],c={x:t.x+s.x*i,y:t.y+s.y*i},u={x:o.x+l.x*i,y:o.y+l.y*i},d=(e=>{let{source:t,sourcePosition:n=Up.Bottom,target:o}=e;return n===Up.Left||n===Up.Right?t.x<o.x?{x:1,y:0}:{x:-1,y:0}:t.y<o.y?{x:0,y:1}:{x:0,y:-1}})({source:c,sourcePosition:n,target:u}),p=0!==d.x?"x":"y",h=d[p];let f,m,g=[];const v={x:0,y:0},y={x:0,y:0},[b,x,w,k]=Rp({sourceX:t.x,sourceY:t.y,targetX:o.x,targetY:o.y});if(s[p]*l[p]===-1){var S,_;f=null!==(S=a.x)&&void 0!==S?S:b,m=null!==(_=a.y)&&void 0!==_?_:x;const e=[{x:f,y:c.y},{x:f,y:u.y}],t=[{x:c.x,y:m},{x:u.x,y:m}];g=s[p]===h?"x"===p?e:t:"x"===p?t:e}else{const e=[{x:c.x,y:u.y}],a=[{x:u.x,y:c.y}];if(g="x"===p?s.x===h?a:e:s.y===h?e:a,n===r){const e=Math.abs(t[p]-o[p]);if(e<=i){const n=Math.min(i-1,i-e);s[p]===h?v[p]=(c[p]>t[p]?-1:1)*n:y[p]=(u[p]>o[p]?-1:1)*n}}if(n!==r){const t="x"===p?"y":"x",n=s[p]===l[t],o=c[t]>u[t],r=c[t]<u[t];(1===s[p]&&(!n&&o||n&&r)||1!==s[p]&&(!n&&r||n&&o))&&(g="x"===p?e:a)}const d={x:c.x+v.x,y:c.y+v.y},b={x:u.x+y.x,y:u.y+y.y};Math.max(Math.abs(d.x-g[0].x),Math.abs(b.x-g[0].x))>=Math.max(Math.abs(d.y-g[0].y),Math.abs(b.y-g[0].y))?(f=(d.x+b.x)/2,m=g[0].y):(f=g[0].x,m=(d.y+b.y)/2)}return[[t,{x:c.x+v.x,y:c.y+v.y},...g,{x:u.x+y.x,y:u.y+y.y},o],f,m,w,k]}function Gp(e){let{sourceX:t,sourceY:n,sourcePosition:o=Up.Bottom,targetX:r,targetY:a,targetPosition:i=Up.Top,borderRadius:s=5,centerX:l,centerY:c,offset:u=20}=e;const[d,p,h,f,m]=Kp({source:{x:t,y:n},sourcePosition:o,target:{x:r,y:a},targetPosition:i,center:{x:l,y:c},offset:u}),g=d.reduce((e,t,n)=>{let o="";return o=n>0&&n<d.length-1?function(e,t,n,o){const r=Math.min(Wp(e,t)/2,Wp(t,n)/2,o),{x:a,y:i}=t;if(e.x===a&&a===n.x||e.y===i&&i===n.y)return"L".concat(a," ").concat(i);if(e.y===i){const t=e.x<n.x?-1:1,o=e.y<n.y?1:-1;return"L ".concat(a+r*t,",").concat(i,"Q ").concat(a,",").concat(i," ").concat(a,",").concat(i+r*o)}const s=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return"L ".concat(a,",").concat(i+r*l,"Q ").concat(a,",").concat(i," ").concat(a+r*s,",").concat(i)}(d[n-1],t,d[n+1],s):"".concat(0===n?"M":"L").concat(t.x," ").concat(t.y),e+=o},"");return[g,p,h,f,m]}const Yp=(0,e.memo)(t=>{let{sourceX:n,sourceY:o,targetX:r,targetY:a,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:p,sourcePosition:h=Up.Bottom,targetPosition:f=Up.Top,markerEnd:m,markerStart:g,pathOptions:v,interactionWidth:y}=t;const[b,x,w]=Gp({sourceX:n,sourceY:o,sourcePosition:h,targetX:r,targetY:a,targetPosition:f,borderRadius:null===v||void 0===v?void 0:v.borderRadius,offset:null===v||void 0===v?void 0:v.offset});return e.createElement(Op,{path:b,labelX:x,labelY:w,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:p,markerEnd:m,markerStart:g,interactionWidth:y})});Yp.displayName="SmoothStepEdge";const Xp=(0,e.memo)(t=>{var n;return e.createElement(Yp,l(l({},t),{},{pathOptions:(0,e.useMemo)(()=>{var e;return{borderRadius:0,offset:null===(e=t.pathOptions)||void 0===e?void 0:e.offset}},[null===(n=t.pathOptions)||void 0===n?void 0:n.offset])}))});Xp.displayName="StepEdge";const $p=(0,e.memo)(t=>{let{sourceX:n,sourceY:o,targetX:r,targetY:a,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:p,markerEnd:h,markerStart:f,interactionWidth:m}=t;const[g,v,y]=function(e){let{sourceX:t,sourceY:n,targetX:o,targetY:r}=e;const[a,i,s,l]=Rp({sourceX:t,sourceY:n,targetX:o,targetY:r});return["M ".concat(t,",").concat(n,"L ").concat(o,",").concat(r),a,i,s,l]}({sourceX:n,sourceY:o,targetX:r,targetY:a});return e.createElement(Op,{path:g,labelX:v,labelY:y,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:p,markerEnd:h,markerStart:f,interactionWidth:m})});function Jp(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function Qp(e){let{pos:t,x1:n,y1:o,x2:r,y2:a,c:i}=e;switch(t){case Up.Left:return[n-Jp(n-r,i),o];case Up.Right:return[n+Jp(r-n,i),o];case Up.Top:return[n,o-Jp(o-a,i)];case Up.Bottom:return[n,o+Jp(a-o,i)]}}function Zp(e){let{sourceX:t,sourceY:n,sourcePosition:o=Up.Bottom,targetX:r,targetY:a,targetPosition:i=Up.Top,curvature:s=.25}=e;const[l,c]=Qp({pos:o,x1:t,y1:n,x2:r,y2:a,c:s}),[u,d]=Qp({pos:i,x1:r,y1:a,x2:t,y2:n,c:s}),[p,h,f,m]=Mp({sourceX:t,sourceY:n,targetX:r,targetY:a,sourceControlX:l,sourceControlY:c,targetControlX:u,targetControlY:d});return["M".concat(t,",").concat(n," C").concat(l,",").concat(c," ").concat(u,",").concat(d," ").concat(r,",").concat(a),p,h,f,m]}$p.displayName="StraightEdge";const eh=(0,e.memo)(t=>{let{sourceX:n,sourceY:o,targetX:r,targetY:a,sourcePosition:i=Up.Bottom,targetPosition:s=Up.Top,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:p,labelBgBorderRadius:h,style:f,markerEnd:m,markerStart:g,pathOptions:v,interactionWidth:y}=t;const[b,x,w]=Zp({sourceX:n,sourceY:o,sourcePosition:i,targetX:r,targetY:a,targetPosition:s,curvature:null===v||void 0===v?void 0:v.curvature});return e.createElement(Op,{path:b,labelX:x,labelY:w,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:p,labelBgBorderRadius:h,style:f,markerEnd:m,markerStart:g,interactionWidth:y})});eh.displayName="BezierEdge";const th=(0,e.createContext)(null),nh=th.Provider;th.Consumer;const oh=e=>{let{source:t,sourceHandle:n,target:o,targetHandle:r}=e;return"reactflow__edge-".concat(t).concat(n||"","-").concat(o).concat(r||"")},rh=(e,t)=>{if("undefined"===typeof e)return"";if("string"===typeof e)return e;const n=t?"".concat(t,"__"):"";return"".concat(n).concat(Object.keys(e).sort().map(t=>"".concat(t,"=").concat(e[t])).join("&"))},ah=(e,t)=>{if(!e.source||!e.target)return jp(0,Zd()),t;let n;var o;return n="id"in(o=e)&&"source"in o&&"target"in o?l({},e):l(l({},e),{},{id:oh(e)}),((e,t)=>t.some(t=>t.source===e.source&&t.target===e.target&&(t.sourceHandle===e.sourceHandle||!t.sourceHandle&&!e.sourceHandle)&&(t.targetHandle===e.targetHandle||!t.targetHandle&&!e.targetHandle)))(n,t)?t:t.concat(n)},ih=(e,t,n,o)=>{let{x:r,y:a}=e,[i,s,l]=t,[c,u]=o;const d={x:(r-i)/l,y:(a-s)/l};return n?{x:c*Math.round(d.x/c),y:u*Math.round(d.y/u)}:d},sh=(e,t)=>{let{x:n,y:o}=e,[r,a,i]=t;return{x:n*i+r,y:o*i+a}},lh=function(e){var t,n;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const r=(null!==(t=e.width)&&void 0!==t?t:0)*o[0],a=(null!==(n=e.height)&&void 0!==n?n:0)*o[1],i={x:e.position.x-r,y:e.position.y-a};return l(l({},i),{},{positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-r,y:e.positionAbsolute.y-a}:i})},ch=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];if(0===e.length)return{x:0,y:0,width:0,height:0};const n=e.reduce((e,n)=>{const{x:o,y:r}=lh(n,t).positionAbsolute;return yp(e,bp({x:o,y:r,width:n.width||0,height:n.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return xp(n)},uh=function(e,t){let[n,o,r]=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,1],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[0,0];const l={x:(t.x-n)/r,y:(t.y-o)/r,width:t.width/r,height:t.height/r},c=[];return e.forEach(e=>{const{width:t,height:n,selectable:o=!0,hidden:r=!1}=e;if(i&&!o||r)return!1;const{positionAbsolute:u}=lh(e,s),d={x:u.x,y:u.y,width:t||0,height:n||0},p=kp(l,d);("undefined"===typeof t||"undefined"===typeof n||null===t||null===n||a&&p>0||p>=(t||0)*(n||0)||e.dragging)&&c.push(e)}),c},dh=(e,t)=>{const n=e.map(e=>e.id);return t.filter(e=>n.includes(e.source)||n.includes(e.target))},ph=function(e,t,n,o,r){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.1;const i=t/(e.width*(1+a)),s=n/(e.height*(1+a)),l=Math.min(i,s),c=hp(l,o,r);return{x:t/2-(e.x+e.width/2)*c,y:n/2-(e.y+e.height/2)*c,zoom:c}},hh=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.transition().duration(t)};function fh(e,t,n,o){return(t[n]||[]).reduce((t,r)=>{var a,i,s,l;"".concat(e.id,"-").concat(r.id,"-").concat(n)!==o&&t.push({id:r.id||null,type:n,nodeId:e.id,x:(null!==(a=null===(i=e.positionAbsolute)||void 0===i?void 0:i.x)&&void 0!==a?a:0)+r.x+r.width/2,y:(null!==(s=null===(l=e.positionAbsolute)||void 0===l?void 0:l.y)&&void 0!==s?s:0)+r.y+r.height/2});return t},[])}const mh={source:null,target:null,sourceHandle:null,targetHandle:null},gh=()=>({handleDomNode:null,isValid:!1,connection:mh,endHandle:null});function vh(e,t,n,o,r,a,i){const s="target"===r,c=i.querySelector('.react-flow__handle[data-id="'.concat(null===e||void 0===e?void 0:e.nodeId,"-").concat(null===e||void 0===e?void 0:e.id,"-").concat(null===e||void 0===e?void 0:e.type,'"]')),u=l(l({},gh()),{},{handleDomNode:c});if(c){const e=yh(void 0,c),r=c.getAttribute("data-nodeid"),i=c.getAttribute("data-handleid"),l=c.classList.contains("connectable"),d=c.classList.contains("connectableend"),p={source:s?r:n,sourceHandle:s?i:o,target:s?n:r,targetHandle:s?o:i};u.connection=p;l&&d&&(t===Ip.Strict?s&&"source"===e||!s&&"target"===e:r!==n||i!==o)&&(u.endHandle={nodeId:r,handleId:i,type:e},u.isValid=a(p))}return u}function yh(e,t){return e||(null!==t&&void 0!==t&&t.classList.contains("target")?"target":null!==t&&void 0!==t&&t.classList.contains("source")?"source":null)}function bh(e){null===e||void 0===e||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function xh(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function wh(e){let{event:t,handleId:n,nodeId:o,onConnect:r,isTarget:a,getState:i,setState:s,isValidConnection:l,edgeUpdaterType:c,onReconnectEnd:u}=e;const d=vp(t.target),{connectionMode:p,domNode:h,autoPanOnConnect:f,connectionRadius:m,onConnectStart:g,panBy:v,getNodes:y,cancelConnection:b}=i();let x,w=0;const{x:k,y:S}=Pp(t),_=null===d||void 0===d?void 0:d.elementFromPoint(k,S),E=yh(c,_),j=null===h||void 0===h?void 0:h.getBoundingClientRect();if(!j||!E)return;let N,C=Pp(t,j),P=!1,T=null,O=!1,A=null;const R=function(e){let{nodes:t,nodeId:n,handleId:o,handleType:r}=e;return t.reduce((e,t)=>{if(t[_p]){const{handleBounds:a}=t[_p];let i=[],s=[];a&&(i=fh(t,a,"source","".concat(n,"-").concat(o,"-").concat(r)),s=fh(t,a,"target","".concat(n,"-").concat(o,"-").concat(r))),e.push(...i,...s)}return e},[])}({nodes:y(),nodeId:o,handleId:n,handleType:E}),M=()=>{if(!f)return;const[e,t]=gp(C,j);v({x:e,y:t}),w=requestAnimationFrame(M)};function I(e){const{transform:t}=i();C=Pp(e,j);const{handle:r,validHandleResult:c}=function(e,t,n,o,r,a){const{x:i,y:s}=Pp(e),l=t.elementsFromPoint(i,s).find(e=>e.classList.contains("react-flow__handle"));if(l){const e=l.getAttribute("data-nodeid");if(e){const t=yh(void 0,l),o=l.getAttribute("data-handleid"),i=a({nodeId:e,id:o,type:t});if(i){const a=r.find(n=>n.nodeId===e&&n.type===t&&n.id===o);return{handle:{id:o,type:t,nodeId:e,x:(null===a||void 0===a?void 0:a.x)||n.x,y:(null===a||void 0===a?void 0:a.y)||n.y},validHandleResult:i}}}}let c=[],u=1/0;if(r.forEach(e=>{const t=Math.sqrt((e.x-n.x)**2+(e.y-n.y)**2);if(t<=o){const n=a(e);t<=u&&(t<u?c=[{handle:e,validHandleResult:n}]:t===u&&c.push({handle:e,validHandleResult:n}),u=t)}}),!c.length)return{handle:null,validHandleResult:gh()};if(1===c.length)return c[0];const d=c.some(e=>{let{validHandleResult:t}=e;return t.isValid}),p=c.some(e=>{let{handle:t}=e;return"target"===t.type});return c.find(e=>{let{handle:t,validHandleResult:n}=e;return p?"target"===t.type:!d||n.isValid})||c[0]}(e,d,ih(C,t,!1,[1,1]),m,R,e=>vh(e,p,o,n,a?"target":"source",l,d));if(x=r,P||(M(),P=!0),A=c.handleDomNode,T=c.connection,O=c.isValid,s({connectionPosition:x&&O?sh({x:x.x,y:x.y},t):C,connectionStatus:xh(!!x,O),connectionEndHandle:c.endHandle}),!x&&!O&&!A)return bh(N);T.source!==T.target&&A&&(bh(N),N=A,A.classList.add("connecting","react-flow__handle-connecting"),A.classList.toggle("valid",O),A.classList.toggle("react-flow__handle-valid",O))}function D(e){var t,n;(x||A)&&T&&O&&(null===r||void 0===r||r(T)),null===(t=(n=i()).onConnectEnd)||void 0===t||t.call(n,e),c&&(null===u||void 0===u||u(e)),bh(N),b(),cancelAnimationFrame(w),P=!1,O=!1,T=null,A=null,d.removeEventListener("mousemove",I),d.removeEventListener("mouseup",D),d.removeEventListener("touchmove",I),d.removeEventListener("touchend",D)}s({connectionPosition:C,connectionStatus:null,connectionNodeId:o,connectionHandleId:n,connectionHandleType:E,connectionStartHandle:{nodeId:o,handleId:n,type:E},connectionEndHandle:null}),null===g||void 0===g||g(t,{nodeId:o,handleId:n,handleType:E}),d.addEventListener("mousemove",I),d.addEventListener("mouseup",D),d.addEventListener("touchmove",I),d.addEventListener("touchend",D)}const kh=()=>!0,Sh=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),_h=(0,e.forwardRef)((t,n)=>{let{type:r="source",position:a=Up.Top,isValidConnection:i,isConnectable:s=!0,isConnectableStart:c=!0,isConnectableEnd:u=!0,id:d,onConnect:p,children:h,className:f,onMouseDown:m,onTouchStart:g}=t,v=o(t,Kd);const y=d||null,b="target"===r,x=sp(),w=(0,e.useContext)(th),{connectOnClick:k,noPanClassName:S}=ip(Sh,nl),{connecting:_,clickConnecting:E}=ip(((e,t,n)=>o=>{const{connectionStartHandle:r,connectionEndHandle:a,connectionClickStartHandle:i}=o;return{connecting:(null===r||void 0===r?void 0:r.nodeId)===e&&(null===r||void 0===r?void 0:r.handleId)===t&&(null===r||void 0===r?void 0:r.type)===n||(null===a||void 0===a?void 0:a.nodeId)===e&&(null===a||void 0===a?void 0:a.handleId)===t&&(null===a||void 0===a?void 0:a.type)===n,clickConnecting:(null===i||void 0===i?void 0:i.nodeId)===e&&(null===i||void 0===i?void 0:i.handleId)===t&&(null===i||void 0===i?void 0:i.type)===n}})(w,y,r),nl);var j,N;w||(null===(j=(N=x.getState()).onError)||void 0===j||j.call(N,"010",np()));const C=e=>{const{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:o}=x.getState(),r=l(l({},t),e);if(o){const{edges:e,setEdges:t}=x.getState();t(ah(r,e))}null===n||void 0===n||n(r),null===p||void 0===p||p(r)},P=e=>{if(!w)return;const t=Cp(e);c&&(t&&0===e.button||!t)&&wh({event:e,handleId:y,nodeId:w,onConnect:C,isTarget:b,getState:x.getState,setState:x.setState,isValidConnection:i||x.getState().isValidConnection||kh}),t?null===m||void 0===m||m(e):null===g||void 0===g||g(e)};return e.createElement("div",l({"data-handleid":y,"data-nodeid":w,"data-handlepos":a,"data-id":"".concat(w,"-").concat(y,"-").concat(r),className:Gs(["react-flow__handle","react-flow__handle-".concat(a),"nodrag",S,f,{source:!b,target:b,connectable:s,connectablestart:c,connectableend:u,connecting:E,connectionindicator:s&&(c&&!_||u&&_)}]),onMouseDown:P,onTouchStart:P,onClick:k?e=>{const{onClickConnectStart:t,onClickConnectEnd:n,connectionClickStartHandle:o,connectionMode:a,isValidConnection:s}=x.getState();if(!w||!o&&!c)return;if(!o)return null===t||void 0===t||t(e,{nodeId:w,handleId:y,handleType:r}),void x.setState({connectionClickStartHandle:{nodeId:w,type:r,handleId:y}});const l=vp(e.target),u=i||s||kh,{connection:d,isValid:p}=vh({nodeId:w,id:y,type:r},a,o.nodeId,o.handleId||null,o.type,u,l);p&&C(d),null===n||void 0===n||n(e),x.setState({connectionClickStartHandle:null})}:void 0,ref:n},v),h)});_h.displayName="Handle";var Eh=(0,e.memo)(_h);const jh=t=>{let{data:n,isConnectable:o,targetPosition:r=Up.Top,sourcePosition:a=Up.Bottom}=t;return e.createElement(e.Fragment,null,e.createElement(Eh,{type:"target",position:r,isConnectable:o}),null===n||void 0===n?void 0:n.label,e.createElement(Eh,{type:"source",position:a,isConnectable:o}))};jh.displayName="DefaultNode";var Nh=(0,e.memo)(jh);const Ch=t=>{let{data:n,isConnectable:o,sourcePosition:r=Up.Bottom}=t;return e.createElement(e.Fragment,null,null===n||void 0===n?void 0:n.label,e.createElement(Eh,{type:"source",position:r,isConnectable:o}))};Ch.displayName="InputNode";var Ph=(0,e.memo)(Ch);const Th=t=>{let{data:n,isConnectable:o,targetPosition:r=Up.Top}=t;return e.createElement(e.Fragment,null,e.createElement(Eh,{type:"target",position:r,isConnectable:o}),null===n||void 0===n?void 0:n.label)};Th.displayName="OutputNode";var Oh=(0,e.memo)(Th);const Ah=()=>null;Ah.displayName="GroupNode";const Rh=e=>({selectedNodes:e.getNodes().filter(e=>e.selected),selectedEdges:e.edges.filter(e=>e.selected).map(e=>l({},e))}),Mh=e=>e.id;function Ih(e,t){return nl(e.selectedNodes.map(Mh),t.selectedNodes.map(Mh))&&nl(e.selectedEdges.map(Mh),t.selectedEdges.map(Mh))}const Dh=(0,e.memo)(t=>{let{onSelectionChange:n}=t;const o=sp(),{selectedNodes:r,selectedEdges:a}=ip(Rh,Ih);return(0,e.useEffect)(()=>{const e={nodes:r,edges:a};null===n||void 0===n||n(e),o.getState().onSelectionChange.forEach(t=>t(e))},[r,a,n]),null});Dh.displayName="SelectionListener";const zh=e=>!!e.onSelectionChange;function Lh(t){let{onSelectionChange:n}=t;const o=ip(zh);return n||o?e.createElement(Dh,{onSelectionChange:n}):null}const Fh=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Uh(t,n){(0,e.useEffect)(()=>{"undefined"!==typeof t&&n(t)},[t])}function Bh(t,n,o){(0,e.useEffect)(()=>{"undefined"!==typeof n&&o({[t]:n})},[n])}const qh=t=>{let{nodes:n,edges:o,defaultNodes:r,defaultEdges:a,onConnect:i,onConnectStart:s,onConnectEnd:c,onClickConnectStart:u,onClickConnectEnd:d,nodesDraggable:p,nodesConnectable:h,nodesFocusable:f,edgesFocusable:m,edgesUpdatable:g,elevateNodesOnSelect:v,minZoom:y,maxZoom:b,nodeExtent:x,onNodesChange:w,onEdgesChange:k,elementsSelectable:S,connectionMode:_,snapGrid:E,snapToGrid:j,translateExtent:N,connectOnClick:C,defaultEdgeOptions:P,fitView:T,fitViewOptions:O,onNodesDelete:A,onEdgesDelete:R,onNodeDrag:M,onNodeDragStart:I,onNodeDragStop:D,onSelectionDrag:z,onSelectionDragStart:L,onSelectionDragStop:F,noPanClassName:U,nodeOrigin:B,rfId:q,autoPanOnConnect:H,autoPanOnNodeDrag:V,onError:W,connectionRadius:K,isValidConnection:G,nodeDragThreshold:Y}=t;const{setNodes:X,setEdges:$,setDefaultNodesAndEdges:J,setMinZoom:Q,setMaxZoom:Z,setTranslateExtent:ee,setNodeExtent:te,reset:ne}=ip(Fh,nl),oe=sp();return(0,e.useEffect)(()=>{const e=null===a||void 0===a?void 0:a.map(e=>l(l({},e),P));return J(r,e),()=>{ne()}},[]),Bh("defaultEdgeOptions",P,oe.setState),Bh("connectionMode",_,oe.setState),Bh("onConnect",i,oe.setState),Bh("onConnectStart",s,oe.setState),Bh("onConnectEnd",c,oe.setState),Bh("onClickConnectStart",u,oe.setState),Bh("onClickConnectEnd",d,oe.setState),Bh("nodesDraggable",p,oe.setState),Bh("nodesConnectable",h,oe.setState),Bh("nodesFocusable",f,oe.setState),Bh("edgesFocusable",m,oe.setState),Bh("edgesUpdatable",g,oe.setState),Bh("elementsSelectable",S,oe.setState),Bh("elevateNodesOnSelect",v,oe.setState),Bh("snapToGrid",j,oe.setState),Bh("snapGrid",E,oe.setState),Bh("onNodesChange",w,oe.setState),Bh("onEdgesChange",k,oe.setState),Bh("connectOnClick",C,oe.setState),Bh("fitViewOnInit",T,oe.setState),Bh("fitViewOnInitOptions",O,oe.setState),Bh("onNodesDelete",A,oe.setState),Bh("onEdgesDelete",R,oe.setState),Bh("onNodeDrag",M,oe.setState),Bh("onNodeDragStart",I,oe.setState),Bh("onNodeDragStop",D,oe.setState),Bh("onSelectionDrag",z,oe.setState),Bh("onSelectionDragStart",L,oe.setState),Bh("onSelectionDragStop",F,oe.setState),Bh("noPanClassName",U,oe.setState),Bh("nodeOrigin",B,oe.setState),Bh("rfId",q,oe.setState),Bh("autoPanOnConnect",H,oe.setState),Bh("autoPanOnNodeDrag",V,oe.setState),Bh("onError",W,oe.setState),Bh("connectionRadius",K,oe.setState),Bh("isValidConnection",G,oe.setState),Bh("nodeDragThreshold",Y,oe.setState),Uh(n,X),Uh(o,$),Uh(y,Q),Uh(b,Z),Uh(N,ee),Uh(x,te),null},Hh={display:"none"},Vh={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Wh="react-flow__node-desc",Kh="react-flow__edge-desc",Gh=e=>e.ariaLiveMessage;function Yh(t){let{rfId:n}=t;const o=ip(Gh);return e.createElement("div",{id:"".concat("react-flow__aria-live","-").concat(n),"aria-live":"assertive","aria-atomic":"true",style:Vh},o)}function Xh(t){let{rfId:n,disableKeyboardA11y:o}=t;return e.createElement(e.Fragment,null,e.createElement("div",{id:"".concat(Wh,"-").concat(n),style:Hh},"Press enter or space to select a node.",!o&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),e.createElement("div",{id:"".concat(Kh,"-").concat(n),style:Hh},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!o&&e.createElement(Yh,{rfId:n}))}var $h=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{actInsideInputWithModifier:!0};const[o,r]=(0,e.useState)(!1),a=(0,e.useRef)(!1),i=(0,e.useRef)(new Set([])),[s,l]=(0,e.useMemo)(()=>{if(null!==t){const e=(Array.isArray(t)?t:[t]).filter(e=>"string"===typeof e).map(e=>e.split("+")),n=e.reduce((e,t)=>e.concat(...t),[]);return[e,n]}return[[],[]]},[t]);return(0,e.useEffect)(()=>{const e="undefined"!==typeof document?document:null,o=(null===n||void 0===n?void 0:n.target)||e;if(null!==t){const e=e=>{a.current=e.ctrlKey||e.metaKey||e.shiftKey;if((!a.current||a.current&&!n.actInsideInputWithModifier)&&Np(e))return!1;const t=Qh(e.code,l);i.current.add(e[t]),Jh(s,i.current,!1)&&(e.preventDefault(),r(!0))},t=e=>{if((!a.current||a.current&&!n.actInsideInputWithModifier)&&Np(e))return!1;const t=Qh(e.code,l);Jh(s,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(e[t]),"Meta"===e.key&&i.current.clear(),a.current=!1},c=()=>{i.current.clear(),r(!1)};return null===o||void 0===o||o.addEventListener("keydown",e),null===o||void 0===o||o.addEventListener("keyup",t),window.addEventListener("blur",c),()=>{null===o||void 0===o||o.removeEventListener("keydown",e),null===o||void 0===o||o.removeEventListener("keyup",t),window.removeEventListener("blur",c)}}},[t,r]),o};function Jh(e,t,n){return e.filter(e=>n||e.length===t.size).some(e=>e.every(e=>t.has(e)))}function Qh(e,t){return t.includes(e)?"code":"key"}function Zh(e,t,n,o){var r,a,i,s,l,c,u,d;const p=e.parentNode||e.parentId;if(!p)return n;const h=t.get(p),f=lh(h,o);return Zh(h,t,{x:(null!==(r=n.x)&&void 0!==r?r:0)+f.x,y:(null!==(a=n.y)&&void 0!==a?a:0)+f.y,z:(null!==(i=null===(s=h[_p])||void 0===s?void 0:s.z)&&void 0!==i?i:0)>(null!==(l=n.z)&&void 0!==l?l:0)?null!==(c=null===(u=h[_p])||void 0===u?void 0:u.z)&&void 0!==c?c:0:null!==(d=n.z)&&void 0!==d?d:0},o)}function ef(e,t,n){e.forEach(o=>{const r=o.parentNode||o.parentId;if(r&&!e.has(r))throw new Error("Parent node ".concat(r," not found"));if(r||null!==n&&void 0!==n&&n[o.id]){var a,i;const{x:r,y:s,z:c}=Zh(o,e,l(l({},o.position),{},{z:null!==(a=null===(i=o[_p])||void 0===i?void 0:i.z)&&void 0!==a?a:0}),t);o.positionAbsolute={x:r,y:s},o[_p].z=c,null!==n&&void 0!==n&&n[o.id]&&(o[_p].isParent=!0)}})}function tf(e,t,n,o){const r=new Map,a={},i=o?1e3:0;return e.forEach(e=>{var n;const o=(Sp(e.zIndex)?e.zIndex:0)+(e.selected?i:0),s=t.get(e.id),c=l(l({},e),{},{positionAbsolute:{x:e.position.x,y:e.position.y}}),u=e.parentNode||e.parentId;u&&(a[u]=!0);const d=(null===s||void 0===s?void 0:s.type)&&(null===s||void 0===s?void 0:s.type)!==e.type;Object.defineProperty(c,_p,{enumerable:!1,value:{handleBounds:d||null===s||void 0===s||null===(n=s[_p])||void 0===n?void 0:n.handleBounds,z:o}}),r.set(e.id,c)}),ef(r,n,a),r}function nf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getNodes:n,width:o,height:r,minZoom:a,maxZoom:i,d3Zoom:s,d3Selection:l,fitViewOnInitDone:c,fitViewOnInit:u,nodeOrigin:d}=e(),p=t.initial&&!c&&u;if(s&&l&&(p||!t.initial)){const e=n().filter(e=>{var n;const o=t.includeHiddenNodes?e.width&&e.height:!e.hidden;return null!==(n=t.nodes)&&void 0!==n&&n.length?o&&t.nodes.some(t=>t.id===e.id):o}),c=e.every(e=>e.width&&e.height);if(e.length>0&&c){var h,f,m;const n=ch(e,d),{x:c,y:u,zoom:p}=ph(n,o,r,null!==(h=t.minZoom)&&void 0!==h?h:a,null!==(f=t.maxZoom)&&void 0!==f?f:i,null!==(m=t.padding)&&void 0!==m?m:.1),g=Cd.translate(c,u).scale(p);return"number"===typeof t.duration&&t.duration>0?s.transform(hh(l,t.duration),g):s.transform(l,g),!0}}return!1}function of(e,t){return e.forEach(e=>{const n=t.get(e.id);n&&t.set(n.id,l(l({},n),{},{[_p]:n[_p],selected:e.selected}))}),new Map(t)}function rf(e,t){return t.map(t=>{const n=e.find(e=>e.id===t.id);return n&&(t.selected=n.selected),t})}function af(e){let{changedNodes:t,changedEdges:n,get:o,set:r}=e;const{nodeInternals:a,edges:i,onNodesChange:s,onEdgesChange:l,hasDefaultNodes:c,hasDefaultEdges:u}=o();null!==t&&void 0!==t&&t.length&&(c&&r({nodeInternals:of(t,a)}),null===s||void 0===s||s(t)),null!==n&&void 0!==n&&n.length&&(u&&r({edges:rf(n,i)}),null===l||void 0===l||l(n))}const sf=()=>{},lf={zoomIn:sf,zoomOut:sf,zoomTo:sf,getZoom:()=>1,setViewport:sf,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:sf,fitBounds:sf,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},cf=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection});function uf(){const t=(()=>{const t=sp(),{d3Zoom:n,d3Selection:o}=ip(cf,nl),r=(0,e.useMemo)(()=>o&&n?{zoomIn:e=>n.scaleBy(hh(o,null===e||void 0===e?void 0:e.duration),1.2),zoomOut:e=>n.scaleBy(hh(o,null===e||void 0===e?void 0:e.duration),1/1.2),zoomTo:(e,t)=>n.scaleTo(hh(o,null===t||void 0===t?void 0:t.duration),e),getZoom:()=>t.getState().transform[2],setViewport:(e,r)=>{var a,i,s;const[l,c,u]=t.getState().transform,d=Cd.translate(null!==(a=e.x)&&void 0!==a?a:l,null!==(i=e.y)&&void 0!==i?i:c).scale(null!==(s=e.zoom)&&void 0!==s?s:u);n.transform(hh(o,null===r||void 0===r?void 0:r.duration),d)},getViewport:()=>{const[e,n,o]=t.getState().transform;return{x:e,y:n,zoom:o}},fitView:e=>nf(t.getState,e),setCenter:(e,r,a)=>{const{width:i,height:s,maxZoom:l}=t.getState(),c="undefined"!==typeof(null===a||void 0===a?void 0:a.zoom)?a.zoom:l,u=i/2-e*c,d=s/2-r*c,p=Cd.translate(u,d).scale(c);n.transform(hh(o,null===a||void 0===a?void 0:a.duration),p)},fitBounds:(e,r)=>{var a;const{width:i,height:s,minZoom:l,maxZoom:c}=t.getState(),{x:u,y:d,zoom:p}=ph(e,i,s,l,c,null!==(a=null===r||void 0===r?void 0:r.padding)&&void 0!==a?a:.1),h=Cd.translate(u,d).scale(p);n.transform(hh(o,null===r||void 0===r?void 0:r.duration),h)},project:e=>{const{transform:n,snapToGrid:o,snapGrid:r}=t.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),ih(e,n,o,r)},screenToFlowPosition:e=>{const{transform:n,snapToGrid:o,snapGrid:r,domNode:a}=t.getState();if(!a)return e;const{x:i,y:s}=a.getBoundingClientRect(),l={x:e.x-i,y:e.y-s};return ih(l,n,o,r)},flowToScreenPosition:e=>{const{transform:n,domNode:o}=t.getState();if(!o)return e;const{x:r,y:a}=o.getBoundingClientRect(),i=sh(e,n);return{x:i.x+r,y:i.y+a}},viewportInitialized:!0}:lf,[n,o]);return r})(),n=sp(),o=(0,e.useCallback)(()=>n.getState().getNodes().map(e=>l({},e)),[]),r=(0,e.useCallback)(e=>n.getState().nodeInternals.get(e),[]),a=(0,e.useCallback)(()=>{const{edges:e=[]}=n.getState();return e.map(e=>l({},e))},[]),i=(0,e.useCallback)(e=>{const{edges:t=[]}=n.getState();return t.find(t=>t.id===e)},[]),s=(0,e.useCallback)(e=>{const{getNodes:t,setNodes:o,hasDefaultNodes:r,onNodesChange:a}=n.getState(),i=t(),s="function"===typeof e?e(i):e;if(r)o(s);else if(a){const e=0===s.length?i.map(e=>({type:"remove",id:e.id})):s.map(e=>({item:e,type:"reset"}));a(e)}},[]),c=(0,e.useCallback)(e=>{const{edges:t=[],setEdges:o,hasDefaultEdges:r,onEdgesChange:a}=n.getState(),i="function"===typeof e?e(t):e;if(r)o(i);else if(a){a(0===i.length?t.map(e=>({type:"remove",id:e.id})):i.map(e=>({item:e,type:"reset"})))}},[]),u=(0,e.useCallback)(e=>{const t=Array.isArray(e)?e:[e],{getNodes:o,setNodes:r,hasDefaultNodes:a,onNodesChange:i}=n.getState();if(a){r([...o(),...t])}else if(i){const e=t.map(e=>({item:e,type:"add"}));i(e)}},[]),d=(0,e.useCallback)(e=>{const t=Array.isArray(e)?e:[e],{edges:o=[],setEdges:r,hasDefaultEdges:a,onEdgesChange:i}=n.getState();if(a)r([...o,...t]);else if(i){i(t.map(e=>({item:e,type:"add"})))}},[]),p=(0,e.useCallback)(()=>{const{getNodes:e,edges:t=[],transform:o}=n.getState(),[r,a,i]=o;return{nodes:e().map(e=>l({},e)),edges:t.map(e=>l({},e)),viewport:{x:r,y:a,zoom:i}}},[]),h=(0,e.useCallback)(e=>{let{nodes:t,edges:o}=e;const{nodeInternals:r,getNodes:a,edges:i,hasDefaultNodes:s,hasDefaultEdges:l,onNodesDelete:c,onEdgesDelete:u,onNodesChange:d,onEdgesChange:p}=n.getState(),h=(t||[]).map(e=>e.id),f=(o||[]).map(e=>e.id),m=a().reduce((e,t)=>{const n=t.parentNode||t.parentId,o=!h.includes(t.id)&&n&&e.find(e=>e.id===n);return("boolean"!==typeof t.deletable||t.deletable)&&(h.includes(t.id)||o)&&e.push(t),e},[]),g=i.filter(e=>"boolean"!==typeof e.deletable||e.deletable),v=g.filter(e=>f.includes(e.id));if(m||v){const e=dh(m,g),t=[...v,...e],o=t.reduce((e,t)=>(e.includes(t.id)||e.push(t.id),e),[]);if((l||s)&&(l&&n.setState({edges:i.filter(e=>!o.includes(e.id))}),s&&(m.forEach(e=>{r.delete(e.id)}),n.setState({nodeInternals:new Map(r)}))),o.length>0&&(null===u||void 0===u||u(t),p&&p(o.map(e=>({id:e,type:"remove"})))),m.length>0&&(null===c||void 0===c||c(m),d)){d(m.map(e=>({id:e.id,type:"remove"})))}}},[]),f=(0,e.useCallback)(e=>{const t=Sp((o=e).width)&&Sp(o.height)&&Sp(o.x)&&Sp(o.y);var o;const r=t?null:n.getState().nodeInternals.get(e.id);if(!t&&!r)return[null,null,t];return[t?e:wp(r),r,t]},[]),m=(0,e.useCallback)(function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2?arguments[2]:void 0;const[r,a,i]=f(e);return r?(o||n.getState().getNodes()).filter(e=>{if(!i&&(e.id===a.id||!e.positionAbsolute))return!1;const n=wp(e),o=kp(n,r);return t&&o>0||o>=r.width*r.height}):[]},[]),g=(0,e.useCallback)(function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const[o]=f(e);if(!o)return!1;const r=kp(o,t);return n&&r>0||r>=o.width*o.height},[]);return(0,e.useMemo)(()=>l(l({},t),{},{getNodes:o,getNode:r,getEdges:a,getEdge:i,setNodes:s,setEdges:c,addNodes:u,addEdges:d,toObject:p,deleteElements:h,getIntersectingNodes:m,isNodeIntersecting:g}),[t,o,r,a,i,s,c,u,d,p,h,m,g])}const df={actInsideInputWithModifier:!1};const pf={position:"absolute",width:"100%",height:"100%",top:0,left:0},hf=e=>({x:e.x,y:e.y,zoom:e.k}),ff=(e,t)=>e.target.closest(".".concat(t)),mf=(e,t)=>2===t&&Array.isArray(e)&&e.includes(2),gf=e=>{const t=e.ctrlKey&&Tp()?10:1;return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*t},vf=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),yf=t=>{let{onMove:n,onMoveStart:o,onMoveEnd:r,onPaneContextMenu:a,zoomOnScroll:i=!0,zoomOnPinch:s=!0,panOnScroll:l=!1,panOnScrollSpeed:c=.5,panOnScrollMode:u=Dp.Free,zoomOnDoubleClick:d=!0,elementsSelectable:p,panOnDrag:h=!0,defaultViewport:f,translateExtent:m,minZoom:g,maxZoom:v,zoomActivationKeyCode:y,preventScrolling:b=!0,children:x,noWheelClassName:w,noPanClassName:k}=t;const S=(0,e.useRef)(),_=sp(),E=(0,e.useRef)(!1),j=(0,e.useRef)(!1),N=(0,e.useRef)(null),C=(0,e.useRef)({x:0,y:0,zoom:0}),{d3Zoom:P,d3Selection:T,d3ZoomHandler:O,userSelectionActive:A}=ip(vf,nl),R=$h(y),M=(0,e.useRef)(0),I=(0,e.useRef)(!1),D=(0,e.useRef)();return function(t){const n=sp();(0,e.useEffect)(()=>{let e;const o=()=>{if(!t.current)return;const e=pp(t.current);var o,r;0!==e.height&&0!==e.width||null===(o=(r=n.getState()).onError)||void 0===o||o.call(r,"004",Jd()),n.setState({width:e.width||500,height:e.height||500})};return o(),window.addEventListener("resize",o),t.current&&(e=new ResizeObserver(()=>o()),e.observe(t.current)),()=>{window.removeEventListener("resize",o),e&&t.current&&e.unobserve(t.current)}},[])}(N),(0,e.useEffect)(()=>{if(N.current){const e=N.current.getBoundingClientRect(),t=zd().scaleExtent([g,v]).translateExtent(m),n=kc(N.current).call(t),o=Cd.translate(f.x,f.y).scale(hp(f.zoom,g,v)),r=[[0,0],[e.width,e.height]],a=t.constrain()(o,r,m);t.transform(n,a),t.wheelDelta(gf),_.setState({d3Zoom:t,d3Selection:n,d3ZoomHandler:n.on("wheel.zoom"),transform:[a.x,a.y,a.k],domNode:N.current.closest(".react-flow")})}},[]),(0,e.useEffect)(()=>{T&&P&&(!l||R||A?"undefined"!==typeof O&&T.on("wheel.zoom",function(e,t){if(!b&&"wheel"===e.type&&!e.ctrlKey||ff(e,w))return null;e.preventDefault(),O.call(this,e,t)},{passive:!1}):T.on("wheel.zoom",e=>{if(ff(e,w))return!1;e.preventDefault(),e.stopImmediatePropagation();const t=T.property("__zoom").k||1;if(e.ctrlKey&&s){const n=Oc(e),o=gf(e),r=t*Math.pow(2,o);return void P.scaleTo(T,r,n,e)}const a=1===e.deltaMode?20:1;let i=u===Dp.Vertical?0:e.deltaX*a,l=u===Dp.Horizontal?0:e.deltaY*a;!Tp()&&e.shiftKey&&u!==Dp.Vertical&&(i=e.deltaY*a,l=0),P.translateBy(T,-i/t*c,-l/t*c,{internal:!0});const d=hf(T.property("__zoom")),{onViewportChangeStart:p,onViewportChange:h,onViewportChangeEnd:f}=_.getState();clearTimeout(D.current),I.current||(I.current=!0,null===o||void 0===o||o(e,d),null===p||void 0===p||p(d)),I.current&&(null===n||void 0===n||n(e,d),null===h||void 0===h||h(d),D.current=setTimeout(()=>{null===r||void 0===r||r(e,d),null===f||void 0===f||f(d),I.current=!1},150))},{passive:!1}))},[A,l,u,T,P,O,R,s,b,w,o,n,r]),(0,e.useEffect)(()=>{P&&P.on("start",e=>{var t,n;if(!e.sourceEvent||e.sourceEvent.internal)return null;M.current=null===(t=e.sourceEvent)||void 0===t?void 0:t.button;const{onViewportChangeStart:r}=_.getState(),a=hf(e.transform);E.current=!0,C.current=a,"mousedown"===(null===(n=e.sourceEvent)||void 0===n?void 0:n.type)&&_.setState({paneDragging:!0}),null===r||void 0===r||r(a),null===o||void 0===o||o(e.sourceEvent,a)})},[P,o]),(0,e.useEffect)(()=>{P&&(A&&!E.current?P.on("zoom",null):A||P.on("zoom",e=>{var t,o;const{onViewportChange:r}=_.getState();if(_.setState({transform:[e.transform.x,e.transform.y,e.transform.k]}),j.current=!(!a||!mf(h,null!==(t=M.current)&&void 0!==t?t:0)),(n||r)&&(null===(o=e.sourceEvent)||void 0===o||!o.internal)){const t=hf(e.transform);null===r||void 0===r||r(t),null===n||void 0===n||n(e.sourceEvent,t)}}))},[A,P,n,h,a]),(0,e.useEffect)(()=>{P&&P.on("end",e=>{var t;if(!e.sourceEvent||e.sourceEvent.internal)return null;const{onViewportChangeEnd:n}=_.getState();if(E.current=!1,_.setState({paneDragging:!1}),a&&mf(h,null!==(t=M.current)&&void 0!==t?t:0)&&!j.current&&a(e.sourceEvent),j.current=!1,(r||n)&&(o=C.current,i=e.transform,o.x!==i.x||o.y!==i.y||o.zoom!==i.k)){const t=hf(e.transform);C.current=t,clearTimeout(S.current),S.current=setTimeout(()=>{null===n||void 0===n||n(t),null===r||void 0===r||r(e.sourceEvent,t)},l?150:0)}var o,i})},[P,l,h,r,a]),(0,e.useEffect)(()=>{P&&P.filter(e=>{const t=R||i,n=s&&e.ctrlKey;if((!0===h||Array.isArray(h)&&h.includes(1))&&1===e.button&&"mousedown"===e.type&&(ff(e,"react-flow__node")||ff(e,"react-flow__edge")))return!0;if(!h&&!t&&!l&&!d&&!s)return!1;if(A)return!1;if(!d&&"dblclick"===e.type)return!1;if(ff(e,w)&&"wheel"===e.type)return!1;if(ff(e,k)&&("wheel"!==e.type||l&&"wheel"===e.type&&!R))return!1;if(!s&&e.ctrlKey&&"wheel"===e.type)return!1;if(!t&&!l&&!n&&"wheel"===e.type)return!1;if(!h&&("mousedown"===e.type||"touchstart"===e.type))return!1;if(Array.isArray(h)&&!h.includes(e.button)&&"mousedown"===e.type)return!1;const o=Array.isArray(h)&&h.includes(e.button)||!e.button||e.button<=1;return(!e.ctrlKey||"wheel"===e.type)&&o})},[A,P,i,s,l,d,h,p,R]),e.createElement("div",{className:"react-flow__renderer",ref:N,style:pf},x)},bf=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function xf(){const{userSelectionActive:t,userSelectionRect:n}=ip(bf,nl);return t&&n?e.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:n.width,height:n.height,transform:"translate(".concat(n.x,"px, ").concat(n.y,"px)")}}):null}function wf(e,t){const n=t.parentNode||t.parentId,o=e.find(e=>e.id===n);if(o){const e=t.position.x+t.width-o.width,n=t.position.y+t.height-o.height;if(e>0||n>0||t.position.x<0||t.position.y<0){var r,a;if(o.style=l({},o.style)||{},o.style.width=null!==(r=o.style.width)&&void 0!==r?r:o.width,o.style.height=null!==(a=o.style.height)&&void 0!==a?a:o.height,e>0&&(o.style.width+=e),n>0&&(o.style.height+=n),t.position.x<0){const e=Math.abs(t.position.x);o.position.x=o.position.x-e,o.style.width+=e,t.position.x=0}if(t.position.y<0){const e=Math.abs(t.position.y);o.position.y=o.position.y-e,o.style.height+=e,t.position.y=0}o.width=o.style.width,o.height=o.style.height}}}function kf(e,t){if(e.some(e=>"reset"===e.type))return e.filter(e=>"reset"===e.type).map(e=>e.item);const n=e.filter(e=>"add"===e.type).map(e=>e.item);return t.reduce((t,n)=>{const o=e.filter(e=>e.id===n.id);if(0===o.length)return t.push(n),t;const r=l({},n);for(const e of o)if(e)switch(e.type){case"select":r.selected=e.selected;break;case"position":"undefined"!==typeof e.position&&(r.position=e.position),"undefined"!==typeof e.positionAbsolute&&(r.positionAbsolute=e.positionAbsolute),"undefined"!==typeof e.dragging&&(r.dragging=e.dragging),r.expandParent&&wf(t,r);break;case"dimensions":"undefined"!==typeof e.dimensions&&(r.width=e.dimensions.width,r.height=e.dimensions.height),"undefined"!==typeof e.updateStyle&&(r.style=l(l({},r.style||{}),e.dimensions)),"boolean"===typeof e.resizing&&(r.resizing=e.resizing),r.expandParent&&wf(t,r);break;case"remove":return t}return t.push(r),t},n)}function Sf(e,t){return kf(e,t)}const _f=(e,t)=>({id:e,type:"select",selected:t});function Ef(e,t){return e.reduce((e,n)=>{const o=t.includes(n.id);return!n.selected&&o?(n.selected=!0,e.push(_f(n.id,!0))):n.selected&&!o&&(n.selected=!1,e.push(_f(n.id,!1))),e},[])}const jf=(e,t)=>n=>{n.target===t.current&&(null===e||void 0===e||e(n))},Nf=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),Cf=(0,e.memo)(t=>{let{isSelecting:n,selectionMode:o=zp.Full,panOnDrag:r,onSelectionStart:a,onSelectionEnd:i,onPaneClick:s,onPaneContextMenu:c,onPaneScroll:u,onPaneMouseEnter:d,onPaneMouseMove:p,onPaneMouseLeave:h,children:f}=t;const m=(0,e.useRef)(null),g=sp(),v=(0,e.useRef)(0),y=(0,e.useRef)(0),b=(0,e.useRef)(),{userSelectionActive:x,elementsSelectable:w,dragging:k}=ip(Nf,nl),S=()=>{g.setState({userSelectionActive:!1,userSelectionRect:null}),v.current=0,y.current=0},_=e=>{null===s||void 0===s||s(e),g.getState().resetSelectedElements(),g.setState({nodesSelectionActive:!1})},E=u?e=>u(e):void 0,j=w&&(n||x);return e.createElement("div",{className:Gs(["react-flow__pane",{dragging:k,selection:n}]),onClick:j?void 0:jf(_,m),onContextMenu:jf(e=>{Array.isArray(r)&&null!==r&&void 0!==r&&r.includes(2)?e.preventDefault():null===c||void 0===c||c(e)},m),onWheel:jf(E,m),onMouseEnter:j?void 0:d,onMouseDown:j?e=>{const{resetSelectedElements:t,domNode:o}=g.getState();if(b.current=null===o||void 0===o?void 0:o.getBoundingClientRect(),!w||!n||0!==e.button||e.target!==m.current||!b.current)return;const{x:r,y:i}=Pp(e,b.current);t(),g.setState({userSelectionRect:{width:0,height:0,startX:r,startY:i,x:r,y:i}}),null===a||void 0===a||a(e)}:void 0,onMouseMove:j?e=>{var t,r;const{userSelectionRect:a,nodeInternals:i,edges:s,transform:c,onNodesChange:u,onEdgesChange:d,nodeOrigin:p,getNodes:h}=g.getState();if(!n||!b.current||!a)return;g.setState({userSelectionActive:!0,nodesSelectionActive:!1});const f=Pp(e,b.current),m=null!==(t=a.startX)&&void 0!==t?t:0,x=null!==(r=a.startY)&&void 0!==r?r:0,w=l(l({},a),{},{x:f.x<m?f.x:m,y:f.y<x?f.y:x,width:Math.abs(f.x-m),height:Math.abs(f.y-x)}),k=h(),S=uh(i,w,c,o===zp.Partial,!0,p),_=dh(S,s).map(e=>e.id),E=S.map(e=>e.id);if(v.current!==E.length){v.current=E.length;const e=Ef(k,E);e.length&&(null===u||void 0===u||u(e))}if(y.current!==_.length){y.current=_.length;const e=Ef(s,_);e.length&&(null===d||void 0===d||d(e))}g.setState({userSelectionRect:w})}:p,onMouseUp:j?e=>{if(0!==e.button)return;const{userSelectionRect:t}=g.getState();!x&&t&&e.target===m.current&&(null===_||void 0===_||_(e)),g.setState({nodesSelectionActive:v.current>0}),S(),null===i||void 0===i||i(e)}:void 0,onMouseLeave:j?e=>{x&&(g.setState({nodesSelectionActive:v.current>0}),null===i||void 0===i||i(e)),S()}:h,ref:m,style:pf},f,e.createElement(xf,null))});function Pf(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const o=t.get(n);return!!o&&(!!o.selected||Pf(o,t))}function Tf(e,t,n){let o=e;do{var r;if(null!==(r=o)&&void 0!==r&&r.matches(t))return!0;if(o===n.current)return!1;o=o.parentElement}while(o);return!1}function Of(e,t,n,o){return Array.from(e.values()).filter(n=>(n.selected||n.id===o)&&(!n.parentNode||n.parentId||!Pf(n,e))&&(n.draggable||t&&"undefined"===typeof n.draggable)).map(e=>{var t,o,r,a;return{id:e.id,position:e.position||{x:0,y:0},positionAbsolute:e.positionAbsolute||{x:0,y:0},distance:{x:n.x-(null!==(t=null===(o=e.positionAbsolute)||void 0===o?void 0:o.x)&&void 0!==t?t:0),y:n.y-(null!==(r=null===(a=e.positionAbsolute)||void 0===a?void 0:a.y)&&void 0!==r?r:0)},delta:{x:0,y:0},extent:e.extent,parentNode:e.parentNode||e.parentId,parentId:e.parentNode||e.parentId,width:e.width,height:e.height,expandParent:e.expandParent}})}function Af(e,t,n,o){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[0,0],a=arguments.length>5?arguments[5]:void 0;const i=function(e,t){return t&&"parent"!==t?[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]:t}(e,e.extent||o);let s=i;const l=e.parentNode||e.parentId;if("parent"!==e.extent||e.expandParent){if(e.extent&&l&&"parent"!==e.extent){const t=n.get(l),{x:o,y:a}=lh(t,r).positionAbsolute;s=[[e.extent[0][0]+o,e.extent[0][1]+a],[e.extent[1][0]+o,e.extent[1][1]+a]]}}else if(l&&e.width&&e.height){const t=n.get(l),{x:o,y:a}=lh(t,r).positionAbsolute;s=t&&Sp(o)&&Sp(a)&&Sp(t.width)&&Sp(t.height)?[[o+e.width*r[0],a+e.height*r[1]],[o+t.width-e.width+e.width*r[0],a+t.height-e.height+e.height*r[1]]]:s}else null===a||void 0===a||a("005",Qd()),s=i;let c={x:0,y:0};if(l){const e=n.get(l);c=lh(e,r).positionAbsolute}const u=s&&"parent"!==s?fp(t,s):t;return{position:{x:u.x-c.x,y:u.y-c.y},positionAbsolute:u}}function Rf(e){let{nodeId:t,dragItems:n,nodeInternals:o}=e;const r=n.map(e=>l(l({},o.get(e.id)),{},{position:e.position,positionAbsolute:e.positionAbsolute}));return[t?r.find(e=>e.id===t):r[0],r]}Cf.displayName="Pane";const Mf=(e,t,n,o)=>{const r=t.querySelectorAll(e);if(!r||!r.length)return null;const a=Array.from(r),i=t.getBoundingClientRect(),s=i.width*o[0],c=i.height*o[1];return a.map(e=>{const t=e.getBoundingClientRect();return l({id:e.getAttribute("data-handleid"),position:e.getAttribute("data-handlepos"),x:(t.left-i.left-s)/n,y:(t.top-i.top-c)/n},pp(e))})};function If(e,t,n){return void 0===n?n:o=>{const r=t().nodeInternals.get(e);r&&n(o,l({},r))}}function Df(e){let{id:t,store:n,unselect:o=!1,nodeRef:r}=e;const{addSelectedNodes:a,unselectNodesAndEdges:i,multiSelectionActive:s,nodeInternals:l,onError:c}=n.getState(),u=l.get(t);u?(n.setState({nodesSelectionActive:!1}),u.selected?(o||u.selected&&s)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var e;return null===r||void 0===r||null===(e=r.current)||void 0===e?void 0:e.blur()})):a([t])):null===c||void 0===c||c("012",rp(t))}function zf(e){return(t,n,o)=>null===e||void 0===e?void 0:e(t,o)}function Lf(t){let{nodeRef:n,disabled:o=!1,noDragClassName:r,handleSelector:a,nodeId:i,isSelectable:s,selectNodesOnDrag:c}=t;const u=sp(),[d,p]=(0,e.useState)(!1),h=(0,e.useRef)([]),f=(0,e.useRef)({x:null,y:null}),m=(0,e.useRef)(0),g=(0,e.useRef)(null),v=(0,e.useRef)({x:0,y:0}),y=(0,e.useRef)(null),b=(0,e.useRef)(!1),x=(0,e.useRef)(!1),w=(0,e.useRef)(!1),k=function(){const t=sp(),n=(0,e.useCallback)(e=>{let{sourceEvent:n}=e;const{transform:o,snapGrid:r,snapToGrid:a}=t.getState(),i=n.touches?n.touches[0].clientX:n.clientX,s=n.touches?n.touches[0].clientY:n.clientY,c={x:(i-o[0])/o[2],y:(s-o[1])/o[2]};return l({xSnapped:a?r[0]*Math.round(c.x/r[0]):c.x,ySnapped:a?r[1]*Math.round(c.y/r[1]):c.y},c)},[]);return n}();return(0,e.useEffect)(()=>{if(null!==n&&void 0!==n&&n.current){const e=kc(n.current),t=e=>{let{x:t,y:n}=e;const{nodeInternals:o,onNodeDrag:r,onSelectionDrag:a,updateNodePositions:s,nodeExtent:l,snapGrid:c,snapToGrid:d,nodeOrigin:m,onError:g}=u.getState();f.current={x:t,y:n};let v=!1,b={x:0,y:0,x2:0,y2:0};if(h.current.length>1&&l){const e=ch(h.current,m);b=bp(e)}if(h.current=h.current.map(e=>{const r={x:t-e.distance.x,y:n-e.distance.y};d&&(r.x=c[0]*Math.round(r.x/c[0]),r.y=c[1]*Math.round(r.y/c[1]));const a=[[l[0][0],l[0][1]],[l[1][0],l[1][1]]];var i,s;h.current.length>1&&l&&!e.extent&&(a[0][0]=e.positionAbsolute.x-b.x+l[0][0],a[1][0]=e.positionAbsolute.x+(null!==(i=e.width)&&void 0!==i?i:0)-b.x2+l[1][0],a[0][1]=e.positionAbsolute.y-b.y+l[0][1],a[1][1]=e.positionAbsolute.y+(null!==(s=e.height)&&void 0!==s?s:0)-b.y2+l[1][1]);const u=Af(e,r,o,a,m,g);return v=v||e.position.x!==u.position.x||e.position.y!==u.position.y,e.position=u.position,e.positionAbsolute=u.positionAbsolute,e}),!v)return;s(h.current,!0,!0),p(!0);const x=i?r:zf(a);if(x&&y.current){const[e,t]=Rf({nodeId:i,dragItems:h.current,nodeInternals:o});x(y.current,e,t)}},l=()=>{if(!g.current)return;const[e,n]=gp(v.current,g.current);if(0!==e||0!==n){var o,r;const{transform:a,panBy:i}=u.getState();f.current.x=(null!==(o=f.current.x)&&void 0!==o?o:0)-e/a[2],f.current.y=(null!==(r=f.current.y)&&void 0!==r?r:0)-n/a[2],i({x:e,y:n})&&t(f.current)}m.current=requestAnimationFrame(l)},d=e=>{const{nodeInternals:t,multiSelectionActive:o,nodesDraggable:r,unselectNodesAndEdges:a,onNodeDragStart:l,onSelectionDragStart:d}=u.getState();x.current=!0;const p=i?l:zf(d);var m;c&&s||o||!i||(null!==(m=t.get(i))&&void 0!==m&&m.selected||a());i&&s&&c&&Df({id:i,store:u,nodeRef:n});const g=k(e);if(f.current=g,h.current=Of(t,r,g,i),p&&h.current){const[n,o]=Rf({nodeId:i,dragItems:h.current,nodeInternals:t});p(e.sourceEvent,n,o)}};if(!o){const o=function(){var e,t,n,o,r=Ud,a=Bd,i=qd,s=Hd,l={},c=ll("start","drag","end"),u=0,d=0;function p(e){e.on("mousedown.drag",h).filter(s).on("touchstart.drag",g).on("touchmove.drag",v,Sc).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(i,s){if(!o&&r.call(this,i,s)){var l=b(this,a.call(this,i,s),i,s,"mouse");l&&(kc(i.view).on("mousemove.drag",f,_c).on("mouseup.drag",m,_c),Nc(i.view),Ec(i),n=!1,e=i.clientX,t=i.clientY,l("start",i))}}function f(o){if(jc(o),!n){var r=o.clientX-e,a=o.clientY-t;n=r*r+a*a>d}l.mouse("drag",o)}function m(e){kc(e.view).on("mousemove.drag mouseup.drag",null),Cc(e.view,n),jc(e),l.mouse("end",e)}function g(e,t){if(r.call(this,e,t)){var n,o,i=e.changedTouches,s=a.call(this,e,t),l=i.length;for(n=0;n<l;++n)(o=b(this,s,e,t,i[n].identifier,i[n]))&&(Ec(e),o("start",e,i[n]))}}function v(e){var t,n,o=e.changedTouches,r=o.length;for(t=0;t<r;++t)(n=l[o[t].identifier])&&(jc(e),n("drag",e,o[t]))}function y(e){var t,n,r=e.changedTouches,a=r.length;for(o&&clearTimeout(o),o=setTimeout(function(){o=null},500),t=0;t<a;++t)(n=l[r[t].identifier])&&(Ec(e),n("end",e,r[t]))}function b(e,t,n,o,r,a){var s,d,h,f=c.copy(),m=Oc(a||n,t);if(null!=(h=i.call(e,new Fd("beforestart",{sourceEvent:n,target:p,identifier:r,active:u,x:m[0],y:m[1],dx:0,dy:0,dispatch:f}),o)))return s=h.x-m[0]||0,d=h.y-m[1]||0,function n(a,i,c){var g,v=m;switch(a){case"start":l[r]=n,g=u++;break;case"end":delete l[r],--u;case"drag":m=Oc(c||i,t),g=u}f.call(a,e,new Fd(a,{sourceEvent:i,subject:h,target:p,identifier:r,active:g,x:m[0]+s,y:m[1]+d,dx:m[0]-v[0],dy:m[1]-v[1],dispatch:f}),o)}}return p.filter=function(e){return arguments.length?(r="function"===typeof e?e:Ld(!!e),p):r},p.container=function(e){return arguments.length?(a="function"===typeof e?e:Ld(e),p):a},p.subject=function(e){return arguments.length?(i="function"===typeof e?e:Ld(e),p):i},p.touchable=function(e){return arguments.length?(s="function"===typeof e?e:Ld(!!e),p):s},p.on=function(){var e=c.on.apply(c,arguments);return e===c?p:e},p.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,p):Math.sqrt(d)},p}().on("start",e=>{const{domNode:t,nodeDragThreshold:n}=u.getState();0===n&&d(e),w.current=!1;const o=k(e);f.current=o,g.current=(null===t||void 0===t?void 0:t.getBoundingClientRect())||null,v.current=Pp(e.sourceEvent,g.current)}).on("drag",e=>{const n=k(e),{autoPanOnNodeDrag:o,nodeDragThreshold:r}=u.getState();if("touchmove"===e.sourceEvent.type&&e.sourceEvent.touches.length>1&&(w.current=!0),!w.current){if(!b.current&&x.current&&o&&(b.current=!0,l()),!x.current){var a,i,s,c;const t=n.xSnapped-(null!==(a=null===f||void 0===f||null===(i=f.current)||void 0===i?void 0:i.x)&&void 0!==a?a:0),o=n.ySnapped-(null!==(s=null===f||void 0===f||null===(c=f.current)||void 0===c?void 0:c.y)&&void 0!==s?s:0);Math.sqrt(t*t+o*o)>r&&d(e)}(f.current.x!==n.xSnapped||f.current.y!==n.ySnapped)&&h.current&&x.current&&(y.current=e.sourceEvent,v.current=Pp(e.sourceEvent,g.current),t(n))}}).on("end",e=>{if(x.current&&!w.current&&(p(!1),b.current=!1,x.current=!1,cancelAnimationFrame(m.current),h.current)){const{updateNodePositions:t,nodeInternals:n,onNodeDragStop:o,onSelectionDragStop:r}=u.getState(),a=i?o:zf(r);if(t(h.current,!1,!1),a){const[t,o]=Rf({nodeId:i,dragItems:h.current,nodeInternals:n});a(e.sourceEvent,t,o)}}}).filter(e=>{const t=e.target;return!e.button&&(!r||!Tf(t,".".concat(r),n))&&(!a||Tf(t,a,n))});return e.call(o),()=>{e.on(".drag",null)}}e.on(".drag",null)}},[n,o,r,a,s,u,i,c,k]),d}function Ff(){const t=sp();return(0,e.useCallback)(e=>{const{nodeInternals:n,nodeExtent:o,updateNodePositions:r,getNodes:a,snapToGrid:i,snapGrid:s,onError:l,nodesDraggable:c}=t.getState(),u=a().filter(e=>e.selected&&(e.draggable||c&&"undefined"===typeof e.draggable)),d=i?s[0]:5,p=i?s[1]:5,h=e.isShiftPressed?4:1,f=e.x*d*h,m=e.y*p*h;r(u.map(e=>{if(e.positionAbsolute){const t={x:e.positionAbsolute.x+f,y:e.positionAbsolute.y+m};i&&(t.x=s[0]*Math.round(t.x/s[0]),t.y=s[1]*Math.round(t.y/s[1]));const{positionAbsolute:r,position:a}=Af(e,t,n,o,void 0,l);e.position=a,e.positionAbsolute=r}return e}),!0,!1)},[])}const Uf={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Bf=t=>{const n=n=>{let{id:o,type:r,data:a,xPos:i,yPos:s,xPosOrigin:c,yPosOrigin:u,selected:d,onClick:p,onMouseEnter:h,onMouseMove:f,onMouseLeave:m,onContextMenu:g,onDoubleClick:v,style:y,className:b,isDraggable:x,isSelectable:w,isConnectable:k,isFocusable:S,selectNodesOnDrag:_,sourcePosition:E,targetPosition:j,hidden:N,resizeObserver:C,dragHandle:P,zIndex:T,isParent:O,noDragClassName:A,noPanClassName:R,initialized:M,disableKeyboardA11y:I,ariaLabel:D,rfId:z,hasHandleBounds:L}=n;const F=sp(),U=(0,e.useRef)(null),B=(0,e.useRef)(null),q=(0,e.useRef)(E),H=(0,e.useRef)(j),V=(0,e.useRef)(r),W=w||x||p||h||f||m,K=Ff(),G=If(o,F.getState,h),Y=If(o,F.getState,f),X=If(o,F.getState,m),$=If(o,F.getState,g),J=If(o,F.getState,v);(0,e.useEffect)(()=>()=>{B.current&&(null===C||void 0===C||C.unobserve(B.current),B.current=null)},[]),(0,e.useEffect)(()=>{if(U.current&&!N){const e=U.current;M&&L&&B.current===e||(B.current&&(null===C||void 0===C||C.unobserve(B.current)),null===C||void 0===C||C.observe(e),B.current=e)}},[N,M,L]),(0,e.useEffect)(()=>{const e=V.current!==r,t=q.current!==E,n=H.current!==j;U.current&&(e||t||n)&&(e&&(V.current=r),t&&(q.current=E),n&&(H.current=j),F.getState().updateNodeDimensions([{id:o,nodeElement:U.current,forceUpdate:!0}]))},[o,r,E,j]);const Q=Lf({nodeRef:U,disabled:N||!x,noDragClassName:A,handleSelector:P,nodeId:o,isSelectable:w,selectNodesOnDrag:_});return N?null:e.createElement("div",{className:Gs(["react-flow__node","react-flow__node-".concat(r),{[R]:x},b,{selected:d,selectable:w,parent:O,dragging:Q}]),ref:U,style:l({zIndex:T,transform:"translate(".concat(c,"px,").concat(u,"px)"),pointerEvents:W?"all":"none",visibility:M?"visible":"hidden"},y),"data-id":o,"data-testid":"rf__node-".concat(o),onMouseEnter:G,onMouseMove:Y,onMouseLeave:X,onContextMenu:$,onClick:e=>{const{nodeDragThreshold:t}=F.getState();if(w&&(!_||!x||t>0)&&Df({id:o,store:F,nodeRef:U}),p){const t=F.getState().nodeInternals.get(o);t&&p(e,l({},t))}},onDoubleClick:J,onKeyDown:S?e=>{if(!Np(e)&&!I)if(Ep.includes(e.key)&&w){const t="Escape"===e.key;Df({id:o,store:F,unselect:t,nodeRef:U})}else x&&d&&Object.prototype.hasOwnProperty.call(Uf,e.key)&&(F.setState({ariaLiveMessage:"Moved selected node ".concat(e.key.replace("Arrow","").toLowerCase(),". New position, x: ").concat(~~i,", y: ").concat(~~s)}),K({x:Uf[e.key].x,y:Uf[e.key].y,isShiftPressed:e.shiftKey}))}:void 0,tabIndex:S?0:void 0,role:S?"button":void 0,"aria-describedby":I?void 0:"".concat(Wh,"-").concat(z),"aria-label":D},e.createElement(nh,{value:o},e.createElement(t,{id:o,data:a,type:r,xPos:i,yPos:s,selected:d,isConnectable:k,sourcePosition:E,targetPosition:j,dragging:Q,dragHandle:P,zIndex:T})))};return n.displayName="NodeWrapper",(0,e.memo)(n)};const qf=e=>{const t=e.getNodes().filter(e=>e.selected);return l(l({},ch(t,e.nodeOrigin)),{},{transformString:"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")"),userSelectionActive:e.userSelectionActive})};var Hf=(0,e.memo)(function(t){let{onSelectionContextMenu:n,noPanClassName:o,disableKeyboardA11y:r}=t;const a=sp(),{width:i,height:s,x:l,y:c,transformString:u,userSelectionActive:d}=ip(qf,nl),p=Ff(),h=(0,e.useRef)(null);if((0,e.useEffect)(()=>{var e;r||(null===(e=h.current)||void 0===e||e.focus({preventScroll:!0}))},[r]),Lf({nodeRef:h}),d||!i||!s)return null;const f=n?e=>{const t=a.getState().getNodes().filter(e=>e.selected);n(e,t)}:void 0;return e.createElement("div",{className:Gs(["react-flow__nodesselection","react-flow__container",o]),style:{transform:u}},e.createElement("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:r?void 0:-1,onKeyDown:r?void 0:e=>{Object.prototype.hasOwnProperty.call(Uf,e.key)&&p({x:Uf[e.key].x,y:Uf[e.key].y,isShiftPressed:e.shiftKey})},style:{width:i,height:s,top:c,left:l}}))});const Vf=e=>e.nodesSelectionActive,Wf=t=>{let{children:n,onPaneClick:o,onPaneMouseEnter:r,onPaneMouseMove:a,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:l,deleteKeyCode:c,onMove:u,onMoveStart:d,onMoveEnd:p,selectionKeyCode:h,selectionOnDrag:f,selectionMode:m,onSelectionStart:g,onSelectionEnd:v,multiSelectionKeyCode:y,panActivationKeyCode:b,zoomActivationKeyCode:x,elementsSelectable:w,zoomOnScroll:k,zoomOnPinch:S,panOnScroll:_,panOnScrollSpeed:E,panOnScrollMode:j,zoomOnDoubleClick:N,panOnDrag:C,defaultViewport:P,translateExtent:T,minZoom:O,maxZoom:A,preventScrolling:R,onSelectionContextMenu:M,noWheelClassName:I,noPanClassName:D,disableKeyboardA11y:z}=t;const L=ip(Vf),F=$h(h),U=$h(b),B=U||C,q=U||_,H=F||f&&!0!==B;return(t=>{let{deleteKeyCode:n,multiSelectionKeyCode:o}=t;const r=sp(),{deleteElements:a}=uf(),i=$h(n,df),s=$h(o);(0,e.useEffect)(()=>{if(i){const{edges:e,getNodes:t}=r.getState(),n=t().filter(e=>e.selected),o=e.filter(e=>e.selected);a({nodes:n,edges:o}),r.setState({nodesSelectionActive:!1})}},[i]),(0,e.useEffect)(()=>{r.setState({multiSelectionActive:s})},[s])})({deleteKeyCode:c,multiSelectionKeyCode:y}),e.createElement(yf,{onMove:u,onMoveStart:d,onMoveEnd:p,onPaneContextMenu:s,elementsSelectable:w,zoomOnScroll:k,zoomOnPinch:S,panOnScroll:q,panOnScrollSpeed:E,panOnScrollMode:j,zoomOnDoubleClick:N,panOnDrag:!F&&B,defaultViewport:P,translateExtent:T,minZoom:O,maxZoom:A,zoomActivationKeyCode:x,preventScrolling:R,noWheelClassName:I,noPanClassName:D},e.createElement(Cf,{onSelectionStart:g,onSelectionEnd:v,onPaneClick:o,onPaneMouseEnter:r,onPaneMouseMove:a,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:l,panOnDrag:B,isSelecting:!!H,selectionMode:m},n,L&&e.createElement(Hf,{onSelectionContextMenu:M,noPanClassName:D,disableKeyboardA11y:z})))};Wf.displayName="FlowRenderer";var Kf=(0,e.memo)(Wf);function Gf(e){const t={input:Bf(e.input||Ph),default:Bf(e.default||Nh),output:Bf(e.output||Oh),group:Bf(e.group||Ah)},n=Object.keys(e).filter(e=>!["input","default","output","group"].includes(e)).reduce((t,n)=>(t[n]=Bf(e[n]||Nh),t),{});return l(l({},t),n)}const Yf=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),Xf=t=>{const{nodesDraggable:n,nodesConnectable:o,nodesFocusable:r,elementsSelectable:a,updateNodeDimensions:i,onError:s}=ip(Yf,nl),l=(c=t.onlyRenderVisibleElements,ip((0,e.useCallback)(e=>c?uh(e.nodeInternals,{x:0,y:0,width:e.width,height:e.height},e.transform,!0):e.getNodes(),[c])));var c;const u=(0,e.useRef)(),d=(0,e.useMemo)(()=>{if("undefined"===typeof ResizeObserver)return null;const e=new ResizeObserver(e=>{const t=e.map(e=>({id:e.target.getAttribute("data-id"),nodeElement:e.target,forceUpdate:!0}));i(t)});return u.current=e,e},[]);return(0,e.useEffect)(()=>()=>{var e;null===u||void 0===u||null===(e=u.current)||void 0===e||e.disconnect()},[]),e.createElement("div",{className:"react-flow__nodes",style:pf},l.map(i=>{var l,c,u,p,h,f,m,g;let v=i.type||"default";t.nodeTypes[v]||(null===s||void 0===s||s("003",$d(v)),v="default");const y=t.nodeTypes[v]||t.nodeTypes.default,b=!!(i.draggable||n&&"undefined"===typeof i.draggable),x=!!(i.selectable||a&&"undefined"===typeof i.selectable),w=!!(i.connectable||o&&"undefined"===typeof i.connectable),k=!!(i.focusable||r&&"undefined"===typeof i.focusable),S=t.nodeExtent?fp(i.positionAbsolute,t.nodeExtent):i.positionAbsolute,_=null!==(l=null===S||void 0===S?void 0:S.x)&&void 0!==l?l:0,E=null!==(c=null===S||void 0===S?void 0:S.y)&&void 0!==c?c:0,j=(e=>{let{x:t,y:n,width:o,height:r,origin:a}=e;return o&&r?a[0]<0||a[1]<0||a[0]>1||a[1]>1?{x:t,y:n}:{x:t-o*a[0],y:n-r*a[1]}:{x:t,y:n}})({x:_,y:E,width:null!==(u=i.width)&&void 0!==u?u:0,height:null!==(p=i.height)&&void 0!==p?p:0,origin:t.nodeOrigin});return e.createElement(y,{key:i.id,id:i.id,className:i.className,style:i.style,type:v,data:i.data,sourcePosition:i.sourcePosition||Up.Bottom,targetPosition:i.targetPosition||Up.Top,hidden:i.hidden,xPos:_,yPos:E,xPosOrigin:j.x,yPosOrigin:j.y,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!i.selected,isDraggable:b,isSelectable:x,isConnectable:w,isFocusable:k,resizeObserver:d,dragHandle:i.dragHandle,zIndex:null!==(h=null===(f=i[_p])||void 0===f?void 0:f.z)&&void 0!==h?h:0,isParent:!(null===(m=i[_p])||void 0===m||!m.isParent),noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!i.width&&!!i.height,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,ariaLabel:i.ariaLabel,hasHandleBounds:!(null===(g=i[_p])||void 0===g||!g.handleBounds)})}))};Xf.displayName="NodeRenderer";var $f=(0,e.memo)(Xf);const Jf=(e,t,n)=>n===Up.Left?e-t:n===Up.Right?e+t:e,Qf=(e,t,n)=>n===Up.Top?e-t:n===Up.Bottom?e+t:e,Zf="react-flow__edgeupdater",em=t=>{let{position:n,centerX:o,centerY:r,radius:a=10,onMouseDown:i,onMouseEnter:s,onMouseOut:l,type:c}=t;return e.createElement("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:l,className:Gs([Zf,"".concat(Zf,"-").concat(c)]),cx:Jf(o,a,n),cy:Qf(r,a,n),r:a,stroke:"transparent",fill:"transparent"})},tm=()=>!0;var nm=t=>{const n=n=>{let{id:o,className:r,type:a,data:i,onClick:s,onEdgeDoubleClick:l,selected:c,animated:u,label:d,labelStyle:p,labelShowBg:h,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:g,style:v,source:y,target:b,sourceX:x,sourceY:w,targetX:k,targetY:S,sourcePosition:_,targetPosition:E,elementsSelectable:j,hidden:N,sourceHandleId:C,targetHandleId:P,onContextMenu:T,onMouseEnter:O,onMouseMove:A,onMouseLeave:R,reconnectRadius:M,onReconnect:I,onReconnectStart:D,onReconnectEnd:z,markerEnd:L,markerStart:F,rfId:U,ariaLabel:B,isFocusable:q,isReconnectable:H,pathOptions:V,interactionWidth:W,disableKeyboardA11y:K}=n;const G=(0,e.useRef)(null),[Y,X]=(0,e.useState)(!1),[$,J]=(0,e.useState)(!1),Q=sp(),Z=(0,e.useMemo)(()=>"url('#".concat(rh(F,U),"')"),[F,U]),ee=(0,e.useMemo)(()=>"url('#".concat(rh(L,U),"')"),[L,U]);if(N)return null;const te=Ap(o,Q.getState,l),ne=Ap(o,Q.getState,T),oe=Ap(o,Q.getState,O),re=Ap(o,Q.getState,A),ae=Ap(o,Q.getState,R),ie=(e,t)=>{if(0!==e.button)return;const{edges:n,isValidConnection:r}=Q.getState(),a=t?b:y,i=(t?P:C)||null,s=t?"target":"source",l=r||tm,c=t,u=n.find(e=>e.id===o);J(!0),null===D||void 0===D||D(e,u,s);wh({event:e,handleId:i,nodeId:a,onConnect:e=>null===I||void 0===I?void 0:I(u,e),isTarget:c,getState:Q.getState,setState:Q.setState,isValidConnection:l,edgeUpdaterType:s,onReconnectEnd:e=>{J(!1),null===z||void 0===z||z(e,u,s)}})},se=()=>X(!0),le=()=>X(!1),ce=!j&&!s;return e.createElement("g",{className:Gs(["react-flow__edge","react-flow__edge-".concat(a),r,{selected:c,animated:u,inactive:ce,updating:Y}]),onClick:e=>{const{edges:t,addSelectedEdges:n,unselectNodesAndEdges:r,multiSelectionActive:a}=Q.getState(),i=t.find(e=>e.id===o);if(i){var l;if(j)if(Q.setState({nodesSelectionActive:!1}),i.selected&&a)r({nodes:[],edges:[i]}),null===(l=G.current)||void 0===l||l.blur();else n([o]);s&&s(e,i)}},onDoubleClick:te,onContextMenu:ne,onMouseEnter:oe,onMouseMove:re,onMouseLeave:ae,onKeyDown:q?e=>{if(!K&&Ep.includes(e.key)&&j){const{unselectNodesAndEdges:n,addSelectedEdges:r,edges:a}=Q.getState();var t;if("Escape"===e.key)null===(t=G.current)||void 0===t||t.blur(),n({edges:[a.find(e=>e.id===o)]});else r([o])}}:void 0,tabIndex:q?0:void 0,role:q?"button":"img","data-testid":"rf__edge-".concat(o),"aria-label":null===B?void 0:B||"Edge from ".concat(y," to ").concat(b),"aria-describedby":q?"".concat(Kh,"-").concat(U):void 0,ref:G},!$&&e.createElement(t,{id:o,source:y,target:b,selected:c,animated:u,label:d,labelStyle:p,labelShowBg:h,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:g,data:i,style:v,sourceX:x,sourceY:w,targetX:k,targetY:S,sourcePosition:_,targetPosition:E,sourceHandleId:C,targetHandleId:P,markerStart:Z,markerEnd:ee,pathOptions:V,interactionWidth:W}),H&&e.createElement(e.Fragment,null,("source"===H||!0===H)&&e.createElement(em,{position:_,centerX:x,centerY:w,radius:M,onMouseDown:e=>ie(e,!0),onMouseEnter:se,onMouseOut:le,type:"source"}),("target"===H||!0===H)&&e.createElement(em,{position:E,centerX:k,centerY:S,radius:M,onMouseDown:e=>ie(e,!1),onMouseEnter:se,onMouseOut:le,type:"target"})))};return n.displayName="EdgeWrapper",(0,e.memo)(n)};function om(e){const t={default:nm(e.default||eh),straight:nm(e.bezier||$p),step:nm(e.step||Xp),smoothstep:nm(e.step||Yp),simplebezier:nm(e.simplebezier||Hp)},n=Object.keys(e).filter(e=>!["default","bezier"].includes(e)).reduce((t,n)=>(t[n]=nm(e[n]||eh),t),{});return l(l({},t),n)}function rm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const o=((null===n||void 0===n?void 0:n.x)||0)+t.x,r=((null===n||void 0===n?void 0:n.y)||0)+t.y,a=(null===n||void 0===n?void 0:n.width)||t.width,i=(null===n||void 0===n?void 0:n.height)||t.height;switch(e){case Up.Top:return{x:o+a/2,y:r};case Up.Right:return{x:o+a,y:r+i/2};case Up.Bottom:return{x:o+a/2,y:r+i};case Up.Left:return{x:o,y:r+i/2}}}function am(e,t){return e?1!==e.length&&t?t&&e.find(e=>e.id===t)||null:e[0]:null}function im(e){var t,n,o,r,a;const i=(null===e||void 0===e||null===(t=e[_p])||void 0===t?void 0:t.handleBounds)||null,s=i&&(null===e||void 0===e?void 0:e.width)&&(null===e||void 0===e?void 0:e.height)&&"undefined"!==typeof(null===e||void 0===e||null===(n=e.positionAbsolute)||void 0===n?void 0:n.x)&&"undefined"!==typeof(null===e||void 0===e||null===(o=e.positionAbsolute)||void 0===o?void 0:o.y);return[{x:(null===e||void 0===e||null===(r=e.positionAbsolute)||void 0===r?void 0:r.x)||0,y:(null===e||void 0===e||null===(a=e.positionAbsolute)||void 0===a?void 0:a.y)||0,width:(null===e||void 0===e?void 0:e.width)||0,height:(null===e||void 0===e?void 0:e.height)||0},i,!!s]}const sm=[{level:0,isMaxLevel:!0,edges:[]}];function lm(t,n,o){const r=ip((0,e.useCallback)(e=>t?e.edges.filter(t=>{const o=n.get(t.source),r=n.get(t.target);return(null===o||void 0===o?void 0:o.width)&&(null===o||void 0===o?void 0:o.height)&&(null===r||void 0===r?void 0:r.width)&&(null===r||void 0===r?void 0:r.height)&&function(e){let{sourcePos:t,targetPos:n,sourceWidth:o,sourceHeight:r,targetWidth:a,targetHeight:i,width:s,height:l,transform:c}=e;const u={x:Math.min(t.x,n.x),y:Math.min(t.y,n.y),x2:Math.max(t.x+o,n.x+a),y2:Math.max(t.y+r,n.y+i)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=bp({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:s/c[2],height:l/c[2]}),p=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),h=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(p*h)>0}({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:r.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:r.width,targetHeight:r.height,width:e.width,height:e.height,transform:e.transform})}):e.edges,[t,n]));return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=-1;const r=e.reduce((e,r)=>{const a=Sp(r.zIndex);let i=a?r.zIndex:0;if(n){var s,l;const e=t.get(r.target),n=t.get(r.source),o=r.selected||(null===e||void 0===e?void 0:e.selected)||(null===n||void 0===n?void 0:n.selected),c=Math.max((null===n||void 0===n||null===(s=n[_p])||void 0===s?void 0:s.z)||0,(null===e||void 0===e||null===(l=e[_p])||void 0===l?void 0:l.z)||0,1e3);i=(a?r.zIndex:0)+(o?c:0)}return e[i]?e[i].push(r):e[i]=[r],o=i>o?i:o,e},{}),a=Object.entries(r).map(e=>{let[t,n]=e;const r=+t;return{edges:n,level:r,isMaxLevel:r===o}});return 0===a.length?sm:a}(r,n,o)}const cm={[Fp.Arrow]:t=>{let{color:n="none",strokeWidth:o=1}=t;return e.createElement("polyline",{style:{stroke:n,strokeWidth:o},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"})},[Fp.ArrowClosed]:t=>{let{color:n="none",strokeWidth:o=1}=t;return e.createElement("polyline",{style:{stroke:n,fill:n,strokeWidth:o},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})}};const um=t=>{let{id:n,type:o,color:r,width:a=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:l,orient:c="auto-start-reverse"}=t;const u=function(t){const n=sp();return(0,e.useMemo)(()=>{var e,o;return Object.prototype.hasOwnProperty.call(cm,t)?cm[t]:(null===(e=(o=n.getState()).onError)||void 0===e||e.call(o,"009",ep(t)),null)},[t])}(o);return u?e.createElement("marker",{className:"react-flow__arrowhead",id:n,markerWidth:"".concat(a),markerHeight:"".concat(i),viewBox:"-10 -10 20 20",markerUnits:s,orient:c,refX:"0",refY:"0"},e.createElement(u,{color:r,strokeWidth:l})):null},dm=t=>{let{defaultColor:n,rfId:o}=t;const r=ip((0,e.useCallback)((e=>{let{defaultColor:t,rfId:n}=e;return e=>{const o=[];return e.edges.reduce((e,r)=>([r.markerStart,r.markerEnd].forEach(r=>{if(r&&"object"===typeof r){const a=rh(r,n);o.includes(a)||(e.push(l({id:a,color:r.color||t},r)),o.push(a))}}),e),[]).sort((e,t)=>e.id.localeCompare(t.id))}})({defaultColor:n,rfId:o}),[n,o]),(e,t)=>!(e.length!==t.length||e.some((e,n)=>e.id!==t[n].id)));return e.createElement("defs",null,r.map(t=>e.createElement(um,{id:t.id,key:t.id,type:t.type,color:t.color,width:t.width,height:t.height,markerUnits:t.markerUnits,strokeWidth:t.strokeWidth,orient:t.orient})))};dm.displayName="MarkerDefinitions";var pm=(0,e.memo)(dm);const hm=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),fm=t=>{let{defaultMarkerColor:n,onlyRenderVisibleElements:o,elevateEdgesOnSelect:r,rfId:a,edgeTypes:i,noPanClassName:s,onEdgeContextMenu:l,onEdgeMouseEnter:c,onEdgeMouseMove:u,onEdgeMouseLeave:d,onEdgeClick:p,onEdgeDoubleClick:h,onReconnect:f,onReconnectStart:m,onReconnectEnd:g,reconnectRadius:v,children:y,disableKeyboardA11y:b}=t;const{edgesFocusable:x,edgesUpdatable:w,elementsSelectable:k,width:S,height:_,connectionMode:E,nodeInternals:j,onError:N}=ip(hm,nl),C=lm(o,j,r);return S?e.createElement(e.Fragment,null,C.map(t=>{let{level:o,edges:r,isMaxLevel:y}=t;return e.createElement("svg",{key:o,style:{zIndex:o},width:S,height:_,className:"react-flow__edges react-flow__container"},y&&e.createElement(pm,{defaultColor:n,rfId:a}),e.createElement("g",null,r.map(t=>{var n,o;const[r,y,S]=im(j.get(t.source)),[_,C,P]=im(j.get(t.target));if(!S||!P)return null;let T=t.type||"default";i[T]||(null===N||void 0===N||N("011",op(T)),T="default");const O=i[T]||i.default,A=E===Ip.Strict?C.target:(null!==(n=C.target)&&void 0!==n?n:[]).concat(null!==(o=C.source)&&void 0!==o?o:[]),R=am(y.source,t.sourceHandle),M=am(A,t.targetHandle),I=(null===R||void 0===R?void 0:R.position)||Up.Bottom,D=(null===M||void 0===M?void 0:M.position)||Up.Top,z=!!(t.focusable||x&&"undefined"===typeof t.focusable),L=t.reconnectable||t.updatable,F="undefined"!==typeof f&&(L||w&&"undefined"===typeof L);if(!R||!M)return null===N||void 0===N||N("008",tp(R,t)),null;const{sourceX:U,sourceY:B,targetX:q,targetY:H}=((e,t,n,o,r,a)=>{const i=rm(n,e,t),s=rm(a,o,r);return{sourceX:i.x,sourceY:i.y,targetX:s.x,targetY:s.y}})(r,R,I,_,M,D);return e.createElement(O,{key:t.id,id:t.id,className:Gs([t.className,s]),type:T,data:t.data,selected:!!t.selected,animated:!!t.animated,hidden:!!t.hidden,label:t.label,labelStyle:t.labelStyle,labelShowBg:t.labelShowBg,labelBgStyle:t.labelBgStyle,labelBgPadding:t.labelBgPadding,labelBgBorderRadius:t.labelBgBorderRadius,style:t.style,source:t.source,target:t.target,sourceHandleId:t.sourceHandle,targetHandleId:t.targetHandle,markerEnd:t.markerEnd,markerStart:t.markerStart,sourceX:U,sourceY:B,targetX:q,targetY:H,sourcePosition:I,targetPosition:D,elementsSelectable:k,onContextMenu:l,onMouseEnter:c,onMouseMove:u,onMouseLeave:d,onClick:p,onEdgeDoubleClick:h,onReconnect:f,onReconnectStart:m,onReconnectEnd:g,reconnectRadius:v,rfId:a,ariaLabel:t.ariaLabel,isFocusable:z,isReconnectable:F,pathOptions:"pathOptions"in t?t.pathOptions:void 0,interactionWidth:t.interactionWidth,disableKeyboardA11y:b})})))}),y):null};fm.displayName="EdgeRenderer";var mm=(0,e.memo)(fm);const gm=e=>"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")");function vm(t){let{children:n}=t;const o=ip(gm);return e.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:o}},n)}const ym={[Up.Left]:Up.Right,[Up.Right]:Up.Left,[Up.Top]:Up.Bottom,[Up.Bottom]:Up.Top},bm=t=>{var n,o,r,a,i,s,c;let{nodeId:u,handleType:d,style:p,type:h=Lp.Bezier,CustomComponent:f,connectionStatus:m}=t;const{fromNode:g,handleId:v,toX:y,toY:b,connectionMode:x}=ip((0,e.useCallback)(e=>({fromNode:e.nodeInternals.get(u),handleId:e.connectionHandleId,toX:(e.connectionPosition.x-e.transform[0])/e.transform[2],toY:(e.connectionPosition.y-e.transform[1])/e.transform[2],connectionMode:e.connectionMode}),[u]),nl),w=null===g||void 0===g||null===(n=g[_p])||void 0===n?void 0:n.handleBounds;let k=null===w||void 0===w?void 0:w[d];if(x===Ip.Loose&&(k=k||(null===w||void 0===w?void 0:w["source"===d?"target":"source"])),!g||!k)return null;const S=v?k.find(e=>e.id===v):k[0],_=S?S.x+S.width/2:(null!==(o=g.width)&&void 0!==o?o:0)/2,E=S?S.y+S.height/2:null!==(r=g.height)&&void 0!==r?r:0,j=(null!==(a=null===(i=g.positionAbsolute)||void 0===i?void 0:i.x)&&void 0!==a?a:0)+_,N=(null!==(s=null===(c=g.positionAbsolute)||void 0===c?void 0:c.y)&&void 0!==s?s:0)+E,C=null===S||void 0===S?void 0:S.position,P=C?ym[C]:null;if(!C||!P)return null;if(f)return e.createElement(f,{connectionLineType:h,connectionLineStyle:p,fromNode:g,fromHandle:S,fromX:j,fromY:N,toX:y,toY:b,fromPosition:C,toPosition:P,connectionStatus:m});let T="";const O={sourceX:j,sourceY:N,sourcePosition:C,targetX:y,targetY:b,targetPosition:P};return h===Lp.Bezier?[T]=Zp(O):h===Lp.Step?[T]=Gp(l(l({},O),{},{borderRadius:0})):h===Lp.SmoothStep?[T]=Gp(O):h===Lp.SimpleBezier?[T]=qp(O):T="M".concat(j,",").concat(N," ").concat(y,",").concat(b),e.createElement("path",{d:T,fill:"none",className:"react-flow__connection-path",style:p})};bm.displayName="ConnectionLine";const xm=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function wm(t){let{containerStyle:n,style:o,type:r,component:a}=t;const{nodeId:i,handleType:s,nodesConnectable:l,width:c,height:u,connectionStatus:d}=ip(xm,nl);return!!(i&&s&&c&&l)?e.createElement("svg",{style:n,width:c,height:u,className:"react-flow__edges react-flow__connectionline react-flow__container"},e.createElement("g",{className:Gs(["react-flow__connection",d])},e.createElement(bm,{nodeId:i,handleType:s,style:o,type:r,CustomComponent:a,connectionStatus:d}))):null}function km(t,n){(0,e.useRef)(null),sp();return(0,e.useMemo)(()=>n(t),[t])}const Sm=t=>{let{nodeTypes:n,edgeTypes:o,onMove:r,onMoveStart:a,onMoveEnd:i,onInit:s,onNodeClick:l,onEdgeClick:c,onNodeDoubleClick:u,onEdgeDoubleClick:d,onNodeMouseEnter:p,onNodeMouseMove:h,onNodeMouseLeave:f,onNodeContextMenu:m,onSelectionContextMenu:g,onSelectionStart:v,onSelectionEnd:y,connectionLineType:b,connectionLineStyle:x,connectionLineComponent:w,connectionLineContainerStyle:k,selectionKeyCode:S,selectionOnDrag:_,selectionMode:E,multiSelectionKeyCode:j,panActivationKeyCode:N,zoomActivationKeyCode:C,deleteKeyCode:P,onlyRenderVisibleElements:T,elementsSelectable:O,selectNodesOnDrag:A,defaultViewport:R,translateExtent:M,minZoom:I,maxZoom:D,preventScrolling:z,defaultMarkerColor:L,zoomOnScroll:F,zoomOnPinch:U,panOnScroll:B,panOnScrollSpeed:q,panOnScrollMode:H,zoomOnDoubleClick:V,panOnDrag:W,onPaneClick:K,onPaneMouseEnter:G,onPaneMouseMove:Y,onPaneMouseLeave:X,onPaneScroll:$,onPaneContextMenu:J,onEdgeContextMenu:Q,onEdgeMouseEnter:Z,onEdgeMouseMove:ee,onEdgeMouseLeave:te,onReconnect:ne,onReconnectStart:oe,onReconnectEnd:re,reconnectRadius:ae,noDragClassName:ie,noWheelClassName:se,noPanClassName:le,elevateEdgesOnSelect:ce,disableKeyboardA11y:ue,nodeOrigin:de,nodeExtent:pe,rfId:he}=t;const fe=km(n,Gf),me=km(o,om);return function(t){const n=uf(),o=(0,e.useRef)(!1);(0,e.useEffect)(()=>{!o.current&&n.viewportInitialized&&t&&(setTimeout(()=>t(n),1),o.current=!0)},[t,n.viewportInitialized])}(s),e.createElement(Kf,{onPaneClick:K,onPaneMouseEnter:G,onPaneMouseMove:Y,onPaneMouseLeave:X,onPaneContextMenu:J,onPaneScroll:$,deleteKeyCode:P,selectionKeyCode:S,selectionOnDrag:_,selectionMode:E,onSelectionStart:v,onSelectionEnd:y,multiSelectionKeyCode:j,panActivationKeyCode:N,zoomActivationKeyCode:C,elementsSelectable:O,onMove:r,onMoveStart:a,onMoveEnd:i,zoomOnScroll:F,zoomOnPinch:U,zoomOnDoubleClick:V,panOnScroll:B,panOnScrollSpeed:q,panOnScrollMode:H,panOnDrag:W,defaultViewport:R,translateExtent:M,minZoom:I,maxZoom:D,onSelectionContextMenu:g,preventScrolling:z,noDragClassName:ie,noWheelClassName:se,noPanClassName:le,disableKeyboardA11y:ue},e.createElement(vm,null,e.createElement(mm,{edgeTypes:me,onEdgeClick:c,onEdgeDoubleClick:d,onlyRenderVisibleElements:T,onEdgeContextMenu:Q,onEdgeMouseEnter:Z,onEdgeMouseMove:ee,onEdgeMouseLeave:te,onReconnect:ne,onReconnectStart:oe,onReconnectEnd:re,reconnectRadius:ae,defaultMarkerColor:L,noPanClassName:le,elevateEdgesOnSelect:!!ce,disableKeyboardA11y:ue,rfId:he},e.createElement(wm,{style:x,type:b,component:w,containerStyle:k})),e.createElement("div",{className:"react-flow__edgelabel-renderer"}),e.createElement($f,{nodeTypes:fe,onNodeClick:l,onNodeDoubleClick:u,onNodeMouseEnter:p,onNodeMouseMove:h,onNodeMouseLeave:f,onNodeContextMenu:m,selectNodesOnDrag:A,onlyRenderVisibleElements:T,noPanClassName:le,noDragClassName:ie,disableKeyboardA11y:ue,nodeOrigin:de,nodeExtent:pe,rfId:he})))};Sm.displayName="GraphView";var _m=(0,e.memo)(Sm);const Em=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],jm={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Em,nodeExtent:Em,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Ip.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:jp,isValidConnection:void 0},Nm=()=>{return e=(e,t)=>l(l({},jm),{},{setNodes:n=>{const{nodeInternals:o,nodeOrigin:r,elevateNodesOnSelect:a}=t();e({nodeInternals:tf(n,o,r,a)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:o={}}=t();e({edges:n.map(e=>l(l({},o),e))})},setDefaultNodesAndEdges:(n,o)=>{const r="undefined"!==typeof n,a="undefined"!==typeof o,i=r?tf(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:i,edges:a?o:[],hasDefaultNodes:r,hasDefaultEdges:a})},updateNodeDimensions:n=>{const{onNodesChange:o,nodeInternals:r,fitViewOnInit:a,fitViewOnInitDone:i,fitViewOnInitOptions:s,domNode:c,nodeOrigin:u}=t(),d=null===c||void 0===c?void 0:c.querySelector(".react-flow__viewport");if(!d)return;const p=window.getComputedStyle(d),{m22:h}=new window.DOMMatrixReadOnly(p.transform),f=n.reduce((e,t)=>{const n=r.get(t.id);if(null!==n&&void 0!==n&&n.hidden)r.set(n.id,l(l({},n),{},{[_p]:l(l({},n[_p]),{},{handleBounds:void 0})}));else if(n){const o=pp(t.nodeElement);o.width&&o.height&&(n.width!==o.width||n.height!==o.height||t.forceUpdate)&&(r.set(n.id,l(l({},n),{},{[_p]:l(l({},n[_p]),{},{handleBounds:{source:Mf(".source",t.nodeElement,h,u),target:Mf(".target",t.nodeElement,h,u)}})},o)),e.push({id:n.id,type:"dimensions",dimensions:o}))}return e},[]);ef(r,u);const m=i||a&&!i&&nf(t,l({initial:!0},s));e({nodeInternals:new Map(r),fitViewOnInitDone:m}),(null===f||void 0===f?void 0:f.length)>0&&(null===o||void 0===o||o(f))},updateNodePositions:function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{triggerNodeChanges:r}=t(),a=e.map(e=>{const t={id:e.id,type:"position",dragging:o};return n&&(t.positionAbsolute=e.positionAbsolute,t.position=e.position),t});r(a)},triggerNodeChanges:n=>{const{onNodesChange:o,nodeInternals:r,hasDefaultNodes:a,nodeOrigin:i,getNodes:s,elevateNodesOnSelect:l}=t();if(null!==n&&void 0!==n&&n.length){if(a){const t=tf(Sf(n,s()),r,i,l);e({nodeInternals:t})}null===o||void 0===o||o(n)}},addSelectedNodes:n=>{const{multiSelectionActive:o,edges:r,getNodes:a}=t();let i,s=null;o?i=n.map(e=>_f(e,!0)):(i=Ef(a(),n),s=Ef(r,[])),af({changedNodes:i,changedEdges:s,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:o,edges:r,getNodes:a}=t();let i,s=null;o?i=n.map(e=>_f(e,!0)):(i=Ef(r,n),s=Ef(a(),[])),af({changedNodes:s,changedEdges:i,get:t,set:e})},unselectNodesAndEdges:function(){let{nodes:n,edges:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{edges:r,getNodes:a}=t(),i=o||r;af({changedNodes:(n||a()).map(e=>(e.selected=!1,_f(e.id,!1))),changedEdges:i.map(e=>_f(e.id,!1)),get:t,set:e})},setMinZoom:n=>{const{d3Zoom:o,maxZoom:r}=t();null===o||void 0===o||o.scaleExtent([n,r]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:o,minZoom:r}=t();null===o||void 0===o||o.scaleExtent([r,n]),e({maxZoom:n})},setTranslateExtent:n=>{var o;null===(o=t().d3Zoom)||void 0===o||o.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:o}=t();af({changedNodes:o().filter(e=>e.selected).map(e=>_f(e.id,!1)),changedEdges:n.filter(e=>e.selected).map(e=>_f(e.id,!1)),get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:o}=t();o.forEach(e=>{e.positionAbsolute=fp(e.position,n)}),e({nodeExtent:n,nodeInternals:new Map(o)})},panBy:e=>{const{transform:n,width:o,height:r,d3Zoom:a,d3Selection:i,translateExtent:s}=t();if(!a||!i||!e.x&&!e.y)return!1;const l=Cd.translate(n[0]+e.x,n[1]+e.y).scale(n[2]),c=[[0,0],[o,r]],u=null===a||void 0===a?void 0:a.constrain()(l,c,s);return a.transform(i,u),n[0]!==u.x||n[1]!==u.y||n[2]!==u.k},cancelConnection:()=>e({connectionNodeId:jm.connectionNodeId,connectionHandleId:jm.connectionHandleId,connectionHandleType:jm.connectionHandleType,connectionStatus:jm.connectionStatus,connectionStartHandle:jm.connectionStartHandle,connectionEndHandle:jm.connectionEndHandle}),reset:()=>e(l({},jm))}),t=Object.is,e?tl(e,t):tl;var e,t},Cm=t=>{let{children:n}=t;const o=(0,e.useRef)(null);return o.current||(o.current=Nm()),e.createElement(Xd,{value:o.current},n)};Cm.displayName="ReactFlowProvider";const Pm=t=>{let{children:n}=t;return(0,e.useContext)(Yd)?e.createElement(e.Fragment,null,n):e.createElement(Cm,null,n)};Pm.displayName="ReactFlowWrapper";const Tm={input:Ph,default:Nh,output:Oh,group:Ah},Om={default:eh,straight:$p,step:Xp,smoothstep:Yp,simplebezier:Hp},Am=[0,0],Rm=[15,15],Mm={x:0,y:0,zoom:1},Im={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Dm=(0,e.forwardRef)((t,n)=>{let{nodes:r,edges:a,defaultNodes:i,defaultEdges:s,className:c,nodeTypes:u=Tm,edgeTypes:d=Om,onNodeClick:p,onEdgeClick:h,onInit:f,onMove:m,onMoveStart:g,onMoveEnd:v,onConnect:y,onConnectStart:b,onConnectEnd:x,onClickConnectStart:w,onClickConnectEnd:k,onNodeMouseEnter:S,onNodeMouseMove:_,onNodeMouseLeave:E,onNodeContextMenu:j,onNodeDoubleClick:N,onNodeDragStart:C,onNodeDrag:P,onNodeDragStop:T,onNodesDelete:O,onEdgesDelete:A,onSelectionChange:R,onSelectionDragStart:M,onSelectionDrag:I,onSelectionDragStop:D,onSelectionContextMenu:z,onSelectionStart:L,onSelectionEnd:F,connectionMode:U=Ip.Strict,connectionLineType:B=Lp.Bezier,connectionLineStyle:q,connectionLineComponent:H,connectionLineContainerStyle:V,deleteKeyCode:W="Backspace",selectionKeyCode:K="Shift",selectionOnDrag:G=!1,selectionMode:Y=zp.Full,panActivationKeyCode:X="Space",multiSelectionKeyCode:$=(Tp()?"Meta":"Control"),zoomActivationKeyCode:J=(Tp()?"Meta":"Control"),snapToGrid:Q=!1,snapGrid:Z=Rm,onlyRenderVisibleElements:ee=!1,selectNodesOnDrag:te=!0,nodesDraggable:ne,nodesConnectable:oe,nodesFocusable:re,nodeOrigin:ae=Am,edgesFocusable:ie,edgesUpdatable:se,elementsSelectable:le,defaultViewport:ce=Mm,minZoom:ue=.5,maxZoom:de=2,translateExtent:pe=Em,preventScrolling:he=!0,nodeExtent:fe,defaultMarkerColor:me="#b1b1b7",zoomOnScroll:ge=!0,zoomOnPinch:ve=!0,panOnScroll:ye=!1,panOnScrollSpeed:be=.5,panOnScrollMode:xe=Dp.Free,zoomOnDoubleClick:we=!0,panOnDrag:ke=!0,onPaneClick:Se,onPaneMouseEnter:_e,onPaneMouseMove:Ee,onPaneMouseLeave:je,onPaneScroll:Ne,onPaneContextMenu:Ce,children:Pe,onEdgeContextMenu:Te,onEdgeDoubleClick:Oe,onEdgeMouseEnter:Ae,onEdgeMouseMove:Re,onEdgeMouseLeave:Me,onEdgeUpdate:Ie,onEdgeUpdateStart:De,onEdgeUpdateEnd:ze,onReconnect:Le,onReconnectStart:Fe,onReconnectEnd:Ue,reconnectRadius:Be=10,edgeUpdaterRadius:qe=10,onNodesChange:He,onEdgesChange:Ve,noDragClassName:We="nodrag",noWheelClassName:Ke="nowheel",noPanClassName:Ge="nopan",fitView:Ye=!1,fitViewOptions:Xe,connectOnClick:$e=!0,attributionPosition:Je,proOptions:Qe,defaultEdgeOptions:Ze,elevateNodesOnSelect:et=!0,elevateEdgesOnSelect:tt=!1,disableKeyboardA11y:nt=!1,autoPanOnConnect:ot=!0,autoPanOnNodeDrag:rt=!0,connectionRadius:at=20,isValidConnection:it,onError:st,style:lt,id:ct,nodeDragThreshold:ut}=t,dt=o(t,Gd);const pt=ct||"1";return e.createElement("div",l(l({},dt),{},{style:l(l({},lt),Im),ref:n,className:Gs(["react-flow",c]),"data-testid":"rf__wrapper",id:ct}),e.createElement(Pm,null,e.createElement(_m,{onInit:f,onMove:m,onMoveStart:g,onMoveEnd:v,onNodeClick:p,onEdgeClick:h,onNodeMouseEnter:S,onNodeMouseMove:_,onNodeMouseLeave:E,onNodeContextMenu:j,onNodeDoubleClick:N,nodeTypes:u,edgeTypes:d,connectionLineType:B,connectionLineStyle:q,connectionLineComponent:H,connectionLineContainerStyle:V,selectionKeyCode:K,selectionOnDrag:G,selectionMode:Y,deleteKeyCode:W,multiSelectionKeyCode:$,panActivationKeyCode:X,zoomActivationKeyCode:J,onlyRenderVisibleElements:ee,selectNodesOnDrag:te,defaultViewport:ce,translateExtent:pe,minZoom:ue,maxZoom:de,preventScrolling:he,zoomOnScroll:ge,zoomOnPinch:ve,zoomOnDoubleClick:we,panOnScroll:ye,panOnScrollSpeed:be,panOnScrollMode:xe,panOnDrag:ke,onPaneClick:Se,onPaneMouseEnter:_e,onPaneMouseMove:Ee,onPaneMouseLeave:je,onPaneScroll:Ne,onPaneContextMenu:Ce,onSelectionContextMenu:z,onSelectionStart:L,onSelectionEnd:F,onEdgeContextMenu:Te,onEdgeDoubleClick:Oe,onEdgeMouseEnter:Ae,onEdgeMouseMove:Re,onEdgeMouseLeave:Me,onReconnect:null!==Le&&void 0!==Le?Le:Ie,onReconnectStart:null!==Fe&&void 0!==Fe?Fe:De,onReconnectEnd:null!==Ue&&void 0!==Ue?Ue:ze,reconnectRadius:null!==Be&&void 0!==Be?Be:qe,defaultMarkerColor:me,noDragClassName:We,noWheelClassName:Ke,noPanClassName:Ge,elevateEdgesOnSelect:tt,rfId:pt,disableKeyboardA11y:nt,nodeOrigin:ae,nodeExtent:fe}),e.createElement(qh,{nodes:r,edges:a,defaultNodes:i,defaultEdges:s,onConnect:y,onConnectStart:b,onConnectEnd:x,onClickConnectStart:w,onClickConnectEnd:k,nodesDraggable:ne,nodesConnectable:oe,nodesFocusable:re,edgesFocusable:ie,edgesUpdatable:se,elementsSelectable:le,elevateNodesOnSelect:et,minZoom:ue,maxZoom:de,nodeExtent:fe,onNodesChange:He,onEdgesChange:Ve,snapToGrid:Q,snapGrid:Z,connectionMode:U,translateExtent:pe,connectOnClick:$e,defaultEdgeOptions:Ze,fitView:Ye,fitViewOptions:Xe,onNodesDelete:O,onEdgesDelete:A,onNodeDragStart:C,onNodeDrag:P,onNodeDragStop:T,onSelectionDrag:I,onSelectionDragStart:M,onSelectionDragStop:D,noPanClassName:Ge,nodeOrigin:ae,rfId:pt,autoPanOnConnect:ot,autoPanOnNodeDrag:rt,onError:st,connectionRadius:at,isValidConnection:it,nodeDragThreshold:ut}),e.createElement(Lh,{onSelectionChange:R}),Pe,e.createElement(up,{proOptions:Qe,position:Je}),e.createElement(Xh,{rfId:pt,disableKeyboardA11y:nt})))});Dm.displayName="ReactFlow";function zm(t){return n=>{const[o,r]=(0,e.useState)(n),a=(0,e.useCallback)(e=>r(n=>t(e,n)),[]);return[o,r,a]}}const Lm=zm(Sf),Fm=zm(function(e,t){return kf(e,t)});var Um;function Bm(t){let{color:n,dimensions:o,lineWidth:r}=t;return e.createElement("path",{stroke:n,strokeWidth:r,d:"M".concat(o[0]/2," 0 V").concat(o[1]," M0 ").concat(o[1]/2," H").concat(o[0])})}function qm(t){let{color:n,radius:o}=t;return e.createElement("circle",{cx:o,cy:o,r:o,fill:n})}!function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"}(Um||(Um={}));const Hm={[Um.Dots]:"#91919a",[Um.Lines]:"#eee",[Um.Cross]:"#e2e2e2"},Vm={[Um.Dots]:1,[Um.Lines]:1,[Um.Cross]:6},Wm=e=>({transform:e.transform,patternId:"pattern-".concat(e.rfId)});function Km(t){let{id:n,variant:o=Um.Dots,gap:r=20,size:a,lineWidth:i=1,offset:s=2,color:c,style:u,className:d}=t;const p=(0,e.useRef)(null),{transform:h,patternId:f}=ip(Wm,nl),m=c||Hm[o],g=a||Vm[o],v=o===Um.Dots,y=o===Um.Cross,b=Array.isArray(r)?r:[r,r],x=[b[0]*h[2]||1,b[1]*h[2]||1],w=g*h[2],k=y?[w,w]:x,S=v?[w/s,w/s]:[k[0]/s,k[1]/s];return e.createElement("svg",{className:Gs(["react-flow__background",d]),style:l(l({},u),{},{position:"absolute",width:"100%",height:"100%",top:0,left:0}),ref:p,"data-testid":"rf__background"},e.createElement("pattern",{id:f+n,x:h[0]%x[0],y:h[1]%x[1],width:x[0],height:x[1],patternUnits:"userSpaceOnUse",patternTransform:"translate(-".concat(S[0],",-").concat(S[1],")")},v?e.createElement(qm,{color:m,radius:w/s}):e.createElement(Bm,{dimensions:k,color:m,lineWidth:i})),e.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#".concat(f+n,")")}))}Km.displayName="Background";var Gm=(0,e.memo)(Km);const Ym=["children","className"];function Xm(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},e.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function $m(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},e.createElement("path",{d:"M0 0h32v4.2H0z"}))}function Jm(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},e.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function Qm(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},e.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function Zm(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},e.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const eg=t=>{let{children:n,className:r}=t,a=o(t,Ym);return e.createElement("button",l({type:"button",className:Gs(["react-flow__controls-button",r])},a),n)};eg.displayName="ControlButton";const tg=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),ng=t=>{let{style:n,showZoom:o=!0,showFitView:r=!0,showInteractive:a=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:l,onFitView:c,onInteractiveChange:u,className:d,children:p,position:h="bottom-left"}=t;const f=sp(),[m,g]=(0,e.useState)(!1),{isInteractive:v,minZoomReached:y,maxZoomReached:b}=ip(tg,nl),{zoomIn:x,zoomOut:w,fitView:k}=uf();if((0,e.useEffect)(()=>{g(!0)},[]),!m)return null;return e.createElement(cp,{className:Gs(["react-flow__controls",d]),position:h,style:n,"data-testid":"rf__controls"},o&&e.createElement(e.Fragment,null,e.createElement(eg,{onClick:()=>{x(),null===s||void 0===s||s()},className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:b},e.createElement(Xm,null)),e.createElement(eg,{onClick:()=>{w(),null===l||void 0===l||l()},className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:y},e.createElement($m,null))),r&&e.createElement(eg,{className:"react-flow__controls-fitview",onClick:()=>{k(i),null===c||void 0===c||c()},title:"fit view","aria-label":"fit view"},e.createElement(Jm,null)),a&&e.createElement(eg,{className:"react-flow__controls-interactive",onClick:()=>{f.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),null===u||void 0===u||u(!v)},title:"toggle interactivity","aria-label":"toggle interactivity"},v?e.createElement(Zm,null):e.createElement(Qm,null)),p)};ng.displayName="Controls";var og=(0,e.memo)(ng);const rg=t=>{let{id:n,x:o,y:r,width:a,height:i,style:s,color:l,strokeColor:c,strokeWidth:u,className:d,borderRadius:p,shapeRendering:h,onClick:f,selected:m}=t;const{background:g,backgroundColor:v}=s||{},y=l||g||v;return e.createElement("rect",{className:Gs(["react-flow__minimap-node",{selected:m},d]),x:o,y:r,rx:p,ry:p,width:a,height:i,fill:y,stroke:c,strokeWidth:u,shapeRendering:h,onClick:f?e=>f(e,n):void 0})};rg.displayName="MiniMapNode";var ag=(0,e.memo)(rg);const ig=e=>e.nodeOrigin,sg=e=>e.getNodes().filter(e=>!e.hidden&&e.width&&e.height),lg=e=>e instanceof Function?e:()=>e;var cg=(0,e.memo)(function(t){let{nodeStrokeColor:n="transparent",nodeColor:o="#e2e2e2",nodeClassName:r="",nodeBorderRadius:a=5,nodeStrokeWidth:i=2,nodeComponent:s=ag,onClick:l}=t;const c=ip(sg,nl),u=ip(ig),d=lg(o),p=lg(n),h=lg(r),f="undefined"===typeof window||window.chrome?"crispEdges":"geometricPrecision";return e.createElement(e.Fragment,null,c.map(t=>{const{x:n,y:o}=lh(t,u).positionAbsolute;return e.createElement(s,{key:t.id,x:n,y:o,width:t.width,height:t.height,style:t.style,selected:t.selected,className:h(t),color:d(t),borderRadius:a,strokeColor:p(t),strokeWidth:i,shapeRendering:f,onClick:l,id:t.id})}))});const ug=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?(o=ch(t,e.nodeOrigin),r=n,xp(yp(bp(o),bp(r)))):n,rfId:e.rfId};var o,r};function dg(t){var n,o;let{style:r,className:a,nodeStrokeColor:i="transparent",nodeColor:s="#e2e2e2",nodeClassName:l="",nodeBorderRadius:c=5,nodeStrokeWidth:u=2,nodeComponent:d,maskColor:p="rgb(240, 240, 240, 0.6)",maskStrokeColor:h="none",maskStrokeWidth:f=1,position:m="bottom-right",onClick:g,onNodeClick:v,pannable:y=!1,zoomable:b=!1,ariaLabel:x="React Flow mini map",inversePan:w=!1,zoomStep:k=10,offsetScale:S=5}=t;const _=sp(),E=(0,e.useRef)(null),{boundingRect:j,viewBB:N,rfId:C}=ip(ug,nl),P=null!==(n=null===r||void 0===r?void 0:r.width)&&void 0!==n?n:200,T=null!==(o=null===r||void 0===r?void 0:r.height)&&void 0!==o?o:150,O=j.width/P,A=j.height/T,R=Math.max(O,A),M=R*P,I=R*T,D=S*R,z=j.x-(M-j.width)/2-D,L=j.y-(I-j.height)/2-D,F=M+2*D,U=I+2*D,B="".concat("react-flow__minimap-desc","-").concat(C),q=(0,e.useRef)(0);q.current=R,(0,e.useEffect)(()=>{if(E.current){const e=kc(E.current),t=e=>{const{transform:t,d3Selection:n,d3Zoom:o}=_.getState();if("wheel"!==e.sourceEvent.type||!n||!o)return;const r=-e.sourceEvent.deltaY*(1===e.sourceEvent.deltaMode?.05:e.sourceEvent.deltaMode?1:.002)*k,a=t[2]*Math.pow(2,r);o.scaleTo(n,a)},n=e=>{const{transform:t,d3Selection:n,d3Zoom:o,translateExtent:r,width:a,height:i}=_.getState();if("mousemove"!==e.sourceEvent.type||!n||!o)return;const s=q.current*Math.max(1,t[2])*(w?-1:1),l={x:t[0]-e.sourceEvent.movementX*s,y:t[1]-e.sourceEvent.movementY*s},c=[[0,0],[a,i]],u=Cd.translate(l.x,l.y).scale(t[2]),d=o.constrain()(u,c,r);o.transform(n,d)},o=zd().on("zoom",y?n:null).on("zoom.wheel",b?t:null);return e.call(o),()=>{e.on("zoom",null)}}},[y,b,w,k]);const H=g?e=>{const t=Oc(e);g(e,{x:t[0],y:t[1]})}:void 0,V=v?(e,t)=>{const n=_.getState().nodeInternals.get(t);v(e,n)}:void 0;return e.createElement(cp,{position:m,style:r,className:Gs(["react-flow__minimap",a]),"data-testid":"rf__minimap"},e.createElement("svg",{width:P,height:T,viewBox:"".concat(z," ").concat(L," ").concat(F," ").concat(U),role:"img","aria-labelledby":B,ref:E,onClick:H},x&&e.createElement("title",{id:B},x),e.createElement(cg,{onClick:V,nodeColor:s,nodeStrokeColor:i,nodeBorderRadius:c,nodeClassName:l,nodeStrokeWidth:u,nodeComponent:d}),e.createElement("path",{className:"react-flow__minimap-mask",d:"M".concat(z-D,",").concat(L-D,"h").concat(F+2*D,"v").concat(U+2*D,"h").concat(-F-2*D,"z\n        M").concat(N.x,",").concat(N.y,"h").concat(N.width,"v").concat(N.height,"h").concat(-N.width,"z"),fill:p,fillRule:"evenodd",stroke:h,strokeWidth:f,pointerEvents:"none"})))}dg.displayName="MiniMap";var pg=(0,e.memo)(dg);const hg=$r("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),fg=$r("minimize-2",[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]]),mg=$r("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]]),gg=e=>{let{data:t,type:n}=e;return(0,aa.jsxs)("div",{className:"px-4 py-2 rounded-md border-2 shadow-md ".concat((()=>{switch(n){case"input":return"bg-green-100 border-green-500 text-green-800";case"process":return"bg-blue-100 border-blue-500 text-blue-800";case"output":return"bg-purple-100 border-purple-500 text-purple-800";case"decision":return"bg-yellow-100 border-yellow-500 text-yellow-800";default:return"bg-gray-100 border-gray-500 text-gray-800"}})()),children:[(0,aa.jsx)(Eh,{type:"target",position:Up.Top}),(0,aa.jsx)("div",{className:"text-sm font-medium",children:t.label}),(0,aa.jsx)(Eh,{type:"source",position:Up.Bottom})]})},vg={input:gg,process:gg,output:gg,decision:gg},yg=t=>{let{flowchart:n,onFlowchartChange:o}=t;const[r,a]=(0,e.useState)(!1),i=(0,e.useRef)(null),s=(0,e.useRef)(null),l=n.nodes.map(e=>({id:e.id,type:e.type,position:e.position,data:{label:e.label}})),c=n.edges.map(e=>({id:e.id,source:e.source,target:e.target,label:e.label,type:"smoothstep"})),[u,d,p]=Lm(l),[h,f,m]=Fm(c),g=(0,e.useCallback)(e=>{if(!e.source||!e.target)return;const t={id:"edge-".concat(Date.now()),source:e.source,target:e.target,type:"smoothstep"};if(f(e=>ah(t,e)),o){const e={nodes:u.map(e=>({id:e.id,type:e.type,label:e.data.label,position:e.position})),edges:[...h.map(e=>({id:e.id,source:e.source,target:e.target,label:"string"===typeof e.label?e.label:void 0})),{id:t.id,source:t.source,target:t.target,label:void 0}]};o(e)}},[u,h,f,o]),v=e=>{const t={id:"node-".concat(Date.now()),type:e,position:{x:400*Math.random()+100,y:300*Math.random()+100},data:{label:"Novo ".concat("input"===e?"In\xedcio":"output"===e?"Fim":"decision"===e?"Decis\xe3o":"Processo")}};if(d(e=>[...e,t]),o){const e={nodes:[...u.map(e=>({id:e.id,type:e.type,label:e.data.label,position:e.position})),{id:t.id,type:t.type,label:t.data.label,position:t.position}],edges:h.map(e=>({id:e.id,source:e.source,target:e.target,label:"string"===typeof e.label?e.label:void 0}))};o(e)}};return(0,aa.jsxs)("div",{className:"bg-white shadow rounded-lg ".concat(r?"fixed inset-0 z-50 p-4":"p-6"),children:[(0,aa.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,aa.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Fluxograma do Projeto"}),(0,aa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,aa.jsxs)("div",{className:"flex gap-1 mr-4",children:[(0,aa.jsx)("button",{onClick:()=>v("input"),className:"px-3 py-1 bg-green-500 text-white text-xs rounded hover:bg-green-600",title:"Adicionar In\xedcio",children:(0,aa.jsx)(Ps,{className:"w-3 h-3"})}),(0,aa.jsx)("button",{onClick:()=>v("process"),className:"px-3 py-1 bg-blue-500 text-white text-xs rounded hover:bg-blue-600",title:"Adicionar Processo",children:(0,aa.jsx)(Ps,{className:"w-3 h-3"})}),(0,aa.jsx)("button",{onClick:()=>v("decision"),className:"px-3 py-1 bg-yellow-500 text-white text-xs rounded hover:bg-yellow-600",title:"Adicionar Decis\xe3o",children:(0,aa.jsx)(Ps,{className:"w-3 h-3"})}),(0,aa.jsx)("button",{onClick:()=>v("output"),className:"px-3 py-1 bg-purple-500 text-white text-xs rounded hover:bg-purple-600",title:"Adicionar Fim",children:(0,aa.jsx)(Ps,{className:"w-3 h-3"})})]}),(0,aa.jsx)("button",{onClick:()=>{s.current&&s.current.fitView()},className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded",title:"Resetar Visualiza\xe7\xe3o",children:(0,aa.jsx)(hg,{className:"w-4 h-4"})}),(0,aa.jsx)("button",{onClick:()=>{const e={nodes:u.map(e=>({id:e.id,type:e.type,label:e.data.label,position:e.position})),edges:h.map(e=>({id:e.id,source:e.source,target:e.target,label:"string"===typeof e.label?e.label:void 0}))},t=JSON.stringify(e,null,2),n="data:application/json;charset=utf-8,"+encodeURIComponent(t),o=document.createElement("a");o.setAttribute("href",n),o.setAttribute("download","fluxograma.json"),o.click()},className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded",title:"Exportar como JSON",children:(0,aa.jsx)(zs,{className:"w-4 h-4"})}),(0,aa.jsx)("button",{onClick:()=>{a(!r)},className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded",title:r?"Sair da Tela Cheia":"Tela Cheia",children:r?(0,aa.jsx)(fg,{className:"w-4 h-4"}):(0,aa.jsx)(mg,{className:"w-4 h-4"})})]})]}),0===n.nodes.length?(0,aa.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,aa.jsx)("p",{children:"Nenhum fluxograma gerado ainda."}),(0,aa.jsx)("p",{className:"text-sm mt-2",children:'Fa\xe7a upload de documentos e clique em "Gerar Escopo e Tasks" para criar o fluxograma.'})]}):(0,aa.jsx)("div",{ref:i,className:"".concat(r?"h-[calc(100vh-120px)]":"h-96"," w-full border border-gray-200 rounded-lg"),children:(0,aa.jsxs)(Dm,{ref:s,nodes:u,edges:h,onNodesChange:p,onEdgesChange:m,onConnect:g,nodeTypes:vg,fitView:!0,nodesDraggable:!0,nodesConnectable:!0,elementsSelectable:!0,children:[(0,aa.jsx)(Gm,{}),(0,aa.jsx)(og,{}),(0,aa.jsx)(pg,{})]})}),n.nodes.length>0&&(0,aa.jsxs)("div",{className:"mt-4 text-sm text-gray-600",children:[(0,aa.jsx)("strong",{children:"N\xf3s:"})," ",u.length," |",(0,aa.jsx)("strong",{children:" Conex\xf5es:"})," ",h.length]})]})},bg=t=>{let{project:n,flowchart:o,onBack:r}=t;const[a,i]=(0,e.useState)(null),[s,l]=(0,e.useState)(!0),[c,u]=(0,e.useState)(null);(0,e.useEffect)(()=>{(async()=>{try{l(!0),u(null);const{data:e,error:t}=await Dr(n.id);if(t)console.error("Erro ao carregar fluxograma do projeto:",t),u("Erro ao carregar fluxograma do projeto: "+t.message);else{const t=e&&e.length>0?e[0]:null;i(t)}}catch(e){console.error("Erro ao carregar fluxograma do projeto:",e),u("Erro ao carregar fluxograma do projeto: "+e.message)}finally{l(!1)}})()},[n.id]);const d=a||o||{nodes:[{id:"start",type:"input",label:"In\xedcio do Processo",position:{x:100,y:100}},{id:"process-1",type:"process",label:"An\xe1lise de Requisitos",position:{x:300,y:100}},{id:"decision-1",type:"decision",label:"Requisitos Aprovados?",position:{x:500,y:100}},{id:"process-2",type:"process",label:"Desenvolvimento",position:{x:300,y:250}},{id:"process-3",type:"process",label:"Testes e QA",position:{x:500,y:250}},{id:"end",type:"output",label:"Projeto Conclu\xeddo",position:{x:700,y:250}}],edges:[{id:"edge-1",source:"start",target:"process-1"},{id:"edge-2",source:"process-1",target:"decision-1"},{id:"edge-3",source:"decision-1",target:"process-2",label:"Sim"},{id:"edge-4",source:"decision-1",target:"process-1",label:"N\xe3o"},{id:"edge-5",source:"process-2",target:"process-3"},{id:"edge-6",source:"process-3",target:"end"}]};return s?(0,aa.jsx)("div",{className:"max-w-full mx-auto",children:(0,aa.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,aa.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,aa.jsx)(oa,{className:"w-6 h-6 animate-spin text-purple-600"}),(0,aa.jsx)("span",{className:"text-gray-600",children:"Carregando fluxograma do projeto..."})]})})}):c?(0,aa.jsxs)("div",{className:"max-w-full mx-auto",children:[(0,aa.jsx)("div",{className:"mb-6",children:(0,aa.jsxs)("button",{onClick:r,className:"flex items-center text-blue-600 hover:text-blue-800 mb-4",children:[(0,aa.jsx)(Rs,{className:"w-4 h-4 mr-2"}),"Voltar para Projetos"]})}),(0,aa.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:(0,aa.jsxs)("div",{className:"text-center",children:[(0,aa.jsx)("div",{className:"text-red-600 mb-2",children:"Erro ao carregar fluxograma"}),(0,aa.jsx)("div",{className:"text-red-500 text-sm",children:c}),(0,aa.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Tentar Novamente"})]})})]}):(0,aa.jsxs)("div",{className:"max-w-full mx-auto",children:[(0,aa.jsxs)("div",{className:"mb-6",children:[(0,aa.jsxs)("button",{onClick:r,className:"flex items-center text-blue-600 hover:text-blue-800 mb-4",children:[(0,aa.jsx)(Rs,{className:"w-4 h-4 mr-2"}),"Voltar para Projetos"]}),(0,aa.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:(0,aa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,aa.jsxs)("div",{className:"flex items-center",children:[(0,aa.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mr-4",children:(0,aa.jsx)(As,{className:"w-6 h-6 text-purple-600"})}),(0,aa.jsxs)("div",{children:[(0,aa.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:["Fluxograma - ",n.name]}),(0,aa.jsx)("p",{className:"text-gray-600",children:"Visualize o fluxo de trabalho do seu projeto"})]})]}),(0,aa.jsxs)("button",{onClick:()=>{const e=JSON.stringify(d,null,2),t=new Blob([e],{type:"application/json"}),o=URL.createObjectURL(t),r=document.createElement("a");r.href=o,r.download="flowchart-".concat(n.name.replace(/\s+/g,"_"),".json"),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(o)},className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[(0,aa.jsx)(zs,{className:"w-4 h-4 mr-2"}),"Exportar JSON"]})]})})]}),(0,aa.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:(0,aa.jsx)(yg,{flowchart:d,onFlowchartChange:e=>{console.log("Fluxograma atualizado:",e)}})}),(0,aa.jsxs)("div",{className:"mt-6 bg-white rounded-lg shadow-lg p-6",children:[(0,aa.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Legenda dos S\xedmbolos"}),(0,aa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,aa.jsxs)("div",{className:"flex items-center",children:[(0,aa.jsx)("div",{className:"w-8 h-8 bg-blue-200 rounded-md flex items-center justify-center mr-3",children:(0,aa.jsx)("div",{className:"w-4 h-4 bg-blue-600 rounded-sm"})}),(0,aa.jsxs)("div",{children:[(0,aa.jsx)("div",{className:"font-medium text-gray-900",children:"Entrada"}),(0,aa.jsx)("div",{className:"text-sm text-gray-600",children:"In\xedcio do processo"})]})]}),(0,aa.jsxs)("div",{className:"flex items-center",children:[(0,aa.jsx)("div",{className:"w-8 h-8 bg-green-200 rounded-md flex items-center justify-center mr-3",children:(0,aa.jsx)("div",{className:"w-4 h-4 bg-green-600 rounded-sm"})}),(0,aa.jsxs)("div",{children:[(0,aa.jsx)("div",{className:"font-medium text-gray-900",children:"Processo"}),(0,aa.jsx)("div",{className:"text-sm text-gray-600",children:"Atividade ou tarefa"})]})]}),(0,aa.jsxs)("div",{className:"flex items-center",children:[(0,aa.jsx)("div",{className:"w-8 h-8 bg-yellow-200 rounded-md flex items-center justify-center mr-3",children:(0,aa.jsx)("div",{className:"w-4 h-2 bg-yellow-600 rounded-sm transform rotate-45"})}),(0,aa.jsxs)("div",{children:[(0,aa.jsx)("div",{className:"font-medium text-gray-900",children:"Decis\xe3o"}),(0,aa.jsx)("div",{className:"text-sm text-gray-600",children:"Ponto de escolha"})]})]}),(0,aa.jsxs)("div",{className:"flex items-center",children:[(0,aa.jsx)("div",{className:"w-8 h-8 bg-red-200 rounded-md flex items-center justify-center mr-3",children:(0,aa.jsx)("div",{className:"w-4 h-4 bg-red-600 rounded-sm transform rotate-45"})}),(0,aa.jsxs)("div",{children:[(0,aa.jsx)("div",{className:"font-medium text-gray-900",children:"Sa\xedda"}),(0,aa.jsx)("div",{className:"text-sm text-gray-600",children:"Fim do processo"})]})]})]})]})]})},xg=t=>{let{user:n,onProjectSelected:o,onCreateNewProject:r,selectedProject:a,selectedProjectContent:i,onBack:s}=t;console.log("ProjectsPage: Component rendered",{userId:null===n||void 0===n?void 0:n.id,selectedProjectId:null===a||void 0===a?void 0:a.id,selectedProjectContentType:null===i||void 0===i?void 0:i.contentType,hasOnBack:!!s});const l=e.useCallback(()=>{console.log("ProjectsPage: handleBackToProjectSelection called"),s&&s()},[s]);if(i)switch(i.contentType){case"pr":return(0,aa.jsx)(Fs,{project:i.project,onBack:l});case"tasks":return(0,aa.jsx)(Ks,{project:i.project,onBack:l});case"flowchart":return(0,aa.jsx)(bg,{project:i.project,onBack:l});default:return(0,aa.jsx)(Ds,{user:n,onProjectSelected:o,onCreateNewProject:r})}return a?(0,aa.jsx)("div",{className:"min-h-[calc(100vh-200px)]",children:(0,aa.jsx)(Ds,{user:n,onProjectSelected:o,onCreateNewProject:r,selectedProject:a,showContentSelection:!0})}):(0,aa.jsx)("div",{className:"min-h-[calc(100vh-200px)]",children:(0,aa.jsx)(Ds,{user:n,onProjectSelected:o,onCreateNewProject:r})})},wg=e=>{let{user:t,onProjectSelected:n}=e;const o=[];return(0,aa.jsx)("div",{className:"min-h-[calc(100vh-200px)]",children:(0,aa.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,aa.jsxs)("div",{className:"flex items-center mb-6",children:[(0,aa.jsx)(As,{className:"w-6 h-6 text-blue-600 mr-3"}),(0,aa.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Fluxogramas"})]}),0===o.length?(0,aa.jsxs)("div",{className:"text-center py-12",children:[(0,aa.jsx)(As,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,aa.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum fluxograma encontrado"}),(0,aa.jsx)("p",{className:"text-gray-600 mb-6",children:"Voc\xea ainda n\xe3o possui fluxogramas. Crie um novo projeto para gerar fluxogramas automaticamente."}),(0,aa.jsx)("button",{onClick:()=>n({}),className:"bg-blue-600 text-white px-6 py-3 rounded-md font-medium hover:bg-blue-700 transition-colors",children:"Criar Novo Projeto"})]}):(0,aa.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:o.map(e=>(0,aa.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>n(e,"flowchart"),children:[(0,aa.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,aa.jsxs)("div",{className:"flex items-center",children:[(0,aa.jsx)(As,{className:"w-5 h-5 text-blue-600 mr-2"}),(0,aa.jsx)("h3",{className:"font-semibold text-gray-900",children:e.name})]}),(0,aa.jsx)(ms,{className:"w-5 h-5 text-gray-400"})]}),(0,aa.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:e.description||"Projeto sem descri\xe7\xe3o"}),(0,aa.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,aa.jsxs)("div",{className:"flex items-center",children:[(0,aa.jsx)(Ls,{className:"w-4 h-4 mr-1"}),(0,aa.jsx)("span",{children:(null===t||void 0===t?void 0:t.email)||"Usu\xe1rio"})]}),(0,aa.jsxs)("div",{className:"flex items-center",children:[(0,aa.jsx)(Ts,{className:"w-4 h-4 mr-1"}),(0,aa.jsx)("span",{children:new Date(e.created_at).toLocaleDateString("pt-BR")})]})]})]},e.id))})]})})},kg=$r("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]]),Sg=$r("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),_g=()=>{const[t,n]=(0,e.useState)(null),[o,r]=(0,e.useState)([]),[a,i]=(0,e.useState)(!0),[s,c]=(0,e.useState)(!1),[u,d]=(0,e.useState)(""),[p,h]=(0,e.useState)(!1);(0,e.useEffect)(()=>{m()},[]);const f=(0,e.useCallback)(()=>{t&&t.content!==u?h(!0):n(null)},[t,u]);(0,e.useEffect)(()=>{const e=e=>{"Escape"===e.key&&t&&f()};return t&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[t,f]);const m=async()=>{i(!0);try{const{data:e,error:t}=await kr.from("support_materials").select("*").eq("is_default",!0).order("created_at",{ascending:!1});if(t)return void console.error("Erro ao carregar prompts:",t);r(e||[])}catch(Ig){console.error("Erro ao carregar prompts:",Ig)}finally{i(!1)}};return(0,aa.jsxs)("div",{className:"space-y-6",children:[(0,aa.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,aa.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,aa.jsx)("div",{children:(0,aa.jsxs)("div",{className:"mb-2",children:[(0,aa.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 flex items-center mb-2",children:[(0,aa.jsx)(kg,{className:"w-6 h-6 text-blue-600 mr-2"}),"Prompts"]}),(0,aa.jsx)("p",{className:"text-gray-600",children:"Configure os prompts que o Gemini usa para gerar tasks, fluxogramas e PRs baseados nos documentos do usu\xe1rio"})]})})}),a?(0,aa.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,aa.jsx)(oa,{className:"w-6 h-6 animate-spin text-blue-600 mr-2"}),(0,aa.jsx)("span",{className:"text-gray-600",children:"Carregando materiais..."})]}):(0,aa.jsx)("div",{className:"space-y-6",children:0===o.length?(0,aa.jsxs)("div",{className:"text-center py-8",children:[(0,aa.jsx)("p",{className:"text-gray-500 mb-4",children:"Nenhum prompt encontrado."}),(0,aa.jsx)("p",{className:"text-sm text-gray-400",children:'Os prompts padr\xe3o ser\xe3o carregados automaticamente. Clique em "Editar" para personalizar.'})]}):o.map(e=>(0,aa.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,aa.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,aa.jsxs)("div",{children:[(0,aa.jsx)("h3",{className:"font-semibold text-lg text-gray-900",children:e.name}),(0,aa.jsxs)("p",{className:"text-sm text-gray-500",children:["Tipo: ",e.type," ",e.is_default&&"(Padr\xe3o)"]})]}),(0,aa.jsxs)("button",{onClick:()=>(e=>{n(e),d(e.content)})(e),className:"bg-blue-50 text-blue-600 px-3 py-2 rounded-lg hover:bg-blue-100 transition-colors flex items-center",children:[(0,aa.jsx)(Sg,{className:"w-4 h-4 mr-2"}),"Editar"]})]}),(0,aa.jsx)("div",{className:"bg-gray-50 p-3 rounded text-sm max-h-32 overflow-y-auto",children:(0,aa.jsxs)("pre",{className:"whitespace-pre-wrap font-mono text-xs text-gray-700",children:[e.content.substring(0,200),"..."]})})]},e.id))})]}),t&&(0,aa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:f,children:(0,aa.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full max-h-[80vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,aa.jsxs)("h3",{className:"text-lg font-semibold mb-4",children:[t.id.startsWith("default-")?"Criar":"Editar"," Prompt"]}),(0,aa.jsxs)("div",{className:"space-y-4",children:[(0,aa.jsxs)("div",{children:[(0,aa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Prompt"}),(0,aa.jsx)("input",{type:"text",value:t.name,onChange:e=>n(l(l({},t),{},{name:e.target.value})),className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ex: Prompt Personalizado para Gera\xe7\xe3o de Tasks"})]}),(0,aa.jsxs)("div",{children:[(0,aa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Gera\xe7\xe3o"}),(0,aa.jsxs)("select",{value:t.type,onChange:e=>n(l(l({},t),{},{type:e.target.value})),className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,aa.jsx)("option",{value:"tasks",children:"Gera\xe7\xe3o de Tasks"}),(0,aa.jsx)("option",{value:"flowchart",children:"Gera\xe7\xe3o de Fluxograma"}),(0,aa.jsx)("option",{value:"pr",children:"Gera\xe7\xe3o de Pull Request"})]})]}),(0,aa.jsxs)("div",{children:[(0,aa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prompt para o Gemini"}),(0,aa.jsx)("textarea",{value:t.content,onChange:e=>n(l(l({},t),{},{content:e.target.value})),className:"w-full h-96 p-3 border rounded-lg font-mono text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Digite o prompt que ser\xe1 usado pelo Gemini para gerar este tipo de conte\xfado..."})]})]}),(0,aa.jsxs)("div",{className:"flex justify-end gap-2 mt-6",children:[(0,aa.jsx)("button",{onClick:f,className:"px-4 py-2 text-gray-600 border rounded hover:bg-gray-50",disabled:s,children:"Cancelar"}),(0,aa.jsx)("button",{onClick:async()=>{if(t){c(!0);try{if(t.id.startsWith("default-")){const e={name:t.name,type:t.type,content:t.content,is_default:!0,project_id:"550e8400-e29b-41d4-a716-446655440001"},{data:n,error:o}=await Tr(e);if(o)throw o;n&&r(e=>[...e,n])}else{const{data:e,error:n}=await Ar(t.id,{name:t.name,content:t.content});if(n)throw n;e&&r(t=>t.map(t=>t.id===e.id?e:t))}n(null)}catch(Ig){console.error("Erro ao salvar material:",Ig)}finally{c(!1)}}},disabled:s,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 flex items-center",children:s?(0,aa.jsxs)(aa.Fragment,{children:[(0,aa.jsx)(oa,{className:"w-4 h-4 mr-2 animate-spin"}),"Salvando..."]}):(0,aa.jsxs)(aa.Fragment,{children:[(0,aa.jsx)(Ms,{className:"w-4 h-4 mr-2"}),"Salvar"]})})]})]})}),p&&(0,aa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]",children:(0,aa.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[(0,aa.jsxs)("div",{className:"text-center mb-6",children:[(0,aa.jsx)("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,aa.jsx)("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,aa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,aa.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Descartar altera\xe7\xf5es?"}),(0,aa.jsx)("p",{className:"text-gray-600",children:"Voc\xea fez altera\xe7\xf5es no prompt que n\xe3o foram salvas. Tem certeza que deseja fechar sem salvar?"})]}),(0,aa.jsxs)("div",{className:"flex gap-3",children:[(0,aa.jsx)("button",{onClick:()=>{h(!1)},className:"flex-1 px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Continuar editando"}),(0,aa.jsx)("button",{onClick:()=>{h(!1),n(null)},className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Descartar altera\xe7\xf5es"})]})]})})]})},Eg={pr:{title:"Prompt para Documento T\xe9cnico (PR)",content:"Voc\xea \xe9 um especialista em an\xe1lise de requisitos e cria\xe7\xe3o de documentos t\xe9cnicos.\nCom base nos documentos fornecidos, gere um DOCUMENTO T\xc9CNICO DETALHADO (PR) incluindo:\n- Vis\xe3o geral do projeto\n- Objetivos e metas\n- Arquitetura proposta\n- Tecnologias e ferramentas\n- Estimativa de esfor\xe7o\n- Riscos identificados\n- Prazos estimados\n- Or\xe7amento aproximado\n\nRetorne apenas o texto do documento t\xe9cnico, sem formata\xe7\xe3o JSON."},flowchart:{title:"Prompt para Fluxograma",content:'Voc\xea \xe9 um especialista em modelagem de processos e cria\xe7\xe3o de fluxogramas.\nCom base nos documentos fornecidos, gere um FLUXOGRAMA em formato JSON v\xe1lido.\nO fluxograma deve representar o fluxo completo do projeto/processo.\n\nIMPORTANTE: Retorne APENAS um JSON v\xe1lido com esta estrutura:\n{\n  "nodes": [\n    {\n      "id": "string",\n      "type": "input|process|output|decision",\n      "label": "string",\n      "position": {"x": number, "y": number}\n    }\n  ],\n  "edges": [\n    {\n      "id": "string",\n      "source": "string",\n      "target": "string",\n      "label": "string (opcional)"\n    }\n  ]\n}'},tasks:{title:"Prompt para Tasks e \xc9picos",content:'Voc\xea \xe9 um especialista em gerenciamento de projetos e cria\xe7\xe3o de tarefas.\nCom base nos documentos fornecidos, gere um conjunto completo de TASKS organizadas por \xc9PICOS.\n\nIMPORTANTE: Retorne APENAS um JSON v\xe1lido com esta estrutura:\n{\n  "epics": [\n    {\n      "title": "string",\n      "description": "string",\n      "priority": "low|medium|high"\n    }\n  ],\n  "tasks": [\n    {\n      "title": "string",\n      "description": "string",\n      "story_points": number (1, 2, 3, 5, 8, 13),\n      "category": "frontend|backend|design|testing|devops|database|security|documentation",\n      "epic_index": number (\xedndice do \xe9pico relacionado, come\xe7ando em 0),\n      "acceptance_criteria": ["string1", "string2"],\n      "priority": "low|medium|high"\n    }\n  ]\n}'}},jg=()=>{const[t,n]=(0,e.useState)([]),[o,r]=(0,e.useState)(!0),[a,i]=(0,e.useState)(null),[s,c]=(0,e.useState)(null);(0,e.useEffect)(()=>{u()},[]);const u=async()=>{try{r(!0),c(null);const{data:e,error:t}=await Br();if(t&&t.message.includes('relation "global_prompts" does not exist')){const e=Object.entries(Eg).map((e,t)=>{let[n,o]=e;return{id:"default-".concat(n),type:n,title:o.title,content:o.content,is_default:!0,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()}});n(e)}else t?c("Erro ao carregar prompts: "+t.message):n(e||[])}catch(e){c("Erro ao carregar prompts: "+e.message)}finally{r(!1)}},d=async(e,n)=>{try{i(e),c(null);const o=t.find(t=>t.type===e&&!t.is_default);if(o){console.log("Atualizando prompt existente:",o.id);const{error:e}=await qr(o.id,{content:n});if(e)throw e}else{console.log("Criando novo prompt para tipo:",e);const{error:t}=await Ur({type:e,title:Eg[e].title,content:n,is_default:!1});if(t)throw t}ni=null,oi=0,await u(),console.log("Prompt salvo com sucesso para tipo:",e)}catch(o){console.error("Erro ao salvar prompt:",o),c("Erro ao salvar prompt: "+o.message)}finally{i(null)}},p=e=>{switch(e){case"pr":default:return(0,aa.jsx)(ms,{className:"w-5 h-5"});case"flowchart":return(0,aa.jsx)(As,{className:"w-5 h-5"});case"tasks":return(0,aa.jsx)(Os,{className:"w-5 h-5"})}},h=e=>{switch(e){case"pr":return"text-blue-600 bg-blue-50 border-blue-200";case"flowchart":return"text-purple-600 bg-purple-50 border-purple-200";case"tasks":return"text-green-600 bg-green-50 border-green-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}};return o?(0,aa.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,aa.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,aa.jsx)("span",{className:"ml-3 text-gray-600",children:"Carregando prompts..."})]}):(0,aa.jsxs)("div",{className:"space-y-6",children:[(0,aa.jsxs)("div",{children:[(0,aa.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Prompts Globais"}),(0,aa.jsx)("p",{className:"text-gray-600",children:"Configure os prompts que ser\xe3o usados para gerar documentos t\xe9cnicos, fluxogramas e tasks. Cada prompt ser\xe1 combinado com o conte\xfado dos documentos enviados."})]}),s&&(0,aa.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,aa.jsx)("p",{className:"text-red-800",children:s})}),(0,aa.jsx)("div",{className:"space-y-6",children:Object.entries(Eg).map(e=>{let[o,r]=e;const i=t.find(e=>e.type===o),s=i&&i.content!==r.content;return(0,aa.jsxs)("div",{className:"border rounded-lg p-6 ".concat(h(o)),children:[(0,aa.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,aa.jsxs)("div",{className:"flex items-center space-x-3",children:[p(o),(0,aa.jsxs)("div",{children:[(0,aa.jsx)("h3",{className:"font-medium text-gray-900",children:r.title}),(0,aa.jsxs)("p",{className:"text-sm text-gray-600",children:["Tipo: ",o.toUpperCase(),s&&(0,aa.jsx)("span",{className:"ml-2 text-orange-600",children:"(Modificado)"})]})]})]}),(0,aa.jsxs)("div",{className:"flex space-x-2",children:[(0,aa.jsxs)("button",{onClick:()=>(async e=>{try{c(null);const t=Eg[e].content;await d(e,t)}catch(t){c("Erro ao resetar prompt: "+t.message)}})(o),className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-800 border border-gray-300 rounded-md hover:bg-gray-50",disabled:a===o,children:[(0,aa.jsx)(hg,{className:"w-4 h-4 inline mr-1"}),"Resetar"]}),(0,aa.jsx)("button",{onClick:()=>{const e=document.querySelector('textarea[data-prompt-type="'.concat(o,'"]')),t=e?e.value:(null===i||void 0===i?void 0:i.content)||r.content;d(o,t)},className:"px-3 py-1 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",disabled:a===o,children:a===o?(0,aa.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):(0,aa.jsxs)(aa.Fragment,{children:[(0,aa.jsx)(Ms,{className:"w-4 h-4 inline mr-1"}),"Salvar"]})})]})]}),(0,aa.jsxs)("div",{children:[(0,aa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prompt"}),(0,aa.jsx)("textarea",{"data-prompt-type":o,value:(null===i||void 0===i?void 0:i.content)||r.content,onChange:e=>{const r=t.map(t=>t.type===o?l(l({},t),{},{content:e.target.value}):t);n(r)},className:"w-full h-64 p-4 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",placeholder:"Digite o prompt personalizado..."})]})]},o)})}),(0,aa.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[(0,aa.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"\ud83d\udca1 Dicas para Prompts Eficazes"}),(0,aa.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,aa.jsx)("li",{children:"\u2022 Seja espec\xedfico sobre o formato de sa\xedda esperado"}),(0,aa.jsx)("li",{children:"\u2022 Inclua exemplos quando necess\xe1rio"}),(0,aa.jsx)("li",{children:"\u2022 Use placeholders para conte\xfado din\xe2mico"}),(0,aa.jsx)("li",{children:"\u2022 Defina claramente o escopo e limita\xe7\xf5es"}),(0,aa.jsx)("li",{children:"\u2022 Teste os prompts com diferentes tipos de documentos"})]})]})]})},Ng=$r("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Cg=()=>{const[t,n]=(0,e.useState)("materials"),o=[{id:"materials",label:"Materiais de Apoio",icon:(0,aa.jsx)(ms,{className:"w-5 h-5"}),description:"Configure materiais padr\xe3o para tasks, fluxogramas e PRs"},{id:"prompts",label:"Prompts Globais",icon:(0,aa.jsx)(_s,{className:"w-5 h-5"}),description:"Configure prompts personalizados para gera\xe7\xe3o de conte\xfado"}];return(0,aa.jsxs)("div",{className:"min-h-[calc(100vh-200px)]",children:[(0,aa.jsxs)("div",{className:"mb-8",children:[(0,aa.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,aa.jsx)(Ng,{className:"w-8 h-8 text-blue-600"}),(0,aa.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Configura\xe7\xf5es"})]}),(0,aa.jsx)("p",{className:"text-gray-600",children:"Gerencie materiais de apoio e prompts globais do sistema"})]}),(0,aa.jsx)("div",{className:"mb-6",children:(0,aa.jsx)("div",{className:"border-b border-gray-200",children:(0,aa.jsx)("nav",{className:"-mb-px flex space-x-8",children:o.map(e=>(0,aa.jsx)("button",{onClick:()=>n(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat(t===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:(0,aa.jsxs)("div",{className:"flex items-center space-x-2",children:[e.icon,(0,aa.jsx)("span",{children:e.label})]})},e.id))})})}),(0,aa.jsxs)("div",{className:"mt-6",children:["materials"===t&&(0,aa.jsx)(_g,{}),"prompts"===t&&(0,aa.jsx)(jg,{})]})]})},Pg=$r("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),Tg=$r("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),Og=e=>{let{children:t}=e;const n=he(),o=ue(),r=e=>{n(e)};return(0,aa.jsxs)("div",{className:"min-h-screen bg-gray-50 flex",children:[(0,aa.jsxs)("nav",{className:"bg-white shadow-sm fixed top-0 left-0 h-full w-64 border-r border-gray-200 z-10",children:[(0,aa.jsx)("div",{className:"flex items-center justify-center py-6 px-4 border-b border-gray-200",children:(0,aa.jsx)("img",{src:"https://devfy.co/wp-content/uploads/2024/07/Logo-1.png",alt:"Briefy Logo",className:"w-16 h-16 object-contain"})}),(0,aa.jsxs)("div",{className:"flex flex-col py-6 px-4 space-y-2",children:[(0,aa.jsxs)("button",{onClick:()=>r("/"),className:"flex items-center py-3 px-4 rounded-lg font-medium text-sm transition-colors ".concat("/"===o.pathname?"bg-blue-100 text-blue-700 border-r-2 border-blue-500":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:[(0,aa.jsx)(Pg,{className:"w-5 h-5 mr-3"}),"In\xedcio"]}),(0,aa.jsxs)("button",{onClick:()=>r("/projetos"),className:"flex items-center py-3 px-4 rounded-lg font-medium text-sm transition-colors ".concat("/projetos"===o.pathname?"bg-blue-100 text-blue-700 border-r-2 border-blue-500":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:[(0,aa.jsx)(Tg,{className:"w-5 h-5 mr-3"}),"Projetos"]}),(0,aa.jsxs)("button",{onClick:()=>r("/fluxogramas"),className:"flex items-center py-3 px-4 rounded-lg font-medium text-sm transition-colors ".concat("/fluxogramas"===o.pathname?"bg-blue-100 text-blue-700 border-r-2 border-blue-500":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:[(0,aa.jsx)(As,{className:"w-5 h-5 mr-3"}),"Fluxogramas"]}),(0,aa.jsxs)("button",{onClick:()=>r("/configuracoes"),className:"flex items-center py-3 px-4 rounded-lg font-medium text-sm transition-colors ".concat("/configuracoes"===o.pathname?"bg-blue-100 text-blue-700 border-r-2 border-blue-500":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:[(0,aa.jsx)(Ng,{className:"w-5 h-5 mr-3"}),"Configura\xe7\xf5es"]})]})]}),(0,aa.jsx)("main",{className:"flex-1 ml-64 mr-0 pt-8 px-12 py-12 overflow-auto",children:t})]})};const Ag=function(){const[t,n]=(0,e.useState)(null),[o,r]=(0,e.useState)(!1),[a,i]=(0,e.useState)(null),[s,l]=(0,e.useState)(null),[c,u]=(0,e.useState)(null),[d,p]=(0,e.useState)(null),h=()=>{const e={id:"session-".concat(Date.now()),title:"Nova Sess\xe3o de Processamento",description:"Sess\xe3o criada automaticamente",status:"preparing",currentStep:"Prepara\xe7\xe3o do Material",documents:[],videos:[],supportMaterials:{tasks:{id:"default-tasks",name:"Material de Apoio - Tasks",type:"tasks",content:"Material padr\xe3o para gera\xe7\xe3o de tasks",isDefault:!0,createdAt:new Date,updatedAt:new Date},flowchart:{id:"default-flowchart",name:"Material de Apoio - Fluxograma",type:"flowchart",content:"Material padr\xe3o para gera\xe7\xe3o de fluxograma",isDefault:!0,createdAt:new Date,updatedAt:new Date},pr:{id:"default-pr",name:"Material de Apoio - PR",type:"pr",content:"Material padr\xe3o para gera\xe7\xe3o de PR",isDefault:!0,createdAt:new Date,updatedAt:new Date}},createdAt:new Date,updatedAt:new Date};p(e)},f=e=>{p(e)},m=(e,n)=>{const o={id:"project-".concat(Date.now()),name:e,description:"Projeto criado via ".concat("briefy"===n?"Briefy":"Manual"),user_id:(null===t||void 0===t?void 0:t.id)||"current-user",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()};i(o),console.log("Projeto criado: ".concat(e," no modo ").concat(n))},g=async(e,t)=>{console.log("Projeto sendo processado:",e),console.log("Dados do scope:",t);let n=e;try{const{data:s,error:l}=await jr(e.name,e.description);if(l?console.error("Erro ao salvar projeto no banco:",l):(console.log("Projeto salvo no banco:",s),n=s,i(s)),t&&n)try{console.log("Salvando conte\xfado gerado no banco...");const e={pr:t.pr||"",flowchart:t.flowchart||{nodes:[],edges:[]},epics:t.epics||[],tasks:t.tasks||[]},a=await si(n.id,e,{savePR:!0,saveFlowchart:!0,saveTasks:!0});var o,r;if(a.success)console.log("\u2705 Conte\xfado salvo com sucesso:",{pr:!!a.pr,flowchart:!!a.flowchart,epics:(null===(o=a.epics)||void 0===o?void 0:o.length)||0,tasks:(null===(r=a.tasks)||void 0===r?void 0:r.length)||0});else console.error("\u274c Erro ao salvar conte\xfado:",a.errors)}catch(a){console.error("\u274c Erro ao salvar conte\xfado gerado:",a)}}catch(Ig){console.error("Erro cr\xedtico ao processar projeto:",Ig)}console.log("Projeto criado com sucesso:",n),setTimeout(()=>{window.location.href="/projetos"},1e3)},v=e=>{n(e),r(!0)};if(!o)return(0,aa.jsx)(ia,{onLoginSuccess:v});const y=()=>{const e=he(),n=(t,n)=>{console.log("App: handleProjectSelectedWithNav called",{project:t.name,contentType:n}),n?(console.log("App: setting selected project content"),u({project:t,contentType:n}),l(null),e("/projetos")):(console.log("App: setting selected project (no content type)"),l(t),u(null),e("/projetos"))},o=()=>{e("/")};return(0,aa.jsx)(Og,{children:(0,aa.jsxs)(Re,{children:[(0,aa.jsx)(Oe,{path:"/",element:(0,aa.jsx)(Ns,{user:t,currentProject:a,currentSession:d,onStartSession:h,onCreateProject:m,onProjectCreated:g,onUpdateSession:f,onCreateNewProject:o,onProjectSelected:n})}),(0,aa.jsx)(Oe,{path:"/projetos",element:(0,aa.jsx)(xg,{user:t,onProjectSelected:n,onCreateNewProject:o,selectedProject:s,selectedProjectContent:c,onBack:()=>{console.log("App: onBack called"),c?(console.log("App: clearing selectedProjectContent"),u(null)):s&&(console.log("App: clearing selectedProject"),l(null))}})}),(0,aa.jsx)(Oe,{path:"/fluxogramas",element:(0,aa.jsx)(wg,{user:t,onProjectSelected:n})}),(0,aa.jsx)(Oe,{path:"/configuracoes",element:(0,aa.jsx)(Cg,{})}),(0,aa.jsx)(Oe,{path:"*",element:(0,aa.jsx)(Te,{to:"/",replace:!0})})]})})};return(0,aa.jsx)(ht,{children:(0,aa.jsx)(y,{})})},Rg=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:o,getFCP:r,getLCP:a,getTTFB:i}=t;n(e),o(e),r(e),a(e),i(e)})};t.createRoot(document.getElementById("root")).render((0,aa.jsx)(e.StrictMode,{children:(0,aa.jsx)(Ag,{})})),Rg()})()})();
//# sourceMappingURL=main.9b946aea.js.map