{"ast":null,"code":"import React,{useState,useEffect}from'react';import{auth}from'../lib/supabase';import{Mail,Lock,Eye,EyeOff,LogIn,AlertCircle,CheckCircle,Loader}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export const LoginPage=_ref=>{let{onLoginSuccess}=_ref;const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[showPassword,setShowPassword]=useState(false);const[isLoading,setIsLoading]=useState(false);const[message,setMessage]=useState(null);useEffect(()=>{// Verificar se já está logado\nconst checkUser=async()=>{const currentUser=await auth.getCurrentUser();if(currentUser){onLoginSuccess(currentUser);}};checkUser();// Listener para mudanças de autenticação\nconst{data:{subscription}}=auth.onAuthStateChange((event,session)=>{if(event==='SIGNED_IN'&&session!==null&&session!==void 0&&session.user){onLoginSuccess(session.user);}});return()=>subscription.unsubscribe();},[onLoginSuccess]);const handleSubmit=async e=>{e.preventDefault();setIsLoading(true);setMessage(null);try{const{error}=await auth.signIn(email,password);if(error)throw error;setMessage({type:'success',text:'Login realizado com sucesso!'});}catch(error){setMessage({type:'error',text:error.message});}finally{setIsLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-md w-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-xl p-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://devfy.co/wp-content/uploads/2024/07/Logo-1.png\",alt:\"Briefy Logo\",className:\"w-24 h-24 object-contain mx-auto mb-6\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 mb-2\",children:\"Bem-vindo ao Briefy\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-lg\",children:\"Fa\\xE7a login para acessar sua conta\"})]}),message&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 p-4 rounded-xl flex items-center \".concat(message.type==='success'?'bg-green-50 text-green-800 border border-green-200':'bg-red-50 text-red-800 border border-red-200'),children:[message.type==='success'?/*#__PURE__*/_jsx(CheckCircle,{className:\"w-5 h-5 mr-3 flex-shrink-0\"}):/*#__PURE__*/_jsx(AlertCircle,{className:\"w-5 h-5 mr-3 flex-shrink-0\"}),message.text]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Email\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Mail,{className:\"w-5 h-5 absolute left-3 top-3 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",type:\"email\",value:email,onChange:e=>setEmail(e.target.value),required:true,className:\"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\",placeholder:\"seu@email.com\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Senha\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Lock,{className:\"w-5 h-5 absolute left-3 top-3 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",type:showPassword?'text':'password',value:password,onChange:e=>setPassword(e.target.value),required:true,minLength:6,className:\"w-full pl-12 pr-12 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\",placeholder:\"Sua senha\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowPassword(!showPassword),className:\"absolute right-3 top-3 text-gray-400 hover:text-gray-600 transition-colors\",children:showPassword?/*#__PURE__*/_jsx(EyeOff,{className:\"w-5 h-5\"}):/*#__PURE__*/_jsx(Eye,{className:\"w-5 h-5\"})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"M\\xEDnimo 6 caracteres\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isLoading,className:\"w-full flex items-center justify-center px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transform hover:scale-[1.02]\",children:isLoading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Loader,{className:\"w-5 h-5 mr-3 animate-spin\"}),\"Entrando...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(LogIn,{className:\"w-5 h-5 mr-3\"}),\"Entrar no Briefy\"]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-8 text-center\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Devfy Tecnologia - 2025\"})})]})})});};","map":{"version":3,"names":["React","useState","useEffect","auth","Mail","Lock","Eye","EyeOff","LogIn","AlertCircle","CheckCircle","Loader","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","LoginPage","_ref","onLoginSuccess","email","setEmail","password","setPassword","showPassword","setShowPassword","isLoading","setIsLoading","message","setMessage","checkUser","currentUser","getCurrentUser","data","subscription","onAuthStateChange","event","session","user","unsubscribe","handleSubmit","e","preventDefault","error","signIn","type","text","className","children","src","alt","concat","onSubmit","htmlFor","id","value","onChange","target","required","placeholder","minLength","onClick","disabled"],"sources":["/Users/matheuspina/Desktop/briefy-new/src/components/LoginPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { auth } from '../lib/supabase';\nimport {\n  Mail,\n  Lock,\n  Eye,\n  EyeOff,\n  LogIn,\n  AlertCircle,\n  CheckCircle,\n  Loader\n} from 'lucide-react';\n\ninterface LoginPageProps {\n  onLoginSuccess: (user: any) => void;\n}\n\nexport const LoginPage: React.FC<LoginPageProps> = ({ onLoginSuccess }) => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [message, setMessage] = useState<{ type: 'success' | 'error'; text: string } | null>(null);\n\n  useEffect(() => {\n    // Verificar se já está logado\n    const checkUser = async () => {\n      const currentUser = await auth.getCurrentUser();\n      if (currentUser) {\n        onLoginSuccess(currentUser);\n      }\n    };\n\n    checkUser();\n\n    // Listener para mudanças de autenticação\n    const { data: { subscription } } = auth.onAuthStateChange((event, session) => {\n      if (event === 'SIGNED_IN' && session?.user) {\n        onLoginSuccess(session.user);\n      }\n    });\n\n    return () => subscription.unsubscribe();\n  }, [onLoginSuccess]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsLoading(true);\n    setMessage(null);\n\n    try {\n      const { error } = await auth.signIn(email, password);\n      if (error) throw error;\n\n      setMessage({ type: 'success', text: 'Login realizado com sucesso!' });\n\n    } catch (error: any) {\n      setMessage({ type: 'error', text: error.message });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4\">\n      <div className=\"max-w-md w-full\">\n        {/* Login Card */}\n        <div className=\"bg-white rounded-2xl shadow-xl p-8\">\n          {/* Header */}\n          <div className=\"text-center mb-8\">\n            <img\n              src=\"https://devfy.co/wp-content/uploads/2024/07/Logo-1.png\"\n              alt=\"Briefy Logo\"\n              className=\"w-24 h-24 object-contain mx-auto mb-6\"\n            />\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">\n              Bem-vindo ao Briefy\n            </h1>\n            <p className=\"text-gray-600 text-lg\">\n              Faça login para acessar sua conta\n            </p>\n          </div>\n\n\n\n          {/* Message Alert */}\n          {message && (\n            <div className={`mb-6 p-4 rounded-xl flex items-center ${\n              message.type === 'success'\n                ? 'bg-green-50 text-green-800 border border-green-200'\n                : 'bg-red-50 text-red-800 border border-red-200'\n            }`}>\n              {message.type === 'success' ? (\n                <CheckCircle className=\"w-5 h-5 mr-3 flex-shrink-0\" />\n              ) : (\n                <AlertCircle className=\"w-5 h-5 mr-3 flex-shrink-0\" />\n              )}\n              {message.text}\n            </div>\n          )}\n\n          {/* Login Form */}\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            <div>\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Email\n              </label>\n              <div className=\"relative\">\n                <Mail className=\"w-5 h-5 absolute left-3 top-3 text-gray-400\" />\n                <input\n                  id=\"email\"\n                  type=\"email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  required\n                  className=\"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\"\n                  placeholder=\"seu@email.com\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Senha\n              </label>\n              <div className=\"relative\">\n                <Lock className=\"w-5 h-5 absolute left-3 top-3 text-gray-400\" />\n                <input\n                  id=\"password\"\n                  type={showPassword ? 'text' : 'password'}\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  required\n                  minLength={6}\n                  className=\"w-full pl-12 pr-12 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\"\n                  placeholder=\"Sua senha\"\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => setShowPassword(!showPassword)}\n                  className=\"absolute right-3 top-3 text-gray-400 hover:text-gray-600 transition-colors\"\n                >\n                  {showPassword ? (\n                    <EyeOff className=\"w-5 h-5\" />\n                  ) : (\n                    <Eye className=\"w-5 h-5\" />\n                  )}\n                </button>\n              </div>\n              <p className=\"text-xs text-gray-500 mt-1\">\n                Mínimo 6 caracteres\n              </p>\n            </div>\n\n            <button\n              type=\"submit\"\n              disabled={isLoading}\n              className=\"w-full flex items-center justify-center px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transform hover:scale-[1.02]\"\n            >\n              {isLoading ? (\n                <>\n                  <Loader className=\"w-5 h-5 mr-3 animate-spin\" />\n                  Entrando...\n                </>\n              ) : (\n                <>\n                  <LogIn className=\"w-5 h-5 mr-3\" />\n                  Entrar no Briefy\n                </>\n              )}\n            </button>\n          </form>\n\n          {/* Footer */}\n          <div className=\"mt-8 text-center\">\n            <p className=\"text-sm text-gray-500\">\n              Devfy Tecnologia - 2025\n            </p>\n          </div>\n        </div>\n\n      </div>\n    </div>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}