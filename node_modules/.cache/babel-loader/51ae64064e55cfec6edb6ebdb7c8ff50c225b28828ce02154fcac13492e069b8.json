{"ast":null,"code":"import React,{useState,useCallback,useRef}from'react';import{ReactFlow,Background,Controls,MiniMap,useNodesState,useEdgesState,Handle,Position,addEdge}from'reactflow';import'reactflow/dist/style.css';import{Maximize2,Minimize2,Plus,Download,RotateCcw}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";// Custom node component\nconst CustomNode=_ref=>{let{data,type}=_ref;const getNodeStyle=()=>{switch(type){case'input':return'bg-green-100 border-green-500 text-green-800';case'process':return'bg-blue-100 border-blue-500 text-blue-800';case'output':return'bg-purple-100 border-purple-500 text-purple-800';case'decision':return'bg-yellow-100 border-yellow-500 text-yellow-800';default:return'bg-gray-100 border-gray-500 text-gray-800';}};return/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-2 rounded-md border-2 shadow-md \".concat(getNodeStyle()),children:[/*#__PURE__*/_jsx(Handle,{type:\"target\",position:Position.Top}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium\",children:data.label}),/*#__PURE__*/_jsx(Handle,{type:\"source\",position:Position.Bottom})]});};const nodeTypes={input:CustomNode,process:CustomNode,output:CustomNode,decision:CustomNode};const FlowchartViewer=_ref2=>{let{flowchart,onFlowchartChange}=_ref2;const[isFullscreen,setIsFullscreen]=useState(false);const reactFlowWrapper=useRef(null);const reactFlowInstance=useRef(null);// Convert our custom nodes to ReactFlow format\nconst initialNodes=flowchart.nodes.map(node=>({id:node.id,type:node.type,position:node.position,data:{label:node.label}}));// Convert our custom edges to ReactFlow format\nconst initialEdges=flowchart.edges.map(edge=>({id:edge.id,source:edge.source,target:edge.target,label:edge.label,type:'smoothstep'}));const[nodes,setNodes,onNodesChange]=useNodesState(initialNodes);const[edges,setEdges,onEdgesChange]=useEdgesState(initialEdges);const onConnect=useCallback(params=>{if(!params.source||!params.target)return;const newEdge={id:\"edge-\".concat(Date.now()),source:params.source,target:params.target,type:'smoothstep'};setEdges(eds=>addEdge(newEdge,eds));// Notify parent component of changes\nif(onFlowchartChange){const updatedFlowchart={nodes:nodes.map(node=>({id:node.id,type:node.type,label:node.data.label,position:node.position})),edges:[...edges.map(edge=>({id:edge.id,source:edge.source,target:edge.target,label:typeof edge.label==='string'?edge.label:undefined})),{id:newEdge.id,source:newEdge.source,target:newEdge.target,label:undefined}]};onFlowchartChange(updatedFlowchart);}},[nodes,edges,setEdges,onFlowchartChange]);const toggleFullscreen=()=>{setIsFullscreen(!isFullscreen);};const addNewNode=type=>{const newNode={id:\"node-\".concat(Date.now()),type,position:{x:Math.random()*400+100,y:Math.random()*300+100},data:{label:\"Novo \".concat(type==='input'?'Início':type==='output'?'Fim':type==='decision'?'Decisão':'Processo')}};setNodes(nds=>[...nds,newNode]);// Notify parent component of changes\nif(onFlowchartChange){const updatedFlowchart={nodes:[...nodes.map(node=>({id:node.id,type:node.type,label:node.data.label,position:node.position})),{id:newNode.id,type:newNode.type,label:newNode.data.label,position:newNode.position}],edges:edges.map(edge=>({id:edge.id,source:edge.source,target:edge.target,label:typeof edge.label==='string'?edge.label:undefined}))};onFlowchartChange(updatedFlowchart);}};const exportToJson=()=>{const flowchartData={nodes:nodes.map(node=>({id:node.id,type:node.type,label:node.data.label,position:node.position})),edges:edges.map(edge=>({id:edge.id,source:edge.source,target:edge.target,label:typeof edge.label==='string'?edge.label:undefined}))};const dataStr=JSON.stringify(flowchartData,null,2);const dataUri='data:application/json;charset=utf-8,'+encodeURIComponent(dataStr);const link=document.createElement('a');link.setAttribute('href',dataUri);link.setAttribute('download','fluxograma.json');link.click();};const resetView=()=>{if(reactFlowInstance.current){reactFlowInstance.current.fitView();}};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow rounded-lg \".concat(isFullscreen?'fixed inset-0 z-50 p-4':'p-6'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900\",children:\"Fluxograma do Projeto\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-1 mr-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>addNewNode('input'),className:\"px-3 py-1 bg-green-500 text-white text-xs rounded hover:bg-green-600\",title:\"Adicionar In\\xEDcio\",children:/*#__PURE__*/_jsx(Plus,{className:\"w-3 h-3\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>addNewNode('process'),className:\"px-3 py-1 bg-blue-500 text-white text-xs rounded hover:bg-blue-600\",title:\"Adicionar Processo\",children:/*#__PURE__*/_jsx(Plus,{className:\"w-3 h-3\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>addNewNode('decision'),className:\"px-3 py-1 bg-yellow-500 text-white text-xs rounded hover:bg-yellow-600\",title:\"Adicionar Decis\\xE3o\",children:/*#__PURE__*/_jsx(Plus,{className:\"w-3 h-3\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>addNewNode('output'),className:\"px-3 py-1 bg-purple-500 text-white text-xs rounded hover:bg-purple-600\",title:\"Adicionar Fim\",children:/*#__PURE__*/_jsx(Plus,{className:\"w-3 h-3\"})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:resetView,className:\"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded\",title:\"Resetar Visualiza\\xE7\\xE3o\",children:/*#__PURE__*/_jsx(RotateCcw,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:exportToJson,className:\"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded\",title:\"Exportar como JSON\",children:/*#__PURE__*/_jsx(Download,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:toggleFullscreen,className:\"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded\",title:isFullscreen?'Sair da Tela Cheia':'Tela Cheia',children:isFullscreen?/*#__PURE__*/_jsx(Minimize2,{className:\"w-4 h-4\"}):/*#__PURE__*/_jsx(Maximize2,{className:\"w-4 h-4\"})})]})]}),flowchart.nodes.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12 text-gray-500\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Nenhum fluxograma gerado ainda.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm mt-2\",children:\"Fa\\xE7a upload de documentos e clique em \\\"Gerar Escopo e Tasks\\\" para criar o fluxograma.\"})]}):/*#__PURE__*/_jsx(\"div\",{ref:reactFlowWrapper,className:\"\".concat(isFullscreen?'h-[calc(100vh-120px)]':'h-96',\" w-full border border-gray-200 rounded-lg\"),children:/*#__PURE__*/_jsxs(ReactFlow,{ref:reactFlowInstance,nodes:nodes,edges:edges,onNodesChange:onNodesChange,onEdgesChange:onEdgesChange,onConnect:onConnect,nodeTypes:nodeTypes,fitView:true,nodesDraggable:true,nodesConnectable:true,elementsSelectable:true,children:[/*#__PURE__*/_jsx(Background,{}),/*#__PURE__*/_jsx(Controls,{}),/*#__PURE__*/_jsx(MiniMap,{})]})}),flowchart.nodes.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"N\\xF3s:\"}),\" \",nodes.length,\" |\",/*#__PURE__*/_jsx(\"strong\",{children:\" Conex\\xF5es:\"}),\" \",edges.length]})]});};export default FlowchartViewer;","map":{"version":3,"names":["React","useState","useCallback","useRef","ReactFlow","Background","Controls","MiniMap","useNodesState","useEdgesState","Handle","Position","addEdge","Maximize2","Minimize2","Plus","Download","RotateCcw","jsx","_jsx","jsxs","_jsxs","CustomNode","_ref","data","type","getNodeStyle","className","concat","children","position","Top","label","Bottom","nodeTypes","input","process","output","decision","FlowchartViewer","_ref2","flowchart","onFlowchartChange","isFullscreen","setIsFullscreen","reactFlowWrapper","reactFlowInstance","initialNodes","nodes","map","node","id","initialEdges","edges","edge","source","target","setNodes","onNodesChange","setEdges","onEdgesChange","onConnect","params","newEdge","Date","now","eds","updatedFlowchart","undefined","toggleFullscreen","addNewNode","newNode","x","Math","random","y","nds","exportToJson","flowchartData","dataStr","JSON","stringify","dataUri","encodeURIComponent","link","document","createElement","setAttribute","click","resetView","current","fitView","onClick","title","length","ref","nodesDraggable","nodesConnectable","elementsSelectable"],"sources":["/Users/matheuspina/Desktop/briefy-new/src/components/FlowchartViewer.tsx"],"sourcesContent":["import React, { useState, useCallback, useRef } from 'react';\nimport {\n  ReactFlow,\n  Node,\n  Edge,\n  Background,\n  Controls,\n  MiniMap,\n  useNodesState,\n  useEdgesState,\n  Handle,\n  Position,\n  addEdge,\n  Connection,\n  Edge as ReactFlowEdge,\n  Node as ReactFlowNode\n} from 'reactflow';\nimport 'reactflow/dist/style.css';\nimport {\n  Maximize2,\n  Minimize2,\n  Plus,\n  Download,\n  ZoomIn,\n  ZoomOut,\n  RotateCcw,\n  Save\n} from 'lucide-react';\n\nimport { FlowchartNode, FlowchartEdge } from '../types';\n\ninterface FlowchartViewerProps {\n  flowchart: {\n    nodes: FlowchartNode[];\n    edges: FlowchartEdge[];\n  };\n  onFlowchartChange?: (flowchart: { nodes: FlowchartNode[]; edges: FlowchartEdge[] }) => void;\n}\n\n// Custom node component\nconst CustomNode = ({ data, type }: any) => {\n  const getNodeStyle = () => {\n    switch (type) {\n      case 'input': \n        return 'bg-green-100 border-green-500 text-green-800';\n      case 'process':\n        return 'bg-blue-100 border-blue-500 text-blue-800';\n      case 'output':\n        return 'bg-purple-100 border-purple-500 text-purple-800';\n      case 'decision':\n        return 'bg-yellow-100 border-yellow-500 text-yellow-800';\n      default:\n        return 'bg-gray-100 border-gray-500 text-gray-800';\n    }\n  };\n\n  return (\n    <div className={`px-4 py-2 rounded-md border-2 shadow-md ${getNodeStyle()}`}>\n      <Handle type=\"target\" position={Position.Top} />\n      <div className=\"text-sm font-medium\">{data.label}</div>\n      <Handle type=\"source\" position={Position.Bottom} />\n    </div>\n  );\n};\n\nconst nodeTypes = {\n  input: CustomNode,\n  process: CustomNode,\n  output: CustomNode,\n  decision: CustomNode,\n};\n\nconst FlowchartViewer: React.FC<FlowchartViewerProps> = ({\n  flowchart,\n  onFlowchartChange\n}) => {\n  const [isFullscreen, setIsFullscreen] = useState(false);\n  const reactFlowWrapper = useRef<HTMLDivElement>(null);\n  const reactFlowInstance = useRef<any>(null);\n\n  // Convert our custom nodes to ReactFlow format\n  const initialNodes: Node[] = flowchart.nodes.map(node => ({\n    id: node.id,\n    type: node.type,\n    position: node.position,\n    data: { label: node.label }\n  }));\n\n  // Convert our custom edges to ReactFlow format\n  const initialEdges: Edge[] = flowchart.edges.map(edge => ({\n    id: edge.id,\n    source: edge.source,\n    target: edge.target,\n    label: edge.label,\n    type: 'smoothstep'\n  }));\n\n  const [nodes, setNodes, onNodesChange] = useNodesState(initialNodes);\n  const [edges, setEdges, onEdgesChange] = useEdgesState(initialEdges);\n\n  const onConnect = useCallback(\n    (params: Connection) => {\n      if (!params.source || !params.target) return;\n\n      const newEdge: ReactFlowEdge = {\n        id: `edge-${Date.now()}`,\n        source: params.source,\n        target: params.target,\n        type: 'smoothstep'\n      };\n      setEdges((eds) => addEdge(newEdge, eds));\n\n      // Notify parent component of changes\n      if (onFlowchartChange) {\n        const updatedFlowchart = {\n          nodes: nodes.map(node => ({\n            id: node.id,\n            type: node.type as 'input' | 'process' | 'output' | 'decision',\n            label: node.data.label,\n            position: node.position\n          })),\n          edges: [...edges.map(edge => ({\n            id: edge.id,\n            source: edge.source,\n            target: edge.target,\n            label: typeof edge.label === 'string' ? edge.label : undefined\n          })), {\n            id: newEdge.id,\n            source: newEdge.source,\n            target: newEdge.target,\n            label: undefined\n          }]\n        };\n        onFlowchartChange(updatedFlowchart);\n      }\n    },\n    [nodes, edges, setEdges, onFlowchartChange]\n  );\n\n  const toggleFullscreen = () => {\n    setIsFullscreen(!isFullscreen);\n  };\n\n  const addNewNode = (type: 'input' | 'process' | 'output' | 'decision') => {\n    const newNode: ReactFlowNode = {\n      id: `node-${Date.now()}`,\n      type,\n      position: {\n        x: Math.random() * 400 + 100,\n        y: Math.random() * 300 + 100\n      },\n      data: { label: `Novo ${type === 'input' ? 'Início' : type === 'output' ? 'Fim' : type === 'decision' ? 'Decisão' : 'Processo'}` }\n    };\n\n    setNodes((nds) => [...nds, newNode]);\n\n    // Notify parent component of changes\n    if (onFlowchartChange) {\n      const updatedFlowchart = {\n        nodes: [...nodes.map(node => ({\n          id: node.id,\n          type: node.type as 'input' | 'process' | 'output' | 'decision',\n          label: node.data.label,\n          position: node.position\n        })), {\n          id: newNode.id,\n          type: newNode.type as 'input' | 'process' | 'output' | 'decision',\n          label: newNode.data.label,\n          position: newNode.position\n        }],\n        edges: edges.map(edge => ({\n          id: edge.id,\n          source: edge.source,\n          target: edge.target,\n          label: typeof edge.label === 'string' ? edge.label : undefined\n        }))\n      };\n      onFlowchartChange(updatedFlowchart);\n    }\n  };\n\n  const exportToJson = () => {\n    const flowchartData = {\n      nodes: nodes.map(node => ({\n        id: node.id,\n        type: node.type as 'input' | 'process' | 'output' | 'decision',\n        label: node.data.label,\n        position: node.position\n      })),\n      edges: edges.map(edge => ({\n        id: edge.id,\n        source: edge.source,\n        target: edge.target,\n        label: typeof edge.label === 'string' ? edge.label : undefined\n      }))\n    };\n\n    const dataStr = JSON.stringify(flowchartData, null, 2);\n    const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);\n\n    const link = document.createElement('a');\n    link.setAttribute('href', dataUri);\n    link.setAttribute('download', 'fluxograma.json');\n    link.click();\n  };\n\n  const resetView = () => {\n    if (reactFlowInstance.current) {\n      reactFlowInstance.current.fitView();\n    }\n  };\n\n  return (\n    <div className={`bg-white shadow rounded-lg ${isFullscreen ? 'fixed inset-0 z-50 p-4' : 'p-6'}`}>\n      {/* Header with Controls */}\n      <div className=\"flex items-center justify-between mb-4\">\n        <h2 className=\"text-xl font-semibold text-gray-900\">\n          Fluxograma do Projeto\n        </h2>\n\n        <div className=\"flex items-center gap-2\">\n          {/* Add Node Buttons */}\n          <div className=\"flex gap-1 mr-4\">\n            <button\n              onClick={() => addNewNode('input')}\n              className=\"px-3 py-1 bg-green-500 text-white text-xs rounded hover:bg-green-600\"\n              title=\"Adicionar Início\"\n            >\n              <Plus className=\"w-3 h-3\" />\n            </button>\n            <button\n              onClick={() => addNewNode('process')}\n              className=\"px-3 py-1 bg-blue-500 text-white text-xs rounded hover:bg-blue-600\"\n              title=\"Adicionar Processo\"\n            >\n              <Plus className=\"w-3 h-3\" />\n            </button>\n            <button\n              onClick={() => addNewNode('decision')}\n              className=\"px-3 py-1 bg-yellow-500 text-white text-xs rounded hover:bg-yellow-600\"\n              title=\"Adicionar Decisão\"\n            >\n              <Plus className=\"w-3 h-3\" />\n            </button>\n            <button\n              onClick={() => addNewNode('output')}\n              className=\"px-3 py-1 bg-purple-500 text-white text-xs rounded hover:bg-purple-600\"\n              title=\"Adicionar Fim\"\n            >\n              <Plus className=\"w-3 h-3\" />\n            </button>\n          </div>\n\n          {/* Control Buttons */}\n          <button\n            onClick={resetView}\n            className=\"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded\"\n            title=\"Resetar Visualização\"\n          >\n            <RotateCcw className=\"w-4 h-4\" />\n          </button>\n\n          <button\n            onClick={exportToJson}\n            className=\"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded\"\n            title=\"Exportar como JSON\"\n          >\n            <Download className=\"w-4 h-4\" />\n          </button>\n\n          <button\n            onClick={toggleFullscreen}\n            className=\"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded\"\n            title={isFullscreen ? 'Sair da Tela Cheia' : 'Tela Cheia'}\n          >\n            {isFullscreen ? (\n              <Minimize2 className=\"w-4 h-4\" />\n            ) : (\n              <Maximize2 className=\"w-4 h-4\" />\n            )}\n          </button>\n        </div>\n      </div>\n\n      {flowchart.nodes.length === 0 ? (\n        <div className=\"text-center py-12 text-gray-500\">\n          <p>Nenhum fluxograma gerado ainda.</p>\n          <p className=\"text-sm mt-2\">\n            Faça upload de documentos e clique em \"Gerar Escopo e Tasks\" para criar o fluxograma.\n          </p>\n        </div>\n      ) : (\n        <div\n          ref={reactFlowWrapper}\n          className={`${isFullscreen ? 'h-[calc(100vh-120px)]' : 'h-96'} w-full border border-gray-200 rounded-lg`}\n        >\n          <ReactFlow\n            ref={reactFlowInstance}\n            nodes={nodes}\n            edges={edges}\n            onNodesChange={onNodesChange}\n            onEdgesChange={onEdgesChange}\n            onConnect={onConnect}\n            nodeTypes={nodeTypes}\n            fitView\n            nodesDraggable={true}\n            nodesConnectable={true}\n            elementsSelectable={true}\n          >\n            <Background />\n            <Controls />\n            <MiniMap />\n          </ReactFlow>\n        </div>\n      )}\n\n      {flowchart.nodes.length > 0 && (\n        <div className=\"mt-4 text-sm text-gray-600\">\n          <strong>Nós:</strong> {nodes.length} |\n          <strong> Conexões:</strong> {edges.length}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default FlowchartViewer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}