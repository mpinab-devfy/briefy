{"ast":null,"code":"import _objectSpread from\"/Users/matheuspina/Desktop/briefy-new/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{projects,tasks,flowcharts,pullRequests,supabase}from'../lib/supabase';import{Folder,Plus,Loader,AlertCircle,CheckCircle,FileText,CheckSquare,GitBranch,ArrowLeft,Calendar,Edit,Save,X}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ProjectList=_ref=>{let{onProjectSelected,onCreateNewProject,user,selectedProject,showContentSelection=false}=_ref;const[view,setView]=useState(showContentSelection?'content-selection':'list');const[localSelectedProject,setLocalSelectedProject]=useState(null);const[existingProjects,setExistingProjects]=useState([]);const[isLoading,setIsLoading]=useState(false);console.log('ProjectList: Component rendered/re-rendered',{userId:user===null||user===void 0?void 0:user.id,userEmail:user===null||user===void 0?void 0:user.email,selectedProjectId:selectedProject===null||selectedProject===void 0?void 0:selectedProject.id,showContentSelection,existingProjectsLength:existingProjects===null||existingProjects===void 0?void 0:existingProjects.length,isLoading,view});const[message,setMessage]=useState(null);const[showDeleteConfirm,setShowDeleteConfirm]=useState(null);const[isDeleting,setIsDeleting]=useState(false);// Função para criar projeto de teste\nconst createTestProject=async()=>{console.log('ProjectList: createTestProject called');try{const testProject={name:'Projeto de Teste',description:'Projeto criado para testar a funcionalidade da lista'};console.log('ProjectList: creating test project with data:',testProject);const{data,error}=await projects.create(testProject.name,testProject.description);console.log('ProjectList: projects.create response:',{data,error});if(error){console.error('ProjectList: Erro ao criar projeto de teste:',error);setMessage({type:'error',text:'Erro ao criar projeto de teste: '+error.message});}else{console.log('ProjectList: Projeto de teste criado:',data);setMessage({type:'success',text:'Projeto de teste criado com sucesso!'});// Recarregar a lista\nawait loadProjects();}}catch(error){console.error('ProjectList: Erro ao criar projeto de teste:',error);setMessage({type:'error',text:'Erro ao criar projeto de teste: '+error.message});}};// Estados para edição do nome do projeto\nconst[isEditingName,setIsEditingName]=useState(false);const[editingProjectName,setEditingProjectName]=useState('');const[isUpdatingName,setIsUpdatingName]=useState(false);useEffect(()=>{console.log('ProjectList: useEffect triggered with user:',user===null||user===void 0?void 0:user.id,user===null||user===void 0?void 0:user.email);loadProjects();},[user===null||user===void 0?void 0:user.id]);// Mudou para user?.id para evitar re-renders se user object mudar\n// Atualizar view quando showContentSelection muda\nuseEffect(()=>{console.log('ProjectList: showContentSelection useEffect triggered:',{showContentSelection,selectedProjectId:selectedProject===null||selectedProject===void 0?void 0:selectedProject.id,currentView:view});setView(showContentSelection?'content-selection':'list');if(showContentSelection&&selectedProject){setLocalSelectedProject(selectedProject);}},[showContentSelection,selectedProject===null||selectedProject===void 0?void 0:selectedProject.id]);// Mudou para selectedProject?.id para evitar re-renders\nconst loadProjects=React.useCallback(async()=>{console.log('ProjectList: loadProjects called');setIsLoading(true);try{console.log('ProjectList: calling projects.list()');const{data,error}=await projects.list();console.log('ProjectList: projects.list() response:',{data,error});if(error){console.error('ProjectList: Error from projects.list():',error);throw error;}// Buscar dados reais de conteúdo para cada projeto\nconst projectsWithContent=await Promise.all((data||[]).map(async project=>{try{// Buscar tasks do projeto\nconst{data:projectTasks}=await tasks.list(project.id);const hasTasks=projectTasks&&projectTasks.length>0;// Buscar fluxogramas do projeto\nconst{data:projectFlowcharts}=await flowcharts.list(project.id);const hasFlowchart=projectFlowcharts&&projectFlowcharts.length>0;// Buscar PRs do projeto\nconst{data:projectPRs}=await pullRequests.list(project.id);const hasPR=projectPRs&&projectPRs.length>0;return _objectSpread(_objectSpread({},project),{},{hasPR,hasTasks,hasFlowchart});}catch(err){console.error(\"Erro ao carregar dados do projeto \".concat(project.name,\":\"),err);// Em caso de erro, assumir que tem conteúdo (fallback)\nreturn _objectSpread(_objectSpread({},project),{},{hasPR:true,hasTasks:true,hasFlowchart:true});}}));console.log('ProjectList: setting existingProjects:',projectsWithContent);setExistingProjects(projectsWithContent);}catch(error){console.error('ProjectList: Error in loadProjects:',error);setMessage({type:'error',text:'Erro ao carregar projetos: '+error.message});}finally{setIsLoading(false);}},[]);const handleProjectClick=project=>{setLocalSelectedProject(project);setView('content-selection');};const handleContentSelect=contentType=>{const projectToUse=localSelectedProject||selectedProject;if(projectToUse){onProjectSelected(projectToUse,contentType);}};const startEditingName=()=>{const projectToUse=localSelectedProject||selectedProject;if(projectToUse){setEditingProjectName(projectToUse.name);setIsEditingName(true);}};const cancelEditingName=()=>{setIsEditingName(false);setEditingProjectName('');};const saveProjectName=async()=>{const projectToUse=localSelectedProject||selectedProject;if(!projectToUse||!editingProjectName.trim())return;setIsUpdatingName(true);try{const{error}=await projects.update(projectToUse.id,{name:editingProjectName.trim()});if(error)throw error;// Atualizar o projeto selecionado\nif(localSelectedProject){setLocalSelectedProject(prev=>prev?_objectSpread(_objectSpread({},prev),{},{name:editingProjectName.trim()}):null);}// Atualizar a lista de projetos\nsetExistingProjects(prev=>prev.map(p=>p.id===projectToUse.id?_objectSpread(_objectSpread({},p),{},{name:editingProjectName.trim()}):p));setMessage({type:'success',text:'Nome do projeto atualizado com sucesso!'});setIsEditingName(false);setEditingProjectName('');}catch(error){setMessage({type:'error',text:'Erro ao atualizar nome do projeto: '+error.message});}finally{setIsUpdatingName(false);}};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString('pt-BR',{day:'2-digit',month:'2-digit',year:'numeric'});};const handleDeleteProject=async(projectId,projectName)=>{setIsDeleting(true);try{// Primeiro deletar todos os itens associados ao projeto\n// Tasks\nconst{error:tasksError}=await supabase.from('tasks').delete().eq('project_id',projectId);if(tasksError){console.error('Erro ao deletar tasks:',tasksError);}// Flowcharts\nconst{error:flowchartsError}=await supabase.from('flowcharts').delete().eq('project_id',projectId);if(flowchartsError){console.error('Erro ao deletar flowcharts:',flowchartsError);}// Pull Requests\nconst{error:prError}=await supabase.from('pull_requests').delete().eq('project_id',projectId);if(prError){console.error('Erro ao deletar pull requests:',prError);}// Support Materials\nconst{error:supportError}=await supabase.from('support_materials').delete().eq('project_id',projectId);if(supportError){console.error('Erro ao deletar materiais de apoio:',supportError);}// Video Extractions\nconst{error:videoError}=await supabase.from('video_extractions').delete().eq('project_id',projectId);if(videoError){console.error('Erro ao deletar extrações de vídeo:',videoError);}// AI Analyses\nconst{error:aiError}=await supabase.from('ai_analyses').delete().eq('project_id',projectId);if(aiError){console.error('Erro ao deletar análises IA:',aiError);}// Epics\nconst{error:epicsError}=await supabase.from('epics').delete().eq('project_id',projectId);if(epicsError){console.error('Erro ao deletar épicos:',epicsError);}// Finalmente deletar o projeto\nconst{error:projectError}=await projects.delete(projectId);if(projectError){throw projectError;}setMessage({type:'success',text:\"Projeto \\\"\".concat(projectName,\"\\\" e todos os itens associados foram deletados com sucesso!\")});// Recarregar a lista de projetos\nawait loadProjects();setShowDeleteConfirm(null);}catch(error){console.error('Erro ao deletar projeto:',error);setMessage({type:'error',text:\"Erro ao deletar projeto: \".concat(error.message)});}finally{setIsDeleting(false);}};const renderProjectList=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-full mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(Folder,{className:\"w-8 h-8 text-blue-600\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 mb-4\",children:\"Meus Projetos\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg text-gray-600 mb-6\",children:\"Selecione um projeto para visualizar seu conte\\xFAdo\"})]}),message&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 p-4 rounded-lg flex items-center \".concat(message.type==='success'?'bg-green-50 text-green-800 border border-green-200':'bg-red-50 text-red-800 border border-red-200'),children:[message.type==='success'?/*#__PURE__*/_jsx(CheckCircle,{className:\"w-5 h-5 mr-3 flex-shrink-0\"}):/*#__PURE__*/_jsx(AlertCircle,{className:\"w-5 h-5 mr-3 flex-shrink-0\"}),message.text]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid lg:grid-cols-2 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900\",children:\"Projetos Criados\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:onCreateNewProject,className:\"flex items-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\",children:[/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4 mr-2\"}),\"Novo Projeto\"]})]}),isLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center py-8\",children:[/*#__PURE__*/_jsx(Loader,{className:\"w-6 h-6 animate-spin text-blue-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-gray-600\",children:\"Carregando projetos...\"})]}):existingProjects.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(Folder,{className:\"w-12 h-12 text-gray-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"Nenhum projeto encontrado\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:\"Crie seu primeiro projeto para come\\xE7ar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onCreateNewProject,className:\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\",children:\"Criar Primeiro Projeto\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:existingProjects.map(project=>/*#__PURE__*/_jsxs(\"div\",{onClick:()=>handleProjectClick(project),className:\"border border-gray-200 rounded-lg p-4 cursor-pointer hover:border-blue-300 hover:bg-blue-50 transition-all\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:project.name}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();setShowDeleteConfirm(project.id);},className:\"text-red-500 hover:text-red-700 p-1 rounded transition-colors\",title:\"Deletar projeto\",children:/*#__PURE__*/_jsx(X,{className:\"w-4 h-4\"})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-3\",children:project.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500 mb-3\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"w-4 h-4 mr-1\"}),\"Criado em \",formatDate(project.created_at)]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-4\",children:/*#__PURE__*/_jsx(Folder,{className:\"w-8 h-8 text-blue-600\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center \".concat(project.hasPR?'text-green-600':'text-gray-400'),children:[/*#__PURE__*/_jsx(FileText,{className:\"w-4 h-4 mr-1\"}),\"PR \",project.hasPR?'✓':'✗']}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center \".concat(project.hasTasks?'text-green-600':'text-gray-400'),children:[/*#__PURE__*/_jsx(CheckSquare,{className:\"w-4 h-4 mr-1\"}),\"Tasks \",project.hasTasks?'✓':'✗']}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center \".concat(project.hasFlowchart?'text-green-600':'text-gray-400'),children:[/*#__PURE__*/_jsx(GitBranch,{className:\"w-4 h-4 mr-1\"}),\"Fluxograma \",project.hasFlowchart?'✓':'✗']})]})]},project.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Resumo\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-blue-600\",children:existingProjects.length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Projetos\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-green-600\",children:existingProjects.filter(p=>p.hasPR&&p.hasTasks&&p.hasFlowchart).length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Completos\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"A\\xE7\\xF5es R\\xE1pidas\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:onCreateNewProject,className:\"w-full flex items-center justify-center px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\",children:[/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4 mr-2\"}),\"Criar Novo Projeto\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:loadProjects,className:\"w-full flex items-center justify-center px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors\",children:[/*#__PURE__*/_jsx(Loader,{className:\"w-4 h-4 mr-2\"}),\"Atualizar Lista\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:createTestProject,className:\"w-full flex items-center justify-center px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors\",children:[/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4 mr-2\"}),\"Criar Projeto de Teste\"]})]})]})]})]}),showDeleteConfirm&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 max-w-md w-full mx-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-4\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-6 h-6 text-red-500 mr-3\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Confirmar Exclus\\xE3o\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"Tem certeza que deseja deletar este projeto e todos os itens associados? Esta a\\xE7\\xE3o n\\xE3o pode ser desfeita.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDeleteConfirm(null),className:\"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium\",disabled:isDeleting,children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{const project=existingProjects.find(p=>p.id===showDeleteConfirm);if(project){handleDeleteProject(project.id,project.name);}},disabled:isDeleting,className:\"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50 flex items-center\",children:isDeleting?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Loader,{className:\"w-4 h-4 mr-2 animate-spin\"}),\"Deletando...\"]}):'Deletar Projeto'})]})]})})]});const renderContentSelection=()=>{const projectToShow=localSelectedProject||(selectedProject?selectedProject:null);if(!projectToShow)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-full mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setView('list');setLocalSelectedProject(null);},className:\"flex items-center text-blue-600 hover:text-blue-800 mb-4\",children:[/*#__PURE__*/_jsx(ArrowLeft,{className:\"w-4 h-4 mr-2\"}),\"Voltar para Projetos\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center mb-2\",children:isEditingName?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editingProjectName,onChange:e=>setEditingProjectName(e.target.value),className:\"text-3xl font-bold text-gray-900 bg-white border-2 border-blue-500 rounded px-2 py-1 focus:outline-none focus:border-blue-600\",autoFocus:true,onKeyDown:e=>{if(e.key==='Enter'){saveProjectName();}else if(e.key==='Escape'){cancelEditingName();}}}),/*#__PURE__*/_jsx(\"button\",{onClick:saveProjectName,disabled:isUpdatingName||!editingProjectName.trim(),className:\"p-2 bg-green-500 text-white rounded hover:bg-green-600 disabled:opacity-50\",children:isUpdatingName?/*#__PURE__*/_jsx(Loader,{className:\"w-4 h-4 animate-spin\"}):/*#__PURE__*/_jsx(Save,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:cancelEditingName,className:\"p-2 bg-gray-500 text-white rounded hover:bg-gray-600\",children:/*#__PURE__*/_jsx(X,{className:\"w-4 h-4\"})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:projectToShow.name}),/*#__PURE__*/_jsx(\"button\",{onClick:startEditingName,className:\"p-2 text-gray-400 hover:text-blue-600 transition-colors\",title:\"Editar nome do projeto\",children:/*#__PURE__*/_jsx(Edit,{className:\"w-5 h-5\"})})]})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg text-gray-600\",children:\"Selecione o tipo de conte\\xFAdo que deseja visualizar\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{onClick:()=>handleContentSelect('pr'),className:\"bg-white rounded-lg shadow-lg p-6 cursor-pointer transition-all hover:shadow-xl \".concat(projectToShow.hasPR?'hover:border-blue-300 hover:bg-blue-50':'opacity-50 cursor-not-allowed'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 rounded-full flex items-center justify-center \".concat(projectToShow.hasPR?'bg-blue-100 text-blue-600':'bg-gray-100 text-gray-400'),children:/*#__PURE__*/_jsx(FileText,{className:\"w-6 h-6\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 text-center mb-2\",children:\"Documento T\\xE9cnico (PR)\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-center text-sm\",children:projectToShow.hasPR?'Visualizar o resumo técnico detalhado do projeto':'Documento técnico não disponível'})]}),/*#__PURE__*/_jsxs(\"div\",{onClick:()=>handleContentSelect('tasks'),className:\"bg-white rounded-lg shadow-lg p-6 cursor-pointer transition-all hover:shadow-xl \".concat(projectToShow.hasTasks?'hover:border-green-300 hover:bg-green-50':'opacity-50 cursor-not-allowed'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 rounded-full flex items-center justify-center \".concat(projectToShow.hasTasks?'bg-green-100 text-green-600':'bg-gray-100 text-gray-400'),children:/*#__PURE__*/_jsx(CheckSquare,{className:\"w-6 h-6\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 text-center mb-2\",children:\"Tasks\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-center text-sm\",children:projectToShow.hasTasks?'Gerenciar e visualizar as tarefas do projeto':'Tasks não disponíveis'})]}),/*#__PURE__*/_jsxs(\"div\",{onClick:()=>handleContentSelect('flowchart'),className:\"bg-white rounded-lg shadow-lg p-6 cursor-pointer transition-all hover:shadow-xl \".concat(projectToShow.hasFlowchart?'hover:border-purple-300 hover:bg-purple-50':'opacity-50 cursor-not-allowed'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 rounded-full flex items-center justify-center \".concat(projectToShow.hasFlowchart?'bg-purple-100 text-purple-600':'bg-gray-100 text-gray-400'),children:/*#__PURE__*/_jsx(GitBranch,{className:\"w-6 h-6\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 text-center mb-2\",children:\"Fluxograma\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-center text-sm\",children:projectToShow.hasFlowchart?'Visualizar o fluxograma do projeto':'Fluxograma não disponível'})]})]})]});};if(view==='list'){return renderProjectList();}else{return renderContentSelection();}};export default ProjectList;","map":{"version":3,"names":["React","useState","useEffect","projects","tasks","flowcharts","pullRequests","supabase","Folder","Plus","Loader","AlertCircle","CheckCircle","FileText","CheckSquare","GitBranch","ArrowLeft","Calendar","Edit","Save","X","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProjectList","_ref","onProjectSelected","onCreateNewProject","user","selectedProject","showContentSelection","view","setView","localSelectedProject","setLocalSelectedProject","existingProjects","setExistingProjects","isLoading","setIsLoading","console","log","userId","id","userEmail","email","selectedProjectId","existingProjectsLength","length","message","setMessage","showDeleteConfirm","setShowDeleteConfirm","isDeleting","setIsDeleting","createTestProject","testProject","name","description","data","error","create","type","text","loadProjects","isEditingName","setIsEditingName","editingProjectName","setEditingProjectName","isUpdatingName","setIsUpdatingName","currentView","useCallback","list","projectsWithContent","Promise","all","map","project","projectTasks","hasTasks","projectFlowcharts","hasFlowchart","projectPRs","hasPR","_objectSpread","err","concat","handleProjectClick","handleContentSelect","contentType","projectToUse","startEditingName","cancelEditingName","saveProjectName","trim","update","prev","p","formatDate","dateString","Date","toLocaleDateString","day","month","year","handleDeleteProject","projectId","projectName","tasksError","from","delete","eq","flowchartsError","prError","supportError","videoError","aiError","epicsError","projectError","renderProjectList","className","children","onClick","e","stopPropagation","title","created_at","filter","disabled","find","renderContentSelection","projectToShow","value","onChange","target","autoFocus","onKeyDown","key"],"sources":["/Users/matheuspina/Desktop/briefy-new/src/components/ProjectList.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { projects, Project, tasks, flowcharts, pullRequests, supabase } from '../lib/supabase';\nimport {\n  Folder,\n  Plus,\n  Loader,\n  AlertCircle,\n  CheckCircle,\n  FileText,\n  CheckSquare,\n  GitBranch,\n  ArrowLeft,\n  Calendar,\n  Edit,\n  Save,\n  X\n} from 'lucide-react';\n\ninterface ProjectListProps {\n  onProjectSelected: (project: Project, contentType?: 'pr' | 'tasks' | 'flowchart') => void;\n  onCreateNewProject: () => void;\n  user: any;\n  selectedProject?: Project | null;\n  showContentSelection?: boolean;\n}\n\ntype ProjectView = 'list' | 'content-selection';\n\ninterface ProjectWithContent extends Project {\n  hasPR?: boolean;\n  hasTasks?: boolean;\n  hasFlowchart?: boolean;\n}\n\nconst ProjectList: React.FC<ProjectListProps> = ({\n  onProjectSelected,\n  onCreateNewProject,\n  user,\n  selectedProject,\n  showContentSelection = false\n}) => {\n  const [view, setView] = useState<ProjectView>(showContentSelection ? 'content-selection' : 'list');\n  const [localSelectedProject, setLocalSelectedProject] = useState<ProjectWithContent | null>(null);\n  const [existingProjects, setExistingProjects] = useState<ProjectWithContent[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  console.log('ProjectList: Component rendered/re-rendered', {\n    userId: user?.id,\n    userEmail: user?.email,\n    selectedProjectId: selectedProject?.id,\n    showContentSelection,\n    existingProjectsLength: existingProjects?.length,\n    isLoading,\n    view\n  });\n  const [message, setMessage] = useState<{ type: 'success' | 'error'; text: string } | null>(null);\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState<string | null>(null);\n  const [isDeleting, setIsDeleting] = useState(false);\n\n  // Função para criar projeto de teste\n  const createTestProject = async () => {\n    console.log('ProjectList: createTestProject called');\n    try {\n      const testProject = {\n        name: 'Projeto de Teste',\n        description: 'Projeto criado para testar a funcionalidade da lista'\n      };\n\n      console.log('ProjectList: creating test project with data:', testProject);\n      const { data, error } = await projects.create(testProject.name, testProject.description);\n      console.log('ProjectList: projects.create response:', { data, error });\n\n      if (error) {\n        console.error('ProjectList: Erro ao criar projeto de teste:', error);\n        setMessage({ type: 'error', text: 'Erro ao criar projeto de teste: ' + error.message });\n      } else {\n        console.log('ProjectList: Projeto de teste criado:', data);\n        setMessage({ type: 'success', text: 'Projeto de teste criado com sucesso!' });\n        // Recarregar a lista\n        await loadProjects();\n      }\n    } catch (error: any) {\n      console.error('ProjectList: Erro ao criar projeto de teste:', error);\n      setMessage({ type: 'error', text: 'Erro ao criar projeto de teste: ' + error.message });\n    }\n  };\n\n  // Estados para edição do nome do projeto\n  const [isEditingName, setIsEditingName] = useState(false);\n  const [editingProjectName, setEditingProjectName] = useState('');\n  const [isUpdatingName, setIsUpdatingName] = useState(false);\n\n  useEffect(() => {\n    console.log('ProjectList: useEffect triggered with user:', user?.id, user?.email);\n    loadProjects();\n  }, [user?.id]); // Mudou para user?.id para evitar re-renders se user object mudar\n\n  // Atualizar view quando showContentSelection muda\n  useEffect(() => {\n    console.log('ProjectList: showContentSelection useEffect triggered:', {\n      showContentSelection,\n      selectedProjectId: selectedProject?.id,\n      currentView: view\n    });\n    setView(showContentSelection ? 'content-selection' : 'list');\n    if (showContentSelection && selectedProject) {\n      setLocalSelectedProject(selectedProject as ProjectWithContent);\n    }\n  }, [showContentSelection, selectedProject?.id]); // Mudou para selectedProject?.id para evitar re-renders\n\n  const loadProjects = React.useCallback(async () => {\n    console.log('ProjectList: loadProjects called');\n    setIsLoading(true);\n    try {\n      console.log('ProjectList: calling projects.list()');\n      const { data, error } = await projects.list();\n      console.log('ProjectList: projects.list() response:', { data, error });\n\n      if (error) {\n        console.error('ProjectList: Error from projects.list():', error);\n        throw error;\n      }\n\n      // Buscar dados reais de conteúdo para cada projeto\n      const projectsWithContent = await Promise.all((data || []).map(async (project) => {\n        try {\n          // Buscar tasks do projeto\n          const { data: projectTasks } = await tasks.list(project.id);\n          const hasTasks = projectTasks && projectTasks.length > 0;\n\n          // Buscar fluxogramas do projeto\n          const { data: projectFlowcharts } = await flowcharts.list(project.id);\n          const hasFlowchart = projectFlowcharts && projectFlowcharts.length > 0;\n\n          // Buscar PRs do projeto\n          const { data: projectPRs } = await pullRequests.list(project.id);\n          const hasPR = projectPRs && projectPRs.length > 0;\n\n          return {\n            ...project,\n            hasPR,\n            hasTasks,\n            hasFlowchart\n          };\n        } catch (err) {\n          console.error(`Erro ao carregar dados do projeto ${project.name}:`, err);\n          // Em caso de erro, assumir que tem conteúdo (fallback)\n          return {\n            ...project,\n            hasPR: true,\n            hasTasks: true,\n            hasFlowchart: true\n          };\n        }\n      }));\n\n      console.log('ProjectList: setting existingProjects:', projectsWithContent);\n      setExistingProjects(projectsWithContent);\n    } catch (error: any) {\n      console.error('ProjectList: Error in loadProjects:', error);\n      setMessage({ type: 'error', text: 'Erro ao carregar projetos: ' + error.message });\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  const handleProjectClick = (project: ProjectWithContent) => {\n    setLocalSelectedProject(project);\n    setView('content-selection');\n  };\n\n  const handleContentSelect = (contentType: 'pr' | 'tasks' | 'flowchart') => {\n    const projectToUse = localSelectedProject || selectedProject;\n    if (projectToUse) {\n      onProjectSelected(projectToUse, contentType);\n    }\n  };\n\n  const startEditingName = () => {\n    const projectToUse = localSelectedProject || selectedProject;\n    if (projectToUse) {\n      setEditingProjectName(projectToUse.name);\n      setIsEditingName(true);\n    }\n  };\n\n  const cancelEditingName = () => {\n    setIsEditingName(false);\n    setEditingProjectName('');\n  };\n\n  const saveProjectName = async () => {\n    const projectToUse = localSelectedProject || selectedProject;\n    if (!projectToUse || !editingProjectName.trim()) return;\n\n    setIsUpdatingName(true);\n    try {\n      const { error } = await projects.update(projectToUse.id, {\n        name: editingProjectName.trim()\n      });\n\n      if (error) throw error;\n\n      // Atualizar o projeto selecionado\n      if (localSelectedProject) {\n        setLocalSelectedProject(prev => prev ? { ...prev, name: editingProjectName.trim() } : null);\n      }\n\n      // Atualizar a lista de projetos\n      setExistingProjects(prev =>\n        prev.map(p => p.id === projectToUse.id ? { ...p, name: editingProjectName.trim() } : p)\n      );\n\n      setMessage({ type: 'success', text: 'Nome do projeto atualizado com sucesso!' });\n      setIsEditingName(false);\n      setEditingProjectName('');\n    } catch (error: any) {\n      setMessage({ type: 'error', text: 'Erro ao atualizar nome do projeto: ' + error.message });\n    } finally {\n      setIsUpdatingName(false);\n    }\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString('pt-BR', {\n      day: '2-digit',\n      month: '2-digit',\n      year: 'numeric'\n    });\n  };\n\n  const handleDeleteProject = async (projectId: string, projectName: string) => {\n    setIsDeleting(true);\n    try {\n      // Primeiro deletar todos os itens associados ao projeto\n      // Tasks\n      const { error: tasksError } = await supabase\n        .from('tasks')\n        .delete()\n        .eq('project_id', projectId);\n\n      if (tasksError) {\n        console.error('Erro ao deletar tasks:', tasksError);\n      }\n\n      // Flowcharts\n      const { error: flowchartsError } = await supabase\n        .from('flowcharts')\n        .delete()\n        .eq('project_id', projectId);\n\n      if (flowchartsError) {\n        console.error('Erro ao deletar flowcharts:', flowchartsError);\n      }\n\n      // Pull Requests\n      const { error: prError } = await supabase\n        .from('pull_requests')\n        .delete()\n        .eq('project_id', projectId);\n\n      if (prError) {\n        console.error('Erro ao deletar pull requests:', prError);\n      }\n\n      // Support Materials\n      const { error: supportError } = await supabase\n        .from('support_materials')\n        .delete()\n        .eq('project_id', projectId);\n\n      if (supportError) {\n        console.error('Erro ao deletar materiais de apoio:', supportError);\n      }\n\n      // Video Extractions\n      const { error: videoError } = await supabase\n        .from('video_extractions')\n        .delete()\n        .eq('project_id', projectId);\n\n      if (videoError) {\n        console.error('Erro ao deletar extrações de vídeo:', videoError);\n      }\n\n      // AI Analyses\n      const { error: aiError } = await supabase\n        .from('ai_analyses')\n        .delete()\n        .eq('project_id', projectId);\n\n      if (aiError) {\n        console.error('Erro ao deletar análises IA:', aiError);\n      }\n\n      // Epics\n      const { error: epicsError } = await supabase\n        .from('epics')\n        .delete()\n        .eq('project_id', projectId);\n\n      if (epicsError) {\n        console.error('Erro ao deletar épicos:', epicsError);\n      }\n\n      // Finalmente deletar o projeto\n      const { error: projectError } = await projects.delete(projectId);\n\n      if (projectError) {\n        throw projectError;\n      }\n\n      setMessage({\n        type: 'success',\n        text: `Projeto \"${projectName}\" e todos os itens associados foram deletados com sucesso!`\n      });\n\n      // Recarregar a lista de projetos\n      await loadProjects();\n      setShowDeleteConfirm(null);\n\n    } catch (error: any) {\n      console.error('Erro ao deletar projeto:', error);\n      setMessage({\n        type: 'error',\n        text: `Erro ao deletar projeto: ${error.message}`\n      });\n    } finally {\n      setIsDeleting(false);\n    }\n  };\n\n  const renderProjectList = () => (\n    <div className=\"max-w-full mx-auto\">\n      {/* Header */}\n      <div className=\"text-center mb-8\">\n        <div className=\"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n          <Folder className=\"w-8 h-8 text-blue-600\" />\n        </div>\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-4\">\n          Meus Projetos\n        </h1>\n        <p className=\"text-lg text-gray-600 mb-6\">\n          Selecione um projeto para visualizar seu conteúdo\n        </p>\n      </div>\n\n      {/* Message */}\n      {message && (\n        <div className={`mb-6 p-4 rounded-lg flex items-center ${\n          message.type === 'success'\n            ? 'bg-green-50 text-green-800 border border-green-200'\n            : 'bg-red-50 text-red-800 border border-red-200'\n        }`}>\n          {message.type === 'success' ? (\n            <CheckCircle className=\"w-5 h-5 mr-3 flex-shrink-0\" />\n          ) : (\n            <AlertCircle className=\"w-5 h-5 mr-3 flex-shrink-0\" />\n          )}\n          {message.text}\n        </div>\n      )}\n\n      <div className=\"grid lg:grid-cols-2 gap-8\">\n        {/* Projetos Existentes */}\n        <div className=\"bg-white rounded-lg shadow-lg p-6\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h2 className=\"text-xl font-semibold text-gray-900\">\n              Projetos Criados\n            </h2>\n            <button\n              onClick={onCreateNewProject}\n              className=\"flex items-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n            >\n              <Plus className=\"w-4 h-4 mr-2\" />\n              Novo Projeto\n            </button>\n          </div>\n\n          {isLoading ? (\n            <div className=\"flex items-center justify-center py-8\">\n              <Loader className=\"w-6 h-6 animate-spin text-blue-600\" />\n              <span className=\"ml-2 text-gray-600\">Carregando projetos...</span>\n            </div>\n          ) : existingProjects.length === 0 ? (\n            <div className=\"text-center py-8\">\n              <Folder className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n                Nenhum projeto encontrado\n              </h3>\n              <p className=\"text-gray-600 mb-4\">\n                Crie seu primeiro projeto para começar\n              </p>\n              <button\n                onClick={onCreateNewProject}\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n              >\n                Criar Primeiro Projeto\n              </button>\n            </div>\n          ) : (\n            <div className=\"space-y-4\">\n              {existingProjects.map((project) => (\n                <div\n                  key={project.id}\n                  onClick={() => handleProjectClick(project)}\n                  className=\"border border-gray-200 rounded-lg p-4 cursor-pointer hover:border-blue-300 hover:bg-blue-50 transition-all\"\n                >\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-start justify-between mb-2\">\n                        <h3 className=\"text-lg font-semibold text-gray-900\">\n                          {project.name}\n                        </h3>\n                        <button\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            setShowDeleteConfirm(project.id);\n                          }}\n                          className=\"text-red-500 hover:text-red-700 p-1 rounded transition-colors\"\n                          title=\"Deletar projeto\"\n                        >\n                          <X className=\"w-4 h-4\" />\n                        </button>\n                      </div>\n                      <p className=\"text-gray-600 mb-3\">\n                        {project.description}\n                      </p>\n                      <div className=\"flex items-center text-sm text-gray-500 mb-3\">\n                        <Calendar className=\"w-4 h-4 mr-1\" />\n                        Criado em {formatDate(project.created_at)}\n                      </div>\n                    </div>\n                    <div className=\"ml-4\">\n                      <Folder className=\"w-8 h-8 text-blue-600\" />\n                    </div>\n                  </div>\n\n                  {/* Indicadores de conteúdo disponível */}\n                  <div className=\"flex items-center space-x-4 text-sm\">\n                    <div className={`flex items-center ${project.hasPR ? 'text-green-600' : 'text-gray-400'}`}>\n                      <FileText className=\"w-4 h-4 mr-1\" />\n                      PR {project.hasPR ? '✓' : '✗'}\n                    </div>\n                    <div className={`flex items-center ${project.hasTasks ? 'text-green-600' : 'text-gray-400'}`}>\n                      <CheckSquare className=\"w-4 h-4 mr-1\" />\n                      Tasks {project.hasTasks ? '✓' : '✗'}\n                    </div>\n                    <div className={`flex items-center ${project.hasFlowchart ? 'text-green-600' : 'text-gray-400'}`}>\n                      <GitBranch className=\"w-4 h-4 mr-1\" />\n                      Fluxograma {project.hasFlowchart ? '✓' : '✗'}\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* Informações e Ações */}\n        <div className=\"space-y-6\">\n          {/* Estatísticas */}\n          <div className=\"bg-white rounded-lg shadow-lg p-6\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">\n              Resumo\n            </h3>\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold text-blue-600\">\n                  {existingProjects.length}\n                </div>\n                <div className=\"text-sm text-gray-600\">Projetos</div>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold text-green-600\">\n                  {existingProjects.filter(p => p.hasPR && p.hasTasks && p.hasFlowchart).length}\n                </div>\n                <div className=\"text-sm text-gray-600\">Completos</div>\n              </div>\n            </div>\n          </div>\n\n          {/* Ações Rápidas */}\n          <div className=\"bg-white rounded-lg shadow-lg p-6\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">\n              Ações Rápidas\n            </h3>\n            <div className=\"space-y-3\">\n              <button\n                onClick={onCreateNewProject}\n                className=\"w-full flex items-center justify-center px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n              >\n                <Plus className=\"w-4 h-4 mr-2\" />\n                Criar Novo Projeto\n              </button>\n              <button\n                onClick={loadProjects}\n                className=\"w-full flex items-center justify-center px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors\"\n              >\n                <Loader className=\"w-4 h-4 mr-2\" />\n                Atualizar Lista\n              </button>\n              <button\n                onClick={createTestProject}\n                className=\"w-full flex items-center justify-center px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors\"\n              >\n                <Plus className=\"w-4 h-4 mr-2\" />\n                Criar Projeto de Teste\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Modal de confirmação de exclusão */}\n      {showDeleteConfirm && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4\">\n            <div className=\"flex items-center mb-4\">\n              <AlertCircle className=\"w-6 h-6 text-red-500 mr-3\" />\n              <h3 className=\"text-lg font-semibold text-gray-900\">\n                Confirmar Exclusão\n              </h3>\n            </div>\n\n            <p className=\"text-gray-600 mb-6\">\n              Tem certeza que deseja deletar este projeto e todos os itens associados?\n              Esta ação não pode ser desfeita.\n            </p>\n\n            <div className=\"flex justify-end space-x-3\">\n              <button\n                onClick={() => setShowDeleteConfirm(null)}\n                className=\"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium\"\n                disabled={isDeleting}\n              >\n                Cancelar\n              </button>\n              <button\n                onClick={() => {\n                  const project = existingProjects.find(p => p.id === showDeleteConfirm);\n                  if (project) {\n                    handleDeleteProject(project.id, project.name);\n                  }\n                }}\n                disabled={isDeleting}\n                className=\"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50 flex items-center\"\n              >\n                {isDeleting ? (\n                  <>\n                    <Loader className=\"w-4 h-4 mr-2 animate-spin\" />\n                    Deletando...\n                  </>\n                ) : (\n                  'Deletar Projeto'\n                )}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n\n  const renderContentSelection = () => {\n    const projectToShow = localSelectedProject || (selectedProject ? selectedProject as ProjectWithContent : null);\n    if (!projectToShow) return null;\n\n    return (\n      <div className=\"max-w-full mx-auto\">\n        {/* Header com navegação */}\n        <div className=\"mb-8\">\n          <button\n            onClick={() => {\n              setView('list');\n              setLocalSelectedProject(null);\n            }}\n            className=\"flex items-center text-blue-600 hover:text-blue-800 mb-4\"\n          >\n            <ArrowLeft className=\"w-4 h-4 mr-2\" />\n            Voltar para Projetos\n          </button>\n\n          <div className=\"text-center\">\n            <div className=\"flex items-center justify-center mb-2\">\n              {isEditingName ? (\n                <div className=\"flex items-center space-x-2\">\n                  <input\n                    type=\"text\"\n                    value={editingProjectName}\n                    onChange={(e) => setEditingProjectName(e.target.value)}\n                    className=\"text-3xl font-bold text-gray-900 bg-white border-2 border-blue-500 rounded px-2 py-1 focus:outline-none focus:border-blue-600\"\n                    autoFocus\n                    onKeyDown={(e) => {\n                      if (e.key === 'Enter') {\n                        saveProjectName();\n                      } else if (e.key === 'Escape') {\n                        cancelEditingName();\n                      }\n                    }}\n                  />\n                  <button\n                    onClick={saveProjectName}\n                    disabled={isUpdatingName || !editingProjectName.trim()}\n                    className=\"p-2 bg-green-500 text-white rounded hover:bg-green-600 disabled:opacity-50\"\n                  >\n                    {isUpdatingName ? <Loader className=\"w-4 h-4 animate-spin\" /> : <Save className=\"w-4 h-4\" />}\n                  </button>\n                  <button\n                    onClick={cancelEditingName}\n                    className=\"p-2 bg-gray-500 text-white rounded hover:bg-gray-600\"\n                  >\n                    <X className=\"w-4 h-4\" />\n                  </button>\n                </div>\n              ) : (\n                <div className=\"flex items-center space-x-2\">\n                  <h1 className=\"text-3xl font-bold text-gray-900\">\n                    {projectToShow.name}\n                  </h1>\n                  <button\n                    onClick={startEditingName}\n                    className=\"p-2 text-gray-400 hover:text-blue-600 transition-colors\"\n                    title=\"Editar nome do projeto\"\n                  >\n                    <Edit className=\"w-5 h-5\" />\n                  </button>\n                </div>\n              )}\n            </div>\n            <p className=\"text-lg text-gray-600\">\n              Selecione o tipo de conteúdo que deseja visualizar\n            </p>\n          </div>\n        </div>\n\n        {/* Opções de conteúdo */}\n        <div className=\"grid md:grid-cols-3 gap-6\">\n          {/* PR - Documento Técnico */}\n          <div\n            onClick={() => handleContentSelect('pr')}\n            className={`bg-white rounded-lg shadow-lg p-6 cursor-pointer transition-all hover:shadow-xl ${\n              projectToShow.hasPR\n                ? 'hover:border-blue-300 hover:bg-blue-50'\n                : 'opacity-50 cursor-not-allowed'\n            }`}\n          >\n            <div className=\"flex items-center justify-center mb-4\">\n              <div className={`w-12 h-12 rounded-full flex items-center justify-center ${\n                projectToShow.hasPR ? 'bg-blue-100 text-blue-600' : 'bg-gray-100 text-gray-400'\n              }`}>\n                <FileText className=\"w-6 h-6\" />\n              </div>\n            </div>\n            <h3 className=\"text-lg font-semibold text-gray-900 text-center mb-2\">\n              Documento Técnico (PR)\n            </h3>\n            <p className=\"text-gray-600 text-center text-sm\">\n              {projectToShow.hasPR\n                ? 'Visualizar o resumo técnico detalhado do projeto'\n                : 'Documento técnico não disponível'\n              }\n            </p>\n          </div>\n\n          {/* Tasks */}\n          <div\n            onClick={() => handleContentSelect('tasks')}\n            className={`bg-white rounded-lg shadow-lg p-6 cursor-pointer transition-all hover:shadow-xl ${\n              projectToShow.hasTasks\n                ? 'hover:border-green-300 hover:bg-green-50'\n                : 'opacity-50 cursor-not-allowed'\n            }`}\n          >\n            <div className=\"flex items-center justify-center mb-4\">\n              <div className={`w-12 h-12 rounded-full flex items-center justify-center ${\n                projectToShow.hasTasks ? 'bg-green-100 text-green-600' : 'bg-gray-100 text-gray-400'\n              }`}>\n                <CheckSquare className=\"w-6 h-6\" />\n              </div>\n            </div>\n            <h3 className=\"text-lg font-semibold text-gray-900 text-center mb-2\">\n              Tasks\n            </h3>\n            <p className=\"text-gray-600 text-center text-sm\">\n              {projectToShow.hasTasks\n                ? 'Gerenciar e visualizar as tarefas do projeto'\n                : 'Tasks não disponíveis'\n              }\n            </p>\n          </div>\n\n          {/* Fluxograma */}\n          <div\n            onClick={() => handleContentSelect('flowchart')}\n            className={`bg-white rounded-lg shadow-lg p-6 cursor-pointer transition-all hover:shadow-xl ${\n              projectToShow.hasFlowchart\n                ? 'hover:border-purple-300 hover:bg-purple-50'\n                : 'opacity-50 cursor-not-allowed'\n            }`}\n          >\n            <div className=\"flex items-center justify-center mb-4\">\n              <div className={`w-12 h-12 rounded-full flex items-center justify-center ${\n                projectToShow.hasFlowchart ? 'bg-purple-100 text-purple-600' : 'bg-gray-100 text-gray-400'\n              }`}>\n                <GitBranch className=\"w-6 h-6\" />\n              </div>\n            </div>\n            <h3 className=\"text-lg font-semibold text-gray-900 text-center mb-2\">\n              Fluxograma\n            </h3>\n            <p className=\"text-gray-600 text-center text-sm\">\n              {projectToShow.hasFlowchart\n                ? 'Visualizar o fluxograma do projeto'\n                : 'Fluxograma não disponível'\n              }\n            </p>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  if (view === 'list') {\n    return renderProjectList();\n  } else {\n    return renderContentSelection();\n  }\n};\n\nexport default ProjectList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}