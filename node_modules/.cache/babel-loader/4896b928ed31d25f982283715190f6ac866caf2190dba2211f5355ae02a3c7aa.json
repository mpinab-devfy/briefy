{"ast":null,"code":"import _objectSpread from\"/Users/matheuspina/Desktop/briefy-new/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useCallback}from'react';import{useDropzone}from'react-dropzone';import{Upload,X,FileText,Video,File}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const getFileIcon=type=>{switch(type){case'md':return/*#__PURE__*/_jsx(FileText,{className:\"w-6 h-6 text-blue-500\"});case'video':return/*#__PURE__*/_jsx(Video,{className:\"w-6 h-6 text-red-500\"});default:return/*#__PURE__*/_jsx(File,{className:\"w-6 h-6 text-gray-500\"});}};const getFileType=fileName=>{var _fileName$split$pop;const extension=(_fileName$split$pop=fileName.split('.').pop())===null||_fileName$split$pop===void 0?void 0:_fileName$split$pop.toLowerCase();switch(extension){case'md':return'md';case'pdf':return'pdf';case'docx':return'docx';case'mp4':case'mov':case'avi':case'mkv':return'video';default:return'md';// Default to markdown\n}};export const FileUpload=_ref=>{let{onFileUpload,onRemoveFile,uploadedFiles}=_ref;const onDrop=useCallback(async acceptedFiles=>{const newFiles=[];for(const file of acceptedFiles){try{const content=await file.text();// Para MVP, apenas texto\nconst documentFile={id:\"\".concat(Date.now(),\"-\").concat(file.name),name:file.name,type:getFileType(file.name),content:content,url:file.type.startsWith('video/')?URL.createObjectURL(file):undefined};newFiles.push(documentFile);}catch(error){console.error('Erro ao processar arquivo:',error);}}onFileUpload(newFiles);},[onFileUpload]);const{getRootProps,getInputProps,isDragActive}=useDropzone({onDrop,accept:{'text/markdown':['.md'],'application/pdf':['.pdf'],'application/vnd.openxmlformats-officedocument.wordprocessingml.document':['.docx'],'video/*':['.mp4','.mov','.avi','.mkv']},maxFiles:10});return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({},getRootProps()),{},{className:\"border-2 border-dashed rounded-lg p-8 text-center transition-colors \".concat(isDragActive?'border-blue-500 bg-blue-50':'border-gray-300 hover:border-gray-400'),children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({},getInputProps())),/*#__PURE__*/_jsx(Upload,{className:\"w-12 h-12 text-gray-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-medium text-gray-700 mb-2\",children:isDragActive?'Solte os arquivos aqui':'Arraste e solte arquivos aqui'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mb-4\",children:\"ou clique para selecionar arquivos\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400\",children:\"Suportados: MD, PDF, DOCX, V\\xEDdeos (MP4, MOV, AVI, MKV)\"})]})),uploadedFiles.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow rounded-lg p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:[\"Arquivos Carregados (\",uploadedFiles.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:uploadedFiles.map(file=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[getFileIcon(file.type),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900\",children:file.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 uppercase\",children:file.type})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onRemoveFile(file.id),className:\"text-red-500 hover:text-red-700 p-1\",children:/*#__PURE__*/_jsx(X,{className:\"w-4 h-4\"})})]},file.id))})]})]});};","map":{"version":3,"names":["React","useCallback","useDropzone","Upload","X","FileText","Video","File","jsx","_jsx","jsxs","_jsxs","getFileIcon","type","className","getFileType","fileName","_fileName$split$pop","extension","split","pop","toLowerCase","FileUpload","_ref","onFileUpload","onRemoveFile","uploadedFiles","onDrop","acceptedFiles","newFiles","file","content","text","documentFile","id","concat","Date","now","name","url","startsWith","URL","createObjectURL","undefined","push","error","console","getRootProps","getInputProps","isDragActive","accept","maxFiles","children","_objectSpread","length","map","onClick"],"sources":["/Users/matheuspina/Desktop/briefy-new/src/components/FileUpload.tsx"],"sourcesContent":["import React, { useCallback } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport { DocumentFile } from '../types';\nimport { Upload, X, FileText, Video, File } from 'lucide-react';\n\ninterface FileUploadProps {\n  onFileUpload: (files: DocumentFile[]) => void;\n  onRemoveFile: (fileId: string) => void;\n  uploadedFiles: DocumentFile[];\n}\n\nconst getFileIcon = (type: string) => {\n  switch (type) {\n    case 'md':\n      return <FileText className=\"w-6 h-6 text-blue-500\" />;\n    case 'video':\n      return <Video className=\"w-6 h-6 text-red-500\" />;\n    default:\n      return <File className=\"w-6 h-6 text-gray-500\" />;\n  }\n};\n\nconst getFileType = (fileName: string): 'md' | 'pdf' | 'docx' | 'video' => {\n  const extension = fileName.split('.').pop()?.toLowerCase();\n  switch (extension) {\n    case 'md':\n      return 'md';\n    case 'pdf':\n      return 'pdf';\n    case 'docx':\n      return 'docx';\n    case 'mp4':\n    case 'mov':\n    case 'avi':\n    case 'mkv':\n      return 'video';\n    default:\n      return 'md'; // Default to markdown\n  }\n};\n\nexport const FileUpload: React.FC<FileUploadProps> = ({\n  onFileUpload,\n  onRemoveFile,\n  uploadedFiles\n}) => {\n  const onDrop = useCallback(async (acceptedFiles: File[]) => {\n    const newFiles: DocumentFile[] = [];\n\n    for (const file of acceptedFiles) {\n      try {\n        const content = await file.text(); // Para MVP, apenas texto\n        const documentFile: DocumentFile = {\n          id: `${Date.now()}-${file.name}`,\n          name: file.name,\n          type: getFileType(file.name),\n          content: content,\n          url: file.type.startsWith('video/') ? URL.createObjectURL(file) : undefined\n        };\n        newFiles.push(documentFile);\n      } catch (error) {\n        console.error('Erro ao processar arquivo:', error);\n      }\n    }\n\n    onFileUpload(newFiles);\n  }, [onFileUpload]);\n\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\n    onDrop,\n    accept: {\n      'text/markdown': ['.md'],\n      'application/pdf': ['.pdf'],\n      'application/vnd.openxmlformats-officedocument.wordprocessingml.document': ['.docx'],\n      'video/*': ['.mp4', '.mov', '.avi', '.mkv']\n    },\n    maxFiles: 10\n  });\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Upload Area */}\n      <div\n        {...getRootProps()}\n        className={`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${\n          isDragActive\n            ? 'border-blue-500 bg-blue-50'\n            : 'border-gray-300 hover:border-gray-400'\n        }`}\n      >\n        <input {...getInputProps()} />\n        <Upload className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\n        <p className=\"text-lg font-medium text-gray-700 mb-2\">\n          {isDragActive ? 'Solte os arquivos aqui' : 'Arraste e solte arquivos aqui'}\n        </p>\n        <p className=\"text-sm text-gray-500 mb-4\">\n          ou clique para selecionar arquivos\n        </p>\n        <p className=\"text-xs text-gray-400\">\n          Suportados: MD, PDF, DOCX, VÃ­deos (MP4, MOV, AVI, MKV)\n        </p>\n      </div>\n\n      {/* Uploaded Files List */}\n      {uploadedFiles.length > 0 && (\n        <div className=\"bg-white shadow rounded-lg p-6\">\n          <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\n            Arquivos Carregados ({uploadedFiles.length})\n          </h3>\n          <div className=\"space-y-3\">\n            {uploadedFiles.map((file) => (\n              <div\n                key={file.id}\n                className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\"\n              >\n                <div className=\"flex items-center space-x-3\">\n                  {getFileIcon(file.type)}\n                  <div>\n                    <p className=\"text-sm font-medium text-gray-900\">{file.name}</p>\n                    <p className=\"text-xs text-gray-500 uppercase\">{file.type}</p>\n                  </div>\n                </div>\n                <button\n                  onClick={() => onRemoveFile(file.id)}\n                  className=\"text-red-500 hover:text-red-700 p-1\"\n                >\n                  <X className=\"w-4 h-4\" />\n                </button>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}